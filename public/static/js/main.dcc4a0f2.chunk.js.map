{"version":3,"sources":["store/station.reducer.js","store/user.reducer.js","store/friend.reducer.js","store/store.js","assets/img/gramophone-svgrepo-com.svg","services/event-bus.service.js","cmps/main-nav.jsx","cmps/layout/MainLayout.jsx","services/storage.service.js","services/util.service.js","services/data.js","services/http.service.js","services/station.service.js","services/socket.service.js","services/user.service.js","store/user.actions.js","services/async-storage.service dont delete.js","store/station.actions.js","assets/img/play.svg","assets/img/musicLa.svg","cmps/trackByUser-preview.jsx","cmps/trackByUsers.jsx","pages/friends.jsx","cmps/favorite-artists.jsx","assets/img/stationImg.jpg","cmps/station-preview.jsx","assets/img/loader.svg","cmps/Loading.jsx","cmps/login-signup-form.jsx","cmps/profile.jsx","pages/Home.jsx","assets/img/heart-regular.svg","cmps/track-preview.jsx","assets/img/isPlaying.gif","cmps/draggable-track-preview.jsx","cmps/draggable-track-list.jsx","assets/img/mood-search.jpg","assets/img/pop-search.jpg","assets/img/chill-search.jpg","assets/img/summer-search.jpeg","assets/img/latin-search.jpg","assets/img/jazz-search.jpg","assets/img/indie-search.jpg","assets/img/wellness-search.jpg","assets/img/sleep-search.jpg","assets/img/decades-search.jpg","assets/img/workout-search.jpg","assets/img/party-search.jpg","assets/img/focus-search.jpg","assets/img/alternativ-search.jpg","assets/img/travel-search.jpg","assets/img/soul-search.jpg","assets/img/funk-search.jpg","assets/img/metal-search.jpg","assets/img/classical-search.jpg","assets/img/blues-search.jpg","cmps/trackList.jsx","cmps/searchResultTrack.jsx","cmps/searchResultStation.jsx","cmps/searchResultStationDetails.jsx","services/youtubeApi.service.js","pages/search.jsx","pages/station-details.jsx","pages/queue.jsx","assets/img/enter.png","pages/signin.jsx","assets/img/user.png","pages/signup.jsx","cmps/liked-songs-preview.jsx","pages/stations.jsx","assets/img/gramophone.png","pages/user-pref.jsx","routes.js","cmps/app-footer.jsx","store/friends.actions.js","cmps/create-playlist.jsx","assets/img/ringing.png","cmps/user-msg.jsx","root-cmp.jsx","serviceWorkerRegistration.js","index.js"],"names":["initialState","stations","queue","playNextQueue","currTrack","isPlaying","playedStation","currStation","user","users","trackAndUsers","notificationMsg","rootReducer","combineReducers","stationMoudle","state","action","newState","newQueue","newPlayNextQueue","nextTrack","type","track","nextQueue","splice","idx","push","findIndex","id","befores","shift","concat","stationId","length","pop","unshift","station","newStation","userMoudle","count","diff","filter","_id","userId","map","stationOrTrack","likedStations","trackId","likedTracks","currStationId","userPref","recentlyPlayedStations","recentlyPlayedSongs","friendMoudle","currLoginUser","following","includes","trackAndUser","trackAndUserIdx","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showNotificationMsg","showErrorMsg","myBus","_MainNav","props","handleClick","linkId","a","isMenuOpen","toggleMenu","setState","activLink","setSelectedStationId","prevState","selectedStationId","newIsMenuOpen","links","name","to","fa","prevProps","this","className","onClick","bind","src","logo","alt","link","genre","React","Component","MainNav","connect","ownProps","MainLayout","children","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","removeFromStorage","removeItem","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","Duration","seconds","dateTime","round","format","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","pad","getUTCSeconds","string","slice","Axios","create","withCredentials","axios","BASE_URL","stationServiceNew","query","getStationById","searchStation","saveStation","stationToEdit","_updateStation","_addStation","getStationByGenre","getStationFromLocal","getStationsByUser","getGoodDay","getHot","filterBy","get","params","res","userService","getLoggedinUser","console","log","storageService","find","post","put","keySearch","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","review","getUserById","addLikeToTrack","removeLikeFromTrack","AddToRecentlyPlayed","setUserPref","isGuest","updateUser","signup","login","logout","getUsers","STORAGE_KEY","URL","userToSave","credentials","removed","username","_saveUserToStorage","updatedUser","some","stationIdx","stationToUpdate","userIdliked","createdBy","currUser","stationName","likedByUsers","likedByUser","currTrackId","loadUser","dispatch","loadUsers","onLogin","onSignup","onLogout","gStations","guestService","Promise","resolve","deleteStation","_saveStationsToStorage","getNextStationId","nextStationIdx","searchTrack","addToStation","removeFromStation","getStationByTag","keySerch","tags","KEY","songCache","_createStation","idxs","items","videoId","join","duration","contentDetails","trackResult","title","snippet","imgUrl","thumbnails","high","url","songs","tagName","playlistId","ganer","fullname","resourceId","all","loadStations","guestStations","setCurrTrack","err","setQueue","addToNextQueue","newTrack","toggleIsPlaying","setPlay","setCurrStation","_createStations","_PrackByUserPreview","playTrack","usersImgs","imgObj","currUserId","musicLa","play","mapDispatchToProps","PrackByUserPreview","_TrackByUsers","userImg","getCurrTrack","traclANdUser","TrackByUsers","_Friends","require","onFollow","filterUsers","toUpperCase","handleChange","target","value","userIdToFollow","isFollow","img","onChange","placeholder","style","userToUpdate","Friends","FavoriteArtists","artists","artist","_StationPreview","playRandTrack","navigateToStation","history","stationImg","e","stopPropagation","reduce","songStr","song","__StationPreview","StationPreview","withRouter","Loading","loader","margin","LoginSignupForm","responseFacebook","response","newCredentials","email","password","userID","facebookUserId","picture","onSubmit","ps","handleSubmit","preventDefault","resetCredentials","handleClose","closeForm","handleSignIn","isLogin","handleLogin","_UserPrifile","loginOrSignup","isLoggedIn","getInitialCredentials","setLoginOrSignup","facebookComponentClicked","menuButton","UserProfile","_Home","goodDayStations","hotStations","numOfPreviews","handleRisize","entries","viewPortWidth","contentRect","width","getTime","curHr","getHours","getLikedStation","unresolvedPromisesLike","unresolvedPromisesStation","b","results","resizer","ResizeObserver","observe","document","querySelector","Home","_TrackPreview","isLike","componentDidMount","getTimeFromDuration","hours","minutes","replace","indexOf","hours_split","split","parseInt","minutes_split","seconds_split","str","onAddToStation","onRemoveFromStation","trackIdx","loadStation","trackFromQueue","toggleLike","ev","isOnDeatils","heartNotChecked","label","TrackPreview","DraggableTrackPreview","SortableElement","DraggableTrackList","SortableContainer","index","TrackList","SearchResultTrack","onAddToNextQueue","SearchResultStation","stationResult","SearchResultStationDetails","youtubeApiService","default","_","_Search","isOnSearch","delayedHandleChange","debounce","stationResultApi","result","moveScrollDwon","homePage","scrollTop","scrollHeight","onPlayTrack","backgroundColor","chill","party","focus","alternativ","summer","indie","latin","wellness","sleep","decades","workout","travel","soul","jazz","funk","mood","metal","classical","blues","Search","_StationDetails","isFindMore","isShowAll","match","onSortEnd","oldIndex","newIndex","arrayMoveImmutable","handleToggleLike","stationToSave","handleFindMore","moveSrollDown","fontSize","axis","distance","StationDetails","_Queue","body","backgroundImage","Queue","Copyright","Typography","variant","color","align","Link","href","getFullYear","theme","createTheme","_Signin","isAdmin","clearState","clearTemplate","field","loginUser","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","height","enter","noValidate","mt","TextField","required","fullWidth","autoComplete","FormControlLabel","control","Checkbox","Button","mb","Grid","container","item","xs","_Signup","isSignup","spacing","sm","autoFocus","justifyContent","_LikedSongsPreview","__LikedSongsPreview","LikedSongsPreview","_Stations","getLikedSongsStation","likedSongsStation","Stations","_UserPref","selectArtist","parentElement","classList","contains","add","onError","onerror","class","routes","path","_AppFooter","volume","isPlayedTrack","played","loaded","inQueue","isShuffle","isLiked","isTrackLiked","event","newValue","randIdx","togglePlay","isLoaded","handleSeekMouseDown","seeking","handleSeekChange","parseFloat","handleSeekMouseUp","player","seekTo","handleProgress","handleDuration","ref","goNext","playNextTrack","goShuffle","unshuffleQueue","shuffleQueue","goPrev","playPrevTrack","handleEnded","goBack","onGoToplaylist","obj","setFriendCurrTrack","prevstate","playing","onDuration","onProgress","heigth","step","onMouseDown","onMouseUp","Stack","direction","Slider","j","temp","playedStationId","__AppFooter","AppFooter","_CreateStation","isCreate","labelOptions","Array","isArray","option","onAddStation","addStation","closeMenuOnSelect","options","isMulti","tag","background","CreateStation","UserMsg","msg","removeEvent","setTimeout","msgClass","ringing","RootCmp","route","exact","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","getElementById","process","origin","fetch","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.dcc4a0f2.chunk.js","sourcesContent":["const initialState = {\r\n    stations: [],\r\n    queue: [],\r\n    playNextQueue: [],\r\n    currTrack: null,\r\n    isPlaying: false,\r\n    playedStation: null,\r\n    currStation: null\r\n}\r\nexport function stationReducer(state = initialState, action) {\r\n    var newState = state\r\n    const newQueue = [...state.queue]\r\n    const newPlayNextQueue = [...state.playNextQueue]\r\n    let nextTrack = {}\r\n    switch (action.type) {\r\n        case 'SET_STATIONS':\r\n            newState = { ...state, stations: action.stations }\r\n            break\r\n        case 'SET_CURR_TRACK':\r\n            if (action.track.nextQueue) {\r\n                if (state.currTrack) newPlayNextQueue.splice(action.idx, 1)\r\n            }\r\n            if (!state.currTrack?.nextQueue) {\r\n                newQueue.push(state.currTrack)\r\n            }\r\n            newState = { ...state, currTrack: action.track, queue: newQueue, playNextQueue: newPlayNextQueue }\r\n            break\r\n        case 'SET_QUEUE':\r\n            let idx = action.queue.findIndex((track) => state.currTrack.id === track.id)\r\n            const befores = action.queue.splice(0, idx)\r\n            action.queue.shift()\r\n            action.queue = action.queue.concat(befores)\r\n            newState = { ...state, queue: action.queue, playedStation: action.stationId };\r\n            break\r\n        case 'ADD_TO_NEXT_QUEUE':\r\n            if (!state.currTrack) {\r\n                newState = { ...state, currTrack: action.track };\r\n                break\r\n            }\r\n            newPlayNextQueue.push(action.track)\r\n            newState = { ...state, playNextQueue: newPlayNextQueue };\r\n            break\r\n        case 'SHUFFLE_QUEUE':\r\n            newState = { ...state, queue: action.queue };\r\n            break\r\n        case 'TOGGLE_ISPLAYING':\r\n            newState = { ...state, isPlaying: !state.isPlaying };\r\n            break\r\n        case 'SET_PLAY':\r\n            newState = { ...state, isPlaying: true };\r\n            break\r\n        case 'NEXT_TRACK':\r\n            if (state.playNextQueue.length > 0) {\r\n                nextTrack = newPlayNextQueue.shift();\r\n\r\n            } else {\r\n                nextTrack = newQueue.shift();\r\n            }\r\n            if (!state.currTrack.nextQueue) newQueue.push(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n                playNextQueue: newPlayNextQueue\r\n            };\r\n\r\n            break\r\n        case 'PREV_TRACK':\r\n            nextTrack = newQueue.pop();\r\n            newQueue.unshift(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n            };\r\n            break\r\n        case 'SET_CURR_STATION':\r\n            newState = { ...state, currStation: action.station }\r\n            break;\r\n        case 'ADD_STATION':\r\n            newState = { ...state, stations: [...state.stations, action.newStation] };\r\n            break\r\n        // case ''\r\n        default:\r\n    }\r\n    return newState\r\n\r\n}\r\n","\r\nconst initialState = {\r\n    //user: userService.getLoggedinUser(),\r\n    user: null,\r\n    users: [],\r\n}\r\n\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: { ...action.user } }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: [...action.users] }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            let users = state.users.map(user => (user._id === action.user._id) ? action.user : user);\r\n            newState = { ...state, users, user: { ...action.user } }\r\n            break;\r\n        case 'ADD_LIKE_TO_TRACK':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, likedStations: [...state.user.likedStations, action.trackId] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, likedTracks: [...state.user.likedTracks, action.trackId] } }\r\n            }\r\n            break;\r\n        case 'REMOVE_LIKE_FROM_TRACK':\r\n\r\n            if (action.stationOrTrack === 'station') {\r\n                var likedStations = state.user.likedStations.filter(currStationId => currStationId !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedStations: likedStations } }\r\n            }\r\n            else {\r\n                var likedTracks = state.user.likedTracks.filter(currTrack => currTrack.id !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedTracks: likedTracks } }\r\n            }\r\n            break;\r\n        case 'SET_USERֹ_PREF':\r\n            newState = { ...state, user: { ...state.user, userPref: action.userPref } }\r\n            break;\r\n        case 'ADD_TO_RECENTLY_PLAYED':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedStations: [...state.user.recentlyPlayedStations, action.track] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedSongs: [...state.user.recentlyPlayedSongs, action.track] } }\r\n            }\r\n            break;\r\n        default:\r\n\r\n    }\r\n    return newState;\r\n\r\n}\r\n\r\n","const initialState = {\r\n    trackAndUsers: [],\r\n    notificationMsg: []\r\n}\r\nexport function friendReducer(state = initialState, action) {\r\n    var newState = state;\r\n\r\n    switch (action.type) {\r\n        case 'SET_FRIEND_CURR_TRACK':\r\n            if (!action.currLoginUser.following?.length) return []\r\n            else {\r\n                if (!action.currLoginUser.following.includes(action.user._id)) {\r\n                    let trackAndUsers = state.trackAndUsers.filter(trackAndUser => trackAndUser.user._id !== action.user._id)\r\n                    newState = { ...state, trackAndUsers }\r\n                    break\r\n                }\r\n            }\r\n            const trackAndUserIdx = state.trackAndUsers.findIndex(trackAndUser => trackAndUser.user._id === action.user._id)\r\n            if (trackAndUserIdx !== -1) {\r\n                let trackAndUsers = [...state.trackAndUsers];\r\n                let trackAndUser = { ...trackAndUsers[trackAndUserIdx] };\r\n                trackAndUser.track = action.track;\r\n                trackAndUsers[trackAndUserIdx] = trackAndUser\r\n                newState = { ...state, trackAndUsers }\r\n            }\r\n            else {\r\n                newState = { ...state, trackAndUsers: [...state.trackAndUsers, ({ track: action.track, user: {...action.user} })] }\r\n            }\r\n            break\r\n    }\r\n    return newState\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stationReducer } from './station.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { friendReducer } from './friend.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    stationMoudle: stationReducer,\r\n    userMoudle: userReducer,\r\n    friendMoudle: friendReducer,\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/gramophone-svgrepo-com.db7a0ac8.svg\";","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showNotificationMsg(txt) {\r\n    showUserMsg(txt, 'notification')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\nimport { eventBusService } from '../services/event-bus.service'\r\n\r\nclass _MainNav extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      links: [\r\n        {\r\n          id: 1,\r\n          name: \"Home\",\r\n          to: \"/\",\r\n          fa: 'fa-home'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Search\",\r\n          to: \"/search\",\r\n          fa: 'fa-search'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"My Stations\",\r\n          to: \"/stations\",\r\n          fa: 'fa-library'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Liked Songs\",\r\n          to: \"/station/likedTracks\",\r\n          fa: 'fa-heart'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Friends\",\r\n          to: \"/friends\",\r\n          fa: 'fa-user-friends'\r\n        }\r\n      ],\r\n      activLink: 1,\r\n      selectedStationId: null,\r\n      isMenuOpen: false\r\n\r\n    }\r\n\r\n    // Methods Binding:\r\n    // this.toggleMenu = this.toggleMenu.bind(this)\r\n\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(prevProps.stations?.length!==this.props.stations?.length){\r\n      this.setState(prevState=>({...prevState}))\r\n    }\r\n  }\r\n\r\n  handleClick = async (linkId) => {\r\n    if (this.state.isMenuOpen)\r\n      await this.toggleMenu(!this.state.isMenuOpen)\r\n    this.setState({ activLink: linkId })\r\n  }\r\n\r\n  setSelectedStationId = (stationId) => {\r\n    this.setState(prevState => ({ ...prevState, selectedStationId: stationId }))\r\n  }\r\n\r\n  toggleMenu = async (newIsMenuOpen) => {\r\n    // console.log('newIsMenuOpen', newIsMenuOpen);\r\n    this.setState({ isMenuOpen: newIsMenuOpen })\r\n  }\r\n\r\n  render() {\r\n    const { stations } = this.props\r\n    const { activLink, links, selectedStationId, isMenuOpen } = this.state\r\n    if (!links) {\r\n      return <div>loading.</div>\r\n    }\r\n    return (\r\n      <>\r\n        {/* {isMenuOpen && <div className=\"screen\" onClick={this.toggleMenu.bind(this, !isMenuOpen)}></div>} */}\r\n        <div className=\"hamburger-wrapper\">\r\n          <div className={`hamburger ${isMenuOpen ? \"active\" : \"\"}`} onClick={this.toggleMenu.bind(this, !isMenuOpen)}>\r\n            <div></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <nav className={isMenuOpen ? 'main-nav active' : 'main-nav'}>\r\n\r\n          <Link to='/Home'>\r\n            <div className=\"banner\">\r\n              {/* src\\assets\\img */}\r\n              <div className=\"logo-img-container\">\r\n                <img src={logo} alt=\"\" />\r\n              </div>\r\n              <h4>Lotify\r\n                <span>.</span>\r\n              </h4>\r\n            </div>\r\n          </Link>\r\n          <ul className=\"primary-nav\">\r\n            {/* {links.map(link => {\r\n              return <li key={link.id} onClick={() => this.handleClick(link.id)} className={link.id === activLink ? 'active' : ''}> */}\r\n            {links.map(link => {\r\n              return <li key={link.id} onClick={this.handleClick.bind(this, link.id)} className={link.id === activLink ? 'active' : ''}>\r\n\r\n                <NavLink to={link.to}>\r\n                  <span className={`nav-icon fas ${link.fa}`}></span>\r\n                  {link.name}</NavLink>\r\n              </li>\r\n            })}\r\n            <li onClick={() => { eventBusService.emit(\"create-playlist\") }} className=\"nav-create\">\r\n              <a>\r\n                <span className=\"nav-icon fas fa-plus-square\"></span>\r\n                Create Playlist\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"stations\">\r\n            {\r\n              stations.map(station => {\r\n                if(station.genre!==\"likedTracks\")\r\n                return <li key={station._id} onClick={() => this.setSelectedStationId(station._id)}>\r\n                  <NavLink to={`/station/${station._id}`}\r\n                    className={selectedStationId === station._id ? 'station-link selected-station' : 'station-link'}>\r\n                    {station.name}\r\n                  </NavLink></li>\r\n              })\r\n            }\r\n\r\n          </ul>\r\n        </nav>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nexport const MainNav = connect(mapStateToProps)(_MainNav)","export const MainLayout = ({ children }) => {\r\n     return <div className=\"main-container\">\r\n         {children}\r\n     </div>\r\n\r\n}","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n    localStorage.removeItem(key) \r\n}\r\n\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage,\r\n    removeFromStorage\r\n\r\n}","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\n\r\nexport function Duration({ className, seconds }) {\r\n    return (\r\n        <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n            {format(seconds)}\r\n        </time>\r\n    )\r\n}\r\n\r\nfunction format(seconds) {\r\n    const date = new Date(seconds * 1000)\r\n    const hh = date.getUTCHours()\r\n    const mm = date.getUTCMinutes()\r\n    const ss = pad(date.getUTCSeconds())\r\n    if (hh) {\r\n        return `${hh}:${pad(mm)}:${ss}`\r\n    }\r\n    return `${mm}:${ss}`\r\n}\r\n\r\nfunction pad(string) {\r\n    return ('0' + string).slice(-2)\r\n}\r\n\r\n\r\n","export const gPlaylists =\r\n    [\r\n        {\r\n            \"_id\": \"likedTracks\",\r\n            \"name\": \"Liked Songs\",\r\n            \"tags\": [],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\",\r\n            },\r\n            \"songs\": []\r\n        },\r\n        {\r\n            \"_id\": \"5c08\",\r\n            \"name\": \"arctic monkeys\",\r\n            \"tags\": [\"Funk\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"bpOSxM0rNPM\",\r\n                    \"title\": \"Arctic Monkeys - Do I Wanna Know?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/bpOSxM0rNPM/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M26S\"\r\n                },\r\n                {\r\n                    \"id\": \"6366dxFf-Os\",\r\n                    \"title\": \"Arctic Monkeys - Why`d You Only Call Me When You`re High?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/6366dxFf-Os/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M49S\"\r\n                },\r\n                {\r\n                    \"id\": \"VQH8ZTgna3Q\",\r\n                    \"title\": \"Arctic Monkeys - R U Mine?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/VQH8ZTgna3Q/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M44S\"\r\n                },\r\n                {\r\n                    \"id\": \"ma9I9VBKPiw\",\r\n                    \"title\": \"Arctic Monkeys - Fluorescent Adolescent\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M16S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"5c10\",\r\n            \"name\": \"chill\",\r\n            \"tags\": [\"Chill\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"MPbUaIZAaeA\",\r\n                    \"title\": \"Shawn Mendes, Justin Bieber - Monster\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/MPbUaIZAaeA/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M4S\"\r\n                },\r\n                {\r\n                    \"id\": \"tcYodQoapMg\",\r\n                    \"title\": \"Ariana Grande - positions (official video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/tcYodQoapMg/hqdefault.jpg\",\r\n                    \"duration\": \"PT2M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"U05fwua9-D4\",\r\n                    \"title\": \"Maroon 5 - Lost (Official Music Video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/U05fwua9-D4/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M8S\"\r\n                },\r\n                {\r\n                    \"id\": \"iX-QaNzd-0Y\",\r\n                    \"title\": \"Milky Chance - Stolen Dance\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M14S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n\r\n            \"_id\": \"5n250\",\r\n            \"name\": \"Rap\",\r\n            \"tags\": [\"rap\", \"beat\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"Yhyp-_hX2s\",\r\n                    \"title\": \"Eminem - Lose Yourself\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/_Yhyp-_hX2s/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M24S\"\r\n                },\r\n                {\r\n                    \"id\": \"YVkUvmDQ3HY\",\r\n                    \"title\": \"Eminem - Without Me\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/YVkUvmDQ3HY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"j5-yKhDd64s\",\r\n                    \"title\": \"Eminem - Not Afraid\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/j5-yKhDd64s/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M19S\"\r\n                },\r\n                {\r\n                    \"id\": \"XbGs_qK2PQA\",\r\n                    \"title\": \"Eminem - Rap God \",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/XbGs_qK2PQA/hqdefault.jpg\",\r\n                    \"duration\": \"PT6M10S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"p201\",\r\n            \"name\": \"shlomo artzi\",\r\n            \"tags\": [\"Israeli music\", \"Shlomo Artzi\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"puki ben david\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n\r\n                {\r\n                    \"id\": \"TWtbHxQMTqc\",\r\n                    \"title\": \"Shlomo Artzi - Menagev Lach Et Hadmaot (with subtitle)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/TWtbHxQMTqc/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M9S\"\r\n                },\r\n                {\r\n                    \"id\": \"fNThHjoimrY\",\r\n                    \"title\": \"שלמה ארצי - אבסורד\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/fNThHjoimrY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M2S\"\r\n                },\r\n                {\r\n                    \"id\": \"sDRSs2rrZ8o\",\r\n                    \"title\": \"שלמה ארצי - ירח (קליפ)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/sDRSs2rrZ8o/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M30S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"pop\",\r\n            \"name\": \"Top POP Hits 2021 – Biggest Pop Music Videos - Vevo\",\r\n            \"tags\": [\"pop\"],\r\n            \"createdBy\": { \"_id\": \"u101\", \"fullname\": \"app\", \"imgUrl\": \"http://some-photo\" },\r\n            \"songs\": [{ \"id\": \"XXYlFuWEuKI\", \"title\": \"The Weeknd - Save Your Tears (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/XXYlFuWEuKI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"RsEZmictANA\", \"title\": \"Taylor Swift - willow (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/RsEZmictANA/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"l0U7SxXHkPY\", \"title\": \"Future - Life Is Good (Official Music Video) ft. Drake\", \"imgUrl\": \"https://i.ytimg.com/vi/l0U7SxXHkPY/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"BSzSn-PRdtI\", \"title\": \"Maroon 5 - Beautiful Mistakes ft. Megan Thee Stallion (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/BSzSn-PRdtI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"TUVcZfQe-Kw\", \"title\": \"Dua Lipa - Levitating Featuring DaBaby (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/TUVcZfQe-Kw/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"6swmTBVI83k\", \"title\": \"Lil Nas X - MONTERO (Call Me By Your Name) (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/6swmTBVI83k/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"ssq6X6alZ3w\", \"title\": \"Ariana Grande - 34+35 (Remix) ft. Doja Cat, Megan Thee Stallion\", \"imgUrl\": \"https://i.ytimg.com/vi/ssq6X6alZ3w/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"r4P-WOOUPk4\", \"title\": \"Little Mix - Sweet Melody (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/r4P-WOOUPk4/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"tQ0yjYUFKAE\", \"title\": \"Justin Bieber - Peaches ft. Daniel Caesar, Giveon\", \"imgUrl\": \"https://i.ytimg.com/vi/tQ0yjYUFKAE/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"vMLk_T0PPbk\", \"title\": \"Black Eyed Peas, Shakira - GIRL LIKE ME (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/vMLk_T0PPbk/hqdefault.jpg\", \"duration\": \"PT4M26S\" }]\r\n        }\r\n    ]\r\n\r\n\r\n","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : 'http://localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http.service.js'\r\nimport Axios from 'axios'\r\nimport storageService from './storage.service.js';\r\nimport { userService } from './user.service.js';\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV === 'production')\r\n    ? '/api/station'\r\n    : 'http://localhost:3030/api/station';\r\n\r\nexport const stationServiceNew = {\r\n    query,\r\n    getStationById,\r\n    searchStation,\r\n    saveStation,\r\n    getStationByGenre,\r\n    getStationFromLocal,\r\n    getStationsByUser,\r\n    getGoodDay,\r\n    getHot\r\n}\r\n\r\nasync function query(filterBy = {}) {\r\n    //const res = await axios.get('http://localhost:3030/api/toy', { params: filterBy })\r\n    const res = await axios.get(`${BASE_URL}`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function getGoodDay() {\r\n    const res = await axios.get(`${BASE_URL}/goodDay`)\r\n    return res.data\r\n}\r\n\r\nasync function getHot() {\r\n    const res = await axios.get(`${BASE_URL}/hot`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationsByUser() {\r\n    const user = await userService.getLoggedinUser()\r\n    const res = await axios.get(`${BASE_URL}/station/${user._id}`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationById(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/${stationId}`)\r\n    console.log(\"🚀 ~ file: station.service.js ~ line 51 ~ getStationById ~ res.data\", res.data)\r\n    return res.data\r\n}\r\n\r\nasync function getStationFromLocal(stationId) {\r\n    const stations = await storageService.loadFromStorage('stations')\r\n    return stations.find((station) => station._id === stationId)\r\n}\r\n\r\nasync function getStationByGenre(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/genre/${stationId}`)\r\n    return res.data\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\nasync function _addStation(stationToEdit) {\r\n    const res = await axios.post(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\nasync function _updateStation(stationToEdit) {\r\n    const res = await axios.put(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\n\r\nasync function searchStation(keySearch) {\r\n    const stations = await query({ keySearch })\r\n    return stations\r\n}\r\n\r\n\r\n\r\n\r\n    //async function remove(toyId) {\r\n    //    await axios.delete(`${BASE_URL}/${toyId}`)\r\n    //}\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  console.log('Review about me!', review);\r\n})\r\n\r\n","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\nimport { gPlaylists } from \"./data\";\r\nimport Axios from 'axios'\r\nimport { update } from 'lodash';\r\nimport { stationServiceNew } from './station.service';\r\nimport { socketService } from '../services/socket.service'\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    getUserById,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    AddToRecentlyPlayed,\r\n    setUserPref,\r\n    isGuest,\r\n    updateUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    getUsers\r\n}\r\nconst STORAGE_KEY = \"user\"\r\nconst URL = (process.env.NODE_ENV === 'production') ?\r\n    '/api' :\r\n    'http://localhost:3030/api';\r\n\r\n\r\nasync function signup(user) {\r\n    let userToSave = await axios.post(`${URL}/auth/signup`, user)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function login(credentials) {\r\n    let userToSave = await axios.post(`${URL}/auth/login`, credentials)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function logout() {\r\n    const removed = await axios.post(`${URL}/auth/logout`)\r\n    storageService.removeFromStorage(STORAGE_KEY)\r\n    return removed\r\n}\r\n\r\n\r\nasync function updateUser(user) {\r\n    if (user.username !== \"guest\") {\r\n        let updatedUser = await axios.put(`${URL}/user/${user._id}`, user)\r\n        _saveUserToStorage(updatedUser.data)\r\n        return updatedUser.data\r\n\r\n    }\r\n    else {\r\n        _saveUserToStorage(user)\r\n        return user\r\n    }\r\n\r\n}\r\nasync function AddToRecentlyPlayed(track, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'track') {\r\n        let recentlyPlayedSongs = user.recentlyPlayedSongs\r\n        if (!recentlyPlayedSongs.length < 10)\r\n            recentlyPlayedSongs = recentlyPlayedSongs.slice(Math.max(recentlyPlayedSongs.length - 9, 0))\r\n        recentlyPlayedSongs.unshift(track)\r\n        user.recentlyPlayedSongs = recentlyPlayedSongs\r\n    }\r\n    else {\r\n        if (!track || track === null) return\r\n        let recentlyPlayedStations = user.recentlyPlayedStations\r\n        if (recentlyPlayedStations.some(stationIdx => stationIdx === track)) return\r\n        if (!recentlyPlayedStations.length < 10)\r\n            recentlyPlayedStations = recentlyPlayedStations.slice(Math.max(recentlyPlayedStations.length - 9, 0))\r\n\r\n        recentlyPlayedStations.unshift(track)\r\n        user.recentlyPlayedStations = recentlyPlayedStations\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function getLoggedinUser() {\r\n    let user = storageService.loadFromStorage(STORAGE_KEY)\r\n    console.log(user);\r\n    if (!user) {\r\n        await login({ username: \"guest\" })\r\n        getLoggedinUser()\r\n    }\r\n    return user\r\n}\r\n\r\nasync function isGuest() {\r\n    const user = await getLoggedinUser()\r\n    return user.username === \"guest\"\r\n}\r\n\r\nasync function addLikeToTrack(trackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        user.likedStations.unshift(trackId)\r\n        let stationToUpdate = await stationServiceNew.getStationFromLocal(trackId)//search in local storage\r\n        if (!stationToUpdate)\r\n            if (trackId.length === 24) {\r\n                stationToUpdate = await stationServiceNew.getStationById(trackId)\r\n                console.log('got by id', stationToUpdate);\r\n            } else {\r\n                stationToUpdate = await stationServiceNew.getStationByGenre(trackId)\r\n                console.log('got by genre', stationToUpdate);\r\n            }\r\n            console.log(\"🚀 ~ file: user.service.js ~ line 120 ~ addLikeToTrack ~ stationToUpdate\", stationToUpdate)\r\n            socketService.emit('add like', { userIdliked: stationToUpdate.createdBy.id, currUser: user, stationName: stationToUpdate.name })\r\n\r\n        if (!stationToUpdate.likedByUsers) stationToUpdate.likedByUsers = []\r\n        if (!stationToUpdate.likedByUsers.some(likedByUser => likedByUser.id === user._id)) {\r\n            stationToUpdate.likedByUsers.push({ username: user.username, id: user._id })\r\n            await stationServiceNew.saveStation(stationToUpdate)\r\n        }\r\n    }\r\n    else {\r\n        user.likedTracks.unshift(trackId)\r\n    }\r\n    \r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function removeLikeFromTrack(currTrackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        let likedStations = user.likedStations.filter(trackId => trackId !== currTrackId)\r\n        user.likedStations = likedStations\r\n    }\r\n    else {\r\n        let likedTracks = user.likedTracks.filter(track => track.id !== currTrackId)\r\n        user.likedTracks = likedTracks\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\n\r\nasync function getUserById(userId) {\r\n    let user = await axios.get(`${URL}/user/${userId}`)\r\n    return user.data\r\n}\r\nasync function getUsers(filterBy) {\r\n    filterBy = { filterBy }\r\n    console.log(filterBy, 'filterBy');\r\n    let res = await axios.get(`${URL}/user`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function setUserPref(userPref) {\r\n    let user = await getLoggedinUser()\r\n    user.userPref = userPref\r\n    if (user.username !== \"guest\") {\r\n        updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    // let user = await axios.get(`${URL}/user/${user._id}`)\r\n    return user\r\n}\r\n\r\n\r\nfunction _saveUserToStorage(user) {\r\n    storageService.saveToStorage(STORAGE_KEY, user)\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService } from \"../services/socket.service.js\";\r\n//import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\nexport function loadUser() {\r\n    return async dispatch => {\r\n        try {\r\n            let user = await userService.getLoggedinUser()\r\n            if (!user) {\r\n                user = await userService.login({ username: 'guest' })\r\n            }\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            let users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function addLikeToTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.addLikeToTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'ADD_LIKE_TO_TRACK', trackId, stationOrTrack })\r\n\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function removeLikeFromTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.removeLikeFromTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'REMOVE_LIKE_FROM_TRACK', trackId, stationOrTrack })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function setUserPref(userPref) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.setUserPref(userPref)\r\n            dispatch({ type: 'SET_USERֹ_PREF', userPref })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n\r\n        } catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            loadUser()\r\n            socketService.emit('unset-user-socket');\r\n        }\r\n        catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updateUser(userToUpdate) {\r\n    return async dispatch => {\r\n        try {\r\n            let a = await userService.updateUser(userToUpdate)\r\n            dispatch({ type: 'UPDATE_USER', user: userToUpdate })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\nimport { gPlaylists } from \"./data\";\r\nimport axios from 'axios'\r\nexport const guestService = {\r\n    query,\r\n    saveStation,\r\n    deleteStation,\r\n    getStationById,\r\n    getNextStationId,\r\n    searchTrack,\r\n    addToStation,\r\n    removeFromStation,\r\n    getStationByTag,\r\n    searchStation\r\n}\r\nconst KEY = 'stations';\r\nvar gStations;\r\nlet songCache = []\r\n_createStations();\r\n\r\nfunction query(filterBy) {\r\n    return Promise.resolve(gStations)\r\n}\r\n\r\nfunction deleteStation(stationId) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return stationId === station.id\r\n    })\r\n    gStations.splice(stationIdx, 1)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\n\r\nfunction _addStation(stationToEdit) {\r\n    var station = _createStation(stationToEdit)\r\n    gStations.unshift(station)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve(station)\r\n}\r\n\r\nfunction _updateStation(stationToEdit) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return station.id === stationToEdit.id;\r\n    })\r\n    gStations[stationIdx] = stationToEdit\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\n\r\nfunction getStationById(stationId) {\r\n    var station = gStations.find(function (station) {\r\n        return stationId === station._id\r\n    })\r\n    return Promise.resolve(station)\r\n}\r\n\r\n\r\nfunction getNextStationId(stationId) {\r\n    const stationIdx = gStations.findIndex(station => station.id === stationId)\r\n    let nextStationIdx = stationIdx + 1\r\n    if (nextStationIdx === gStations.length) nextStationIdx = 0\r\n    return gStations[nextStationIdx].id\r\n}\r\n\r\nfunction _createStation(stationToEdit) {\r\n    stationToEdit._id = utilService.makeId()\r\n    return stationToEdit\r\n}\r\n\r\nfunction _createStations() {\r\n    var stations = storageService.loadFromStorage(KEY)\r\n    if (!stations || !stations.length) {\r\n        stations = []\r\n    }\r\n    gStations = stations;\r\n    _saveStationsToStorage();\r\n}\r\n\r\nfunction _saveStationsToStorage() {\r\n    storageService.saveToStorage(KEY, gStations)\r\n}\r\n\r\n\r\n\r\n//api \r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    //keySerch = keySerch.trim()\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\nasync function addToStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    currStation.songs.push(track)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function removeFromStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    const idx = currStation.songs.findIndex(currTrack => track.id === currTrack.id)\r\n    currStation.songs.splice(idx, 1)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function getStationByTag(tagName) {\r\n    //let songCache = gStations.find(station => station.ganer === tagName)\r\n    //if (songCache) {\r\n    //    console.log('No need to fetch, retrieving from Cache', songCache);\r\n    //    return [songCache]\r\n    //}\r\n    songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n            return {\r\n                ganer: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => ({\r\n                    id: track.snippet.resourceId.videoId,\r\n                    title: track.snippet.title,\r\n                    imgUrl: track.snippet.thumbnails.high.url,\r\n                    duration: \"PT4M26S\"\r\n                }))\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        //await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction searchStation(keySerch) {\r\n    return gStations.filter((station) => {\r\n        if (station.name.includes(keySerch) || station.tags.includes(keySerch)) {\r\n            return station\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { guestService } from \"../services/async-storage.service dont delete.js\";\r\nimport { stationServiceNew } from \"../services/station.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { AddToRecentlyPlayed } from \"./user.actions.js\";\r\n\r\nexport function loadStations() {\r\n    return async (dispatch) => {\r\n        try {\r\n            let stations = await stationServiceNew.getStationsByUser()\r\n            let guestStations = await guestService.query()\r\n            stations = stations.concat(guestStations)\r\n            console.log(stations);\r\n            dispatch({\r\n                type: 'SET_STATIONS',\r\n                stations\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(`Had Issues ${err}`)\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nexport function addStation(newStation) {\r\n    return async (dispatch) => {\r\n        if (await userService.isGuest()) {\r\n            console.log('is guest');\r\n            newStation = await guestService.saveStation(newStation)\r\n        } else {\r\n            console.log('not guest');\r\n            newStation = await stationServiceNew.saveStation(newStation)\r\n        }\r\n        dispatch({\r\n            type: 'ADD_STATION',\r\n            newStation\r\n        })\r\n        showSuccessMsg(\"Add to your Stations\")\r\n    }\r\n}\r\n\r\nexport function unshuffleQueue(playedStationId) {\r\n    return async (dispatch) => {\r\n        let queue = await stationServiceNew.getStationById(playedStationId)\r\n        queue = queue.songs\r\n        dispatch({\r\n            type: 'SET_QUEUE',\r\n            queue,\r\n            stationId: playedStationId\r\n        })\r\n    }\r\n}\r\n\r\n//without service\r\nexport function setCurrTrack(track, idx) {\r\n    return async (dispatch) => {\r\n        ////add track to recentlyPlayed\r\n        try {\r\n            dispatch({\r\n                type: 'SET_CURR_TRACK',\r\n                track,\r\n                idx,\r\n            })\r\n            //await userService.AddToRecentlyPlayed(track, 'track')\r\n            //dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'track', track })\r\n        }\r\n\r\n        catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function setQueue(queue, stationId = 0) {\r\n    queue = queue.filter(track => !track.nextQueue)\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: 'SET_QUEUE',\r\n                queue,\r\n                stationId\r\n            })\r\n            if (!stationId) return\r\n            await userService.AddToRecentlyPlayed(stationId, 'station')\r\n            dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'station', stationId })\r\n        }\r\n        catch (err) {\r\n            console.log('setQueue  error', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToNextQueue(track) {\r\n    return async (dispatch) => {\r\n        let newTrack = { ...track }\r\n        newTrack.nextQueue = true\r\n        dispatch({\r\n            type: 'ADD_TO_NEXT_QUEUE',\r\n            track: newTrack\r\n        })\r\n        showSuccessMsg('Added to queue')\r\n    }\r\n}\r\n\r\nexport function playNextTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'NEXT_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function playPrevTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'PREV_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleIsPlaying() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'TOGGLE_ISPLAYING',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setPlay() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_PLAY',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setCurrStation(station) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_CURR_STATION',\r\n                station\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport function shuffleQueue(queue) {\r\n    for (let i = queue.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const temp = queue[i];\r\n        queue[i] = queue[j];\r\n        queue[j] = temp;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SHUFFLE_QUEUE',\r\n            queue\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n//function deleteStation(stationId) {\r\n//    var stationIdx = gStations.findIndex(function (station) {\r\n//        return stationId === station.id\r\n//    })\r\n//    gStations.splice(stationIdx, 1)\r\n//    _saveStationsToStorage();\r\n//    return Promise.resolve()\r\n//}\r\n","export default __webpack_public_path__ + \"static/media/play.b7d47073.svg\";","export default __webpack_public_path__ + \"static/media/musicLa.65675a50.svg\";","import React, { Component } from 'react'\r\nimport Avatar from 'react-avatar';\r\nimport { connect } from 'react-redux'\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport play from '../assets/img/play.svg'\r\nimport musicLa from '../assets/img/musicLa.svg'\r\nclass _PrackByUserPreview extends Component {\r\n\r\n    playTrack = async (track, idx) => {\r\n        const { currStation } = this.props\r\n        let songs = [track]\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.track? 'user-preview order flex' :'user-preview  flex'}>\r\n                <div className='avatar'>\r\n                    <Avatar src={this.props.usersImgs.find(imgObj => this.props.currUserId === imgObj.id)?.url} size=\"70\" round={true} />\r\n                </div>\r\n                {this.props.users && <span >\r\n                    {this.props.users.find((user => user._id === this.props.currUserId))?.username}</span>}\r\n\r\n\r\n                {this.props.track &&\r\n                    <div className={\"track\"} onClick={() => { this.playTrack(this.props.track.track, 0) }}>\r\n                        <img src={musicLa} />\r\n                        <div><p> {this.props.track.track.title}</p></div>\r\n                    </div>\r\n                }\r\n          \r\n                {!this.props.track &&\r\n                    <div className={\"offline\"}>\r\n                        <div>offline</div>\r\n                    </div>\r\n                }\r\n                {this.props.track &&\r\n                    <>\r\n                        <img className='play' onClick={() => { this.playTrack(this.props.track.track, 0) }} src={play} />\r\n                        <span className=\"fas fa-volume-up\"></span>\r\n                    </>\r\n                }\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n}\r\n\r\n\r\nexport const PrackByUserPreview = connect(mapStateToProps, mapDispatchToProps)(_PrackByUserPreview)\r\n\r\n","import React, { Component } from 'react'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, updateUser } from '../store/user.actions';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { PrackByUserPreview } from './trackByUser-preview';\r\n//import streaming from '../assets/img/icon50.png'\r\n\r\nclass _TrackByUsers extends Component {\r\n    state = {\r\n        users: [],\r\n        userImg: [],\r\n        currTrack: null\r\n    }\r\n\r\n    getCurrTrack = (currUserId) => {\r\n        let trackAndUser = this.props.trackAndUsers?.filter(traclANdUser => {\r\n            if (traclANdUser.user._id === currUserId)\r\n                return traclANdUser.track\r\n        })\r\n        if (!trackAndUser.length)\r\n            trackAndUser = false\r\n\r\n        else trackAndUser = trackAndUser[0]\r\n        return trackAndUser\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user, users } = this.props\r\n\r\n        if (!this.state.users || !this.props.user) return <div>loading</div>\r\n        return (\r\n            <>\r\n                <div className='streaming flex'>\r\n                    <h3>Streaming Now\r\n                    </h3>\r\n                    <span className=\"fas fa-compact-disc\"></span>\r\n                </div>\r\n                <div className='user-track'>\r\n                    {user && user.following.map((currUserId) => {\r\n                        console.log(user.following, 'user.following');\r\n                        return <PrackByUserPreview users={this.props.users}\r\n                            currUserId={currUserId} usersImgs={this.props.usersImgs} user={users.find((user => user._id === currUserId))?.username} track={this.getCurrTrack(currUserId)} />\r\n                    })}\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user,\r\n        //users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser\r\n}\r\nexport const TrackByUsers = connect(mapStateToProps, mapDispatchToProps)(_TrackByUsers)\r\n\r\n","import React, { Component } from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport { TrackByUsers } from '../cmps/trackByUsers';\r\nimport { eventBusService, showSuccessMsg } from '../services/event-bus.service'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, loadUser, updateUser } from '../store/user.actions';\r\nimport Avatar from 'react-avatar';\r\n\r\n\r\nvar _ = require('lodash');\r\nclass _Friends extends Component {\r\n    state = {\r\n        trackAndUsers: [],\r\n        usersImgs: [],\r\n        users: [],\r\n        onFollow: true\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        await this.props.loadUser()\r\n        socketService.setup()\r\n        this.setState({ trackAndUsers: this.props.trackAndUsers })\r\n        console.log(this.state.trackAndUsers, 'trackAndUsers');\r\n        await this.loadUsers('')\r\n        let usersImgs = this.state.users.map(user => {\r\n            return user.img ? { url: user.img, id: user._id } :\r\n                { url: \"https://cdn-icons-png.flaticon.com/512/149/149071.png\", id: user._id }\r\n        })\r\n        this.setState({ usersImgs })\r\n    }\r\n\r\n    loadUsers = (keySearch = '') => {\r\n        if (!keySearch) {\r\n            let filterUsers = this.props.users.filter(user => {\r\n                if (user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user?._id) {\r\n                    return user\r\n                }\r\n            })\r\n            this.setState({ users: filterUsers })\r\n            return\r\n            //this.setState({ users: this.props.users })\r\n        }\r\n        else {\r\n            let filterUsers = this.props.users.filter(user => user.username.toUpperCase().includes(keySearch.toUpperCase()) && user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user._id)\r\n            this.setState({ users: filterUsers })\r\n        }\r\n    }\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.loadUsers(target.value)\r\n    }\r\n    onFollow = async (userIdToFollow, isFollow) => {\r\n        let user = { ...this.props.user }\r\n        if (isFollow) {\r\n            let following = user.following.filter(userId => userId !== userIdToFollow)\r\n            user.following = following\r\n        }\r\n        else {\r\n            user.following.push(userIdToFollow)\r\n            socketService.emit('following', { userIdToFollow, currUser: user })\r\n        }\r\n        await this.props.updateUser(user)\r\n    }\r\n\r\n    render() {\r\n        const trackAndUsers = this.props.trackAndUsers\r\n        const { user } = this.props\r\n        const { users, onFollow } = this.state\r\n        if (!users || !this.state.usersImgs) return <div>loading</div>\r\n        return (\r\n            <section className='friends-container'>\r\n                <MainLayout>\r\n                    <h1>Friends Activity</h1>\r\n                    <div className='friends-nav'>\r\n                        <a className={onFollow ? 'active' : ''} onClick={() => { this.setState({ onFollow: true }) }}>Follow</a>\r\n                        <a className={!onFollow ? 'active' : ''} onClick={() => { this.setState({ onFollow: false }) }}>Streaming now</a>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"friend-following flex\">\r\n                        {onFollow &&\r\n                            <div className='all-users-container'>\r\n                                <div><input type='text' onChange={this.handleChange} placeholder=\"Find Friends\" /></div>\r\n                                <div className='users-table'>\r\n                                    {users &&\r\n                                        users.map((currUser, idx) => {\r\n                                            return <div className='friend-following-preview flex'>\r\n                                                <div>\r\n                                                    <Avatar style={{}} src={this.state.usersImgs.find(imgObj => currUser._id === imgObj.id)?.url} size=\"70\" round={true} />\r\n                                                    <span>\r\n                                                        {currUser.username}\r\n                                                    </span>\r\n                                                </div>\r\n\r\n\r\n                                                <div>\r\n                                                    {user.following.includes(currUser._id) &&\r\n                                                        <button className='following' onClick={() => { this.onFollow(currUser._id, true) }}> Unfollow</button>\r\n                                                    }\r\n                                                    {!user.following.includes(currUser._id) &&\r\n                                                        <button className='follow' onClick={() => { this.onFollow(currUser._id, false) }} >Follow</button>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            !onFollow &&\r\n                            <section className='following-by-user-container flex column'>\r\n                                <TrackByUsers trackAndUsers={trackAndUsers} users={this.state.users} usersImgs={this.state.usersImgs} />\r\n                            </section>\r\n                        }\r\n\r\n                    </div>\r\n                </MainLayout >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        trackAndUsers: state.friendMoudle.trackAndUsers,\r\n        user: state.userMoudle.user,\r\n        users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUsers,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Friends = connect(mapStateToProps, mapDispatchToProps)(_Friends)\r\n\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport function FavoriteArtists({ artists }) {\r\n    return (\r\n        <div className=\"favorite-artists\">\r\n            {artists.map((artist, idx) => {\r\n                return (<Link to={`/station/${artist.artist}`} className=\"station-container\" key={idx}>\r\n                    <div className='img-container'>\r\n                        <img src={artist.img} alt={artist.artist} />\r\n                    </div>\r\n                    <h4>{artist.artist}</h4>\r\n                </Link >\r\n                )\r\n            })}\r\n        </div >\r\n    )\r\n}","export default \"data:image/jpeg;base64,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\"","import stationImg from '../assets/img/stationImg.jpg'\r\nimport { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\nimport PlayCircleIcon from '@material-ui/icons/PlayCircleFilledWhite';\r\nimport { ThemeProvider, createTheme } from '@material-ui/core'\r\n\r\nclass _StationPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        if (!currStation || station._id !== currStation._id) {\r\n            const songs = [...station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (station) => {\r\n        let stationId = station._id ? station._id : station.name\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div>loading...</div>\r\n        return (\r\n            <div className=\"station-preview\">\r\n                <div className=\"img-card\" onClick={() => this.navigateToStation(station)}>\r\n                    <div className=\"square-ratio station-img-container\">\r\n                        {station.songs?.length > 0 && station.songs[0]?.imgUrl &&\r\n                            <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                        }\r\n                        {!station.songs.length &&\r\n                            <img src={stationImg} />\r\n                        }\r\n\r\n                        <div className=\"play-icon-container\" onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            this.playRandTrack()\r\n\r\n                        }}>\r\n                            <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"station-name-header\">\r\n                        {station.name.length < 25 ? station.name : station.name.slice(0, 25) + '...'}\r\n                    </div>\r\n                    <p className=\"station-desc\">\r\n                        {!station.songs.length ? '' :\r\n                            station.songs.reduce((songStr, song) => {\r\n                                songStr += song.title\r\n                                return songStr;\r\n                            }, '').slice(0, 30) + '...'}\r\n                    </p>\r\n                </div>\r\n            </div >\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n        currStation: state.stationMoudle.currStation\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __StationPreview = connect(mapStateToProps, mapDispatchToProps)(_StationPreview)\r\nexport const StationPreview = withRouter(__StationPreview);","export default __webpack_public_path__ + \"static/media/loader.fd44eeee.svg\";","import React from 'react';\r\nimport loader from '../assets/img/loader.svg'\r\nexport function Loading() {\r\n    return (\r\n\r\n        <img src={loader} style={{ margin: '250px auto' }} alt=\"loading\" />\r\n\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\n\r\nexport class LoginSignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isLogin: this.props.isLogin\r\n      // facebookUserId: null,\r\n      // img: null\r\n      // }\r\n    };\r\n  }\r\n\r\n  responseFacebook = async response => {\r\n\r\n    try {\r\n\r\n      const newCredentials = {\r\n        username: response.email,\r\n        password: response.userID,\r\n        fullname: response.name,\r\n        facebookUserId: response.userID,\r\n        img: response.picture.data.url\r\n      }\r\n      this.props.onSubmit(newCredentials)\r\n    }\r\n    catch (e) {\r\n      console.log('err:', e);\r\n    }\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    console.log('here');\r\n    this.setState(ps => ({ ...ps, [target.name]: target.value }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const credentials = this.state\r\n    this.props.onSubmit(credentials)\r\n  }\r\n\r\n  resetCredentials = () => {\r\n    this.setState({ username: '', fullname: '', password: '', facebookUserId: null, img: null })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.resetCredentials()\r\n    this.props.closeForm()\r\n  }\r\n\r\n  handleSignIn = () => {\r\n    // console.log('signing');\r\n    this.setState(ps => ({ ...ps, isLogin: false }))\r\n  }\r\n\r\n  handleLogin = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: true }))\r\n  }\r\n\r\n  render() {\r\n    const { username, fullname, password, isLogin } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"screen\" onClick={this.handleClose}></div>\r\n        <section className=\"form-wrapper\">\r\n          <span className=\"close-form\" onClick={this.handleClose}>X</span>\r\n          <div className=\"form-logo flex column align-center\">\r\n            <img src={logo} alt=\"\" />\r\n            <div className=\"brand-name\"><span>Lotify</span><span>.</span></div>\r\n\r\n          </div>\r\n          <h2 className=\"form-header\">{isLogin ? 'Sign in to continue' : 'Signup to continue'}</h2>\r\n          <form action=\"\" className=\"login-signup-form flex column align-center\" onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your username\" value={username}\r\n              onChange={this.handleChange} />\r\n\r\n            {!isLogin && <input type=\"text\" name=\"fullname\" placeholder=\"Enter your fullName\"\r\n              value={fullname} onChange={this.handleChange} />}\r\n\r\n            <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password}\r\n              onChange={this.handleChange} />\r\n            {/* <div className=\"submit-btns flex\"> */}\r\n            <button type=\"submit\" className=\"login-signup-btn\">{isLogin ? 'Login' : 'Signup'}</button>\r\n\r\n            {/* <button className=\"facebook-login-btn-wrapper\" type=\"button\">\r\n              {isLogin ? 'Login with Facebook' : 'Signup with Facebook'}\r\n\r\n              <FacebookLogin\r\n                className=\"facebook-login-btn\"\r\n                appId=\"992060094973798\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                isSdkLoaded={false}\r\n                onClick={this.facebookComponentClicked}\r\n                callback={this.responseFacebook} />\r\n            </button> */}\r\n            {isLogin && <div className=\"to-sign-in flex\"><span>Dont have an acount?</span>\r\n              <span onClick={this.handleSignIn}>Sign here</span>\r\n            </div>}\r\n            {!isLogin && <span className=\"back-to-login\" onClick={this.handleLogin}>Back to Login</span>}\r\n            {/* </div> */}\r\n          </form>\r\n        </section>\r\n      </>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, onSignup, onLogin, onLogout } from '../store/user.actions';\r\nimport { loadStations } from '../store/station.actions';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport Avatar from 'react-avatar';\r\nimport { LoginSignupForm } from './login-signup-form';\r\n\r\n\r\nclass _UserPrifile extends Component {\r\n    state = {\r\n        loginOrSignup: null,\r\n        isLoggedIn: false,\r\n        credentials: {\r\n            username: null,\r\n            password: null,\r\n            fullname: null,\r\n            facebookUserId: null,\r\n            img: null\r\n            // facebookEmail: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n    getInitialCredentials = () => {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            fullname: '',\r\n            facebookUserId: null,\r\n            img: null\r\n        }\r\n    }\r\n    setLoginOrSignup = (loginOrSignup) => {\r\n\r\n        this.setState(prevState => ({ ...prevState, credentials: this.getInitialCredentials(), loginOrSignup }))\r\n        // this.setState({ loginOrSignup })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, credentials: { ...prevState.credentials, [key]: val } }))\r\n    }\r\n    closeForm = () => {\r\n        this.setLoginOrSignup(null)\r\n    }\r\n    onSubmit = async (credentials) => {\r\n        // let credentials = this.state.credentials\r\n        if (this.state.loginOrSignup === \"Login\") {\r\n            // if (!isFacebookLogin)\r\n            // credentials = { username: this.state.credentials.username, password: this.state.credentials.password }\r\n            await this.props.onLogin(credentials)\r\n        } else {\r\n            // credentials = { ...this.state.credentials, userPref: this.props.user.userPref }\r\n            credentials.userPref = this.props.user.userPref\r\n            await this.props.onSignup(credentials)\r\n        }\r\n        this.setLoginOrSignup(null)\r\n        await this.props.loadUser()\r\n        await this.props.loadStations()\r\n    }\r\n\r\n    facebookComponentClicked = () => {\r\n        console.log('face soosh component clicked');\r\n    }\r\n\r\n    responseFacebook = async response => {\r\n        console.log('responseFacebook', response);\r\n\r\n        try {\r\n\r\n            const newCredentials = {\r\n                username: response.email,\r\n                password: response.userID,\r\n                fullname: response.name,\r\n                facebookUserId: response.userID,\r\n                img: response.picture.data.url\r\n            }\r\n            this.setLoginOrSignup(null)\r\n            this.setState(prevState => ({ ...prevState, credentials: newCredentials }),\r\n                () => this.onSubmit(true))\r\n        }\r\n        catch {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loginOrSignup, credentials } = this.state\r\n        const { user } = this.props\r\n        if (!user) return <></>\r\n        return (\r\n            <>\r\n                <div className=\"profiler\">\r\n                    <Menu menuButton={\r\n                        <MenuButton title={user.username}>\r\n                            <Avatar size=\"50\"  src={user.img ? user.img : \"https://cdn-icons-png.flaticon.com/512/149/149071.png\"} round={true} />\r\n                        </MenuButton>}>\r\n                        {user.username === \"guest\" &&\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Login\")}>Login</MenuItem>\r\n                        }\r\n                        {user.username === \"guest\" ?\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Signup\")}>Signup</MenuItem> :\r\n                            <MenuItem onClick={async () => {\r\n                                await this.props.onLogout()\r\n                                await this.props.loadUser()\r\n                                this.props.loadStations()\r\n                            }\r\n                            }>Logout</MenuItem>\r\n                        }\r\n                    </Menu>\r\n\r\n                    {/* ori */}\r\n\r\n                </div>\r\n                {loginOrSignup && <LoginSignupForm onSubmit={this.onSubmit}\r\n                    isLogin={loginOrSignup === 'Login' ? true : false}\r\n                    closeForm={this.closeForm} />}\r\n\r\n\r\n                {/* <div className={`create-playlist ${loginOrSignup ? \"on\" : \"off\"}`} >\r\n                    <div className=\"header\">\r\n                        <h1>{loginOrSignup}</h1>\r\n                        <button onClick={() => this.setLoginOrSignup(null)}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"username\"\r\n                                label=\"Username\"\r\n                                value={credentials.username}\r\n                                name=\"username\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            {loginOrSignup === \"Signup\" &&\r\n                                <TextField\r\n                                    className=\"fullname\"\r\n                                    label=\"Full Name\"\r\n                                    value={credentials.fullname}\r\n                                    name=\"fullname\"\r\n                                    autoComplete=\"off\"\r\n                                    onChange={this.handleChange}\r\n                                />}\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Password\"\r\n                                ref='password'\r\n                                hintText=\"Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                type=\"password\"\r\n                                value={credentials.password}\r\n                                name=\"password\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"40px\", background: '#1db954' }} variant=\"contained\"\r\n                                    onClick={this.onSubmit}>\r\n                                    {loginOrSignup}\r\n                                </Button>\r\n                                <Button style={{ height: \"40px\", background: '#1E90EA' }} variant=\"contained\"\r\n                                    className=\"facebook-login-btn-wrapper-ddd\"\r\n                                    onClick={(e) => e.preventDefault()} >\r\n                                    {loginOrSignup === \"Signup\" ? 'Signup with facebook' : 'Login with facebook'}\r\n\r\n                                    <FacebookLogin\r\n                                        className=\"facebook-login-btn\"\r\n                                        appId=\"992060094973798\"\r\n                                        autoLoad={true}\r\n                                        fields=\"name,email,picture\"\r\n                                        onClick={this.facebookComponentClicked}\r\n                                        callback={this.responseFacebook} />\r\n\r\n                                </Button>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/** Ori - I've uncomment this */}\r\n                {/* <div className={`body-modal ${loginOrSignup ? \"on\" : \"off\"}`} onClick={() => this.setLoginOrSignup(null)}></div> */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onSignup,\r\n    onLogin,\r\n    onLogout,\r\n    loadStations\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserPrifile)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { FavoriteArtists } from '../cmps/favorite-artists.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\nimport { UserProfile } from '../cmps/profile.jsx';\r\n\r\nclass _Home extends Component {\r\n    state = {\r\n        goodDayStations: [],\r\n        hotStations: [],\r\n        likedStations: '',\r\n        recentlyPlayedStations: '',\r\n        numOfPreviews: 5\r\n    }\r\n\r\n    resizer\r\n    handleRisize = (entries) => {\r\n        const viewPortWidth = entries[0].contentRect.width\r\n        if (viewPortWidth > 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 7 }))\r\n        else if (viewPortWidth >= 1560 && viewPortWidth < 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 6 }))\r\n        else if (viewPortWidth >= 1360 && viewPortWidth < 1560)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 5 }))\r\n        else if (viewPortWidth >= 1160 && viewPortWidth < 1360)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 4 }))\r\n        else if (viewPortWidth >= 960 && viewPortWidth < 1160)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth >= 760 && viewPortWidth < 960)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else if (viewPortWidth >= 685 && viewPortWidth < 760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth < 685 && viewPortWidth >= 475)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else {\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n\r\n        }\r\n        // else if (viewPortWidth >= 562)\r\n        //     this.setState(prevState => ({ ...prevState, numOfPreviews: 1 }))\r\n\r\n    }\r\n    async componentDidMount() {\r\n    console.log(\"🚀 ~ file: Home.jsx ~ line 50 ~ _Home ~ componentDidMount ~ componentDidMount\")\r\n        await this.props.loadUser();\r\n        await this.props.loadStations();\r\n        await this.getLikedStation()\r\n        const goodDayStations = await stationServiceNew.getGoodDay()\r\n        const hotStations = await stationServiceNew.getHot()\r\n        this.setState({ goodDayStations, hotStations })\r\n        this.resizer = new ResizeObserver(this.handleRisize)\r\n        this.resizer.observe(document.querySelector('.main-app'))\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps.user?._id !== this.props.user?._id) {\r\n            //await this.props.loadUser();\r\n            await this.props.loadStations();\r\n            await this.getLikedStation()\r\n        }\r\n    }\r\n\r\n    getTime = () => {\r\n        var today = new Date()\r\n        var curHr = today.getHours()\r\n\r\n        if (curHr < 12) {\r\n            return 'Good morning'\r\n        } else if (curHr < 18) {\r\n            return 'Good afternoon'\r\n        } else {\r\n            return 'Good evening'\r\n        }\r\n    }\r\n    getLikedStation = async () => {\r\n        console.log(this.props.user);\r\n        let unresolvedPromisesLike = await this.props.user.likedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let unresolvedPromisesStation = await this.props.user.recentlyPlayedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let a = await Promise.all(unresolvedPromisesLike)\r\n        let b = await Promise.all(unresolvedPromisesStation)\r\n        const results = await Promise.all([a, b]);\r\n        this.setState({ likedStations: results[0], recentlyPlayedStations: results[1] })\r\n        //this.props.user.likedStations.map((station => <StationPreview key={station._id} station={station} />))\r\n    }\r\n\r\n    render() {\r\n        let { stations, user } = this.props\r\n        stations = stations.filter(station => station.genre !== 'likedTracks')\r\n        const { likedStations, numOfPreviews, recentlyPlayedStations, goodDayStations, hotStations } = this.state\r\n        // console.log(goodDayStations)\r\n        if (!stations || !this.props.user || !likedStations || !recentlyPlayedStations) return <Loading />\r\n        return (\r\n\r\n            <div className=\"home-page\">\r\n                <UserProfile />\r\n                <div className=\"shadow\">\r\n                    <div className=\"hero\">\r\n                        <h1>Listen to your favorite music on <span className=\"logo\">Lotify<span>.</span></span></h1>\r\n                    </div>\r\n                </div>\r\n                <section className='station-container'>\r\n                    <div className='card card-top'>\r\n                        <div className='card-header'>\r\n                            <h1>{this.getTime()}</h1>\r\n                        </div>\r\n                        {\r\n                            user.userPref ?\r\n                                <FavoriteArtists artists={user.userPref.slice(0, 6)} /> :\r\n                                <FavoriteArtists artists={[{ artist: 'justin bieber', img: 'https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'michael jackson', img: 'https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo' }]} />\r\n                        }\r\n                    </div>\r\n                    <MainLayout>\r\n                        {\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Good day</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {goodDayStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(goodDayStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Hot right now</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n\r\n                                    {hotStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(hotStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Stations you liked</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {likedStations &&\r\n                                    likedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(likedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Recently played</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {recentlyPlayedStations &&\r\n                                    recentlyPlayedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(recentlyPlayedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                    </MainLayout>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/heart-regular.a71c24fa.svg\";","\r\nimport { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService, showSuccessMsg, showErrorMsg } from '../services/event-bus.service';\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport isPlying from '../assets/img/isPlaying.gif'\r\nimport { stationServiceNew } from '../services/station.service';\r\n\r\nclass _TrackPreview extends Component {\r\n    state = {\r\n        isLike: false\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //to get Stations from store to the AddToPlaylist render\r\n        let user = await this.props.user\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = await this.props.user\r\n        }\r\n        //track save as object\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        if (trackIdxs.includes(this.props.track.id)) {\r\n\r\n            this.setState({ isLike: true })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if ((prevProps.track.id !== this.props.track.id) || (this.props.user?.likedTracks?.length !== prevProps.user?.likedTracks?.length)) {\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n            if (trackIdxs.includes(this.props.track.id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    getTimeFromDuration = (duration) => {\r\n        var hours = 0;\r\n        var minutes = 0;\r\n        var seconds = 0;\r\n        duration = duration.replace('PT', '');\r\n        if (duration.indexOf('H') > -1) {\r\n            var hours_split = duration.split('H');\r\n            hours = parseInt(hours_split[0]);\r\n            duration = hours_split[1];\r\n        }\r\n        if (duration.indexOf('M') > -1) {\r\n            var minutes_split = duration.split('M');\r\n            minutes = parseInt(minutes_split[0]);\r\n            duration = minutes_split[1];\r\n        }\r\n        if (duration.indexOf('S') > -1) {\r\n            var seconds_split = duration.split('S');\r\n            seconds = parseInt(seconds_split[0]);\r\n        }\r\n        var str = \"\";\r\n        if (hours != 0) { str += hours + \":\"; }\r\n        if (minutes == 0) { str += \"00\" + \":\"; }\r\n        else if (minutes < 10) { str += \"0\" + minutes + \":\"; }\r\n        else if (minutes > 10) { str += minutes + \":\"; }\r\n        else if (minutes == 0) { str += \"00:\" }\r\n        if (seconds > 0 && seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds > 10) { str += seconds; }\r\n        else if (seconds == 0) { str += \"00\" }\r\n        return str;\r\n    }\r\n\r\n    onAddToStation = async (track, stationId = null) => {\r\n        if (!stationId) {\r\n            stationId = this.props.currStation\r\n        }\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        if (stationToUpdate.songs.some(song => song.id === track.id)) {\r\n            showErrorMsg('This Track already exists in this station ')\r\n            return\r\n        }\r\n\r\n        stationToUpdate.songs.push(track)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        showSuccessMsg('Add to station')\r\n    }\r\n\r\n    onRemoveFromStation = async (track, stationId) => {\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        const trackIdx = stationToUpdate.songs.findIndex(song => track.id === song.id)\r\n        stationToUpdate.songs.splice(trackIdx, 1)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        if (this.props.currStation) {\r\n            this.props.loadStation()\r\n        }\r\n        showErrorMsg('Removed from Station')\r\n    }\r\n\r\n    playTrack = async (track, idx) => {\r\n        \r\n        const { currStation, queue, currTrack, playNextQueue } = this.props\r\n        let songs\r\n        if (currStation) {//only if clicking on station details not from queue!\r\n            songs = [...currStation.songs];\r\n        } else {\r\n            if (queue.length && queue.some(trackFromQueue => track.id === trackFromQueue.id)) {//From Queue\r\n                songs = [...queue, currTrack]\r\n            } else {//from search\r\n                if (playNextQueue.length && playNextQueue.some(trackFromQueue => track.id === trackFromQueue.id)) {\r\n                    songs = [...queue, currTrack]\r\n                }\r\n                else {\r\n                    songs = [track]\r\n                }\r\n            }\r\n\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLike: !this.state.isLike }, () => {\r\n            if (this.state.isLike) {\r\n                this.props.addLikeToTrack(this.props.track, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.track.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { track, idx, currStation, stations, user } = this.props\r\n        return (\r\n            // onClick={this.playTrack(track, idx)}\r\n            //button-cell\r\n            <div className=\"track-container flex\" onClick={() => this.playTrack(track, idx)}>\r\n                {this.props.currTrack && this.props.currTrack?.id === track.id && this.props.isPlaying &&\r\n                    <div className=\"track-num\"> < img className='isPlaying' src={isPlying} /></div>\r\n                }\r\n                {(!this.props.currTrack || this.props.currTrack.id !== track.id || !this.props.isPlaying) &&\r\n                    <div className=\"track-num\">{idx + 1}</div>}\r\n                <div className=\"track-img\"><img src={track.imgUrl} alt=\"\" /></div>\r\n                <div className=\"track-title\">{track.title}</div>\r\n                <div className=\"track-duration\">{this.getTimeFromDuration(track.duration)}</div>\r\n                {!this.props?.isOnDeatils && <div className='likes'>\r\n                    {\r\n                        //this.state.isLike && <img className='islike' src={heartChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                        this.state.isLike && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} className=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        !this.state.isLike && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                    }\r\n                </div>}\r\n                {\r\n\r\n                    !this.props?.isOnDeatils &&\r\n                    <div className=\"button-cell track-actions\" onClick={(ev) => { ev.stopPropagation() }}>\r\n                        <Menu menuButton={\r\n                            <MenuButton><i className=\"fas fa-ellipsis-h\"></i></MenuButton>}>\r\n                            <MenuItem onClick={() => this.props.addToNextQueue(track)}>Add To queue</MenuItem>\r\n                            {currStation && <MenuItem onClick={() => {\r\n                                this.onRemoveFromStation(track, currStation._id)\r\n\r\n                            }\r\n                            }>Remove from Playlist</MenuItem>}\r\n                            <SubMenu label=\"Add to playlist\">\r\n                                {stations.map((station) => {\r\n                                    return (<MenuItem onClick={() => { this.onAddToStation(track, station._id) }}>{station.name}</MenuItem>)\r\n                                })\r\n                                }\r\n                                <MenuItem onClick={() => eventBusService.emit(\"create-playlist\", track)}>Create playlist</MenuItem>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.props?.isOnDeatils &&\r\n                    <div className=\"add-track-wrapper\">\r\n                        <button className='add-track-btn' onClick={async (ev) => {\r\n                            ev.stopPropagation()\r\n                            await this.onAddToStation(track, this.props.stationId)\r\n                            await this.props.loadStation()\r\n                        }}>Add</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack\r\n}\r\n\r\nexport const TrackPreview = connect(mapStateToProps, mapDispatchToProps)(_TrackPreview)","export default \"data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++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\"","import { SortableElement } from 'react-sortable-hoc';\r\nimport { TrackPreview } from './track-preview';\r\n\r\n\r\nexport const DraggableTrackPreview = SortableElement(({ track, idx, currStation, loadStation, key }) => {\r\n  return (\r\n    <TrackPreview key={key} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n  )\r\n});","import React from 'react';\r\nimport { SortableContainer } from 'react-sortable-hoc';\r\nimport { DraggableTrackPreview } from './draggable-track-preview';\r\n\r\n\r\n\r\n\r\nexport const DraggableTrackList = SortableContainer(({ songs, currStation, loadStation, \r\n}) => {\r\n  \r\n  //const sliceNum = isShowAll ? songs.length : 7\r\n  //sliceNum = songs.length>10 \r\n  return (\r\n    <div className=\"station-track-list flex column\">\r\n      <div className=\"list-headers flex\">\r\n        <div className=\"track-num-header\">#</div>\r\n        <div className=\"track-img-header\"></div>\r\n        <div className=\"track-title-header\">Title</div>\r\n        <div className=\"duration-header\">◷</div>\r\n        <div className=\"likes-header\"></div>\r\n        <div className=\"actions-header\">actions</div>\r\n      </div>\r\n      {\r\n\r\n        songs.map((track, idx) => {\r\n          return <DraggableTrackPreview key={track.id} index={idx} track={track} idx={idx}\r\n            currStation={currStation} loadStation={loadStation} />\r\n        })\r\n\r\n      }\r\n\r\n    </div>\r\n  )\r\n});\r\n","export default __webpack_public_path__ + \"static/media/mood-search.5f7ab9d0.jpg\";","export default __webpack_public_path__ + \"static/media/pop-search.b2ca6b17.jpg\";","export default __webpack_public_path__ + \"static/media/chill-search.8a0cf644.jpg\";","export default __webpack_public_path__ + \"static/media/summer-search.82683c03.jpeg\";","export default __webpack_public_path__ + \"static/media/latin-search.98aae0b0.jpg\";","export default __webpack_public_path__ + \"static/media/jazz-search.1a2264a3.jpg\";","export default __webpack_public_path__ + \"static/media/indie-search.68a13156.jpg\";","export default __webpack_public_path__ + \"static/media/wellness-search.9ebcb4b9.jpg\";","export default __webpack_public_path__ + \"static/media/sleep-search.44c526f7.jpg\";","export default __webpack_public_path__ + \"static/media/decades-search.677f0d60.jpg\";","export default __webpack_public_path__ + \"static/media/workout-search.1349d7b6.jpg\";","export default __webpack_public_path__ + \"static/media/party-search.eb2ad37f.jpg\";","export default __webpack_public_path__ + \"static/media/focus-search.4c8a3730.jpg\";","export default __webpack_public_path__ + \"static/media/alternativ-search.11db08a9.jpg\";","export default __webpack_public_path__ + \"static/media/travel-search.2ded0578.jpg\";","export default __webpack_public_path__ + \"static/media/soul-search.34659cee.jpg\";","export default __webpack_public_path__ + \"static/media/funk-search.b77d7780.jpg\";","export default __webpack_public_path__ + \"static/media/metal-search.8c9b428e.jpg\";","export default __webpack_public_path__ + \"static/media/classical-search.2e798a07.jpg\";","export default __webpack_public_path__ + \"static/media/blues-search.94b8b153.jpg\";","import React from 'react'\r\n\r\nimport { TrackPreview } from './track-preview'\r\n\r\nexport function TrackList({ loadStation, songs, stationId, currStation, isOnDeatils }) {\r\n    return (<>\r\n        {songs.map((track, idx) => {\r\n            return <TrackPreview  stationId={stationId} isOnDeatils={isOnDeatils} key={track._id} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n        }\r\n        )}\r\n    </>\r\n    )\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultTrack extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n\r\n                <div className='grid-search-result-container'>\r\n                    <span className='title'>songs</span>\r\n                    {trackResult.length  &&\r\n                                <TrackList songs={trackResult.slice(0, 5)} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n                    }\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\nimport { StationPreview } from './station-preview';\r\n\r\nexport class SearchResultStation extends React.Component {\r\n    state = {\r\n        stationResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { stationResult } = this.props\r\n        this.setState({ stationResult })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.stationResult !== prevProps.stationResult) {\r\n            const { stationResult } = this.props\r\n            this.setState({ stationResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { stationResult } = this.state\r\n        if (!stationResult || !stationResult.length) return <div>No station found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <h1 className='title'>Station</h1>\r\n                <div className='playlist-container flex'>\r\n                    <div className=\"flex genre\">\r\n                        {stationResult.map((station => <StationPreview key={station._id} station={station} />))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultStationDetails extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <TrackList loadStation={this.props.loadStation} stationId={this.props.stationId} isOnDeatils={true} songs={trackResult} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import storageService from './storage.service'\r\nimport axios from 'axios'\r\nimport { stationServiceNew } from './station.service';\r\nconst KEY = 'stations';\r\nlet songCache = []\r\nexport const youtubeApiService = {\r\n    searchTrack,\r\n    getStationByTag,\r\n}\r\n\r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function getStationByTag(tagName) {\r\n    let songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n            return {\r\n                genre: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => {\r\n                    if(track.snippet.title===\"Private video\")return\r\n                    return {\r\n                        id: track.snippet.resourceId.videoId,\r\n                        title: track.snippet.title,\r\n                        imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                        duration: \"PT4M26S\"\r\n                    }\r\n                    }).filter(track=>track)\r\n                    \r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        //stations = await stationServiceNew.saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport mood from '../assets/img/mood-search.jpg';\r\nimport pop from '../assets/img/pop-search.jpg';\r\nimport chill from '../assets/img/chill-search.jpg';\r\nimport summer from '../assets/img/summer-search.jpeg';\r\nimport latin from '../assets/img/latin-search.jpg';\r\nimport jazz from '../assets/img/jazz-search.jpg';\r\nimport indie from '../assets/img/indie-search.jpg';\r\nimport wellness from '../assets/img/wellness-search.jpg';\r\nimport sleep from '../assets/img/sleep-search.jpg';\r\nimport decades from '../assets/img/decades-search.jpg';\r\nimport workout from '../assets/img/workout-search.jpg';\r\nimport party from '../assets/img/party-search.jpg';\r\nimport focus from '../assets/img/focus-search.jpg';\r\nimport alternativ from '../assets/img/alternativ-search.jpg';\r\nimport travel from '../assets/img/travel-search.jpg';\r\nimport soul from '../assets/img/soul-search.jpg';\r\nimport funk from '../assets/img/funk-search.jpg';\r\nimport metal from '../assets/img/metal-search.jpg';\r\nimport classical from '../assets/img/classical-search.jpg';\r\nimport blues from '../assets/img/blues-search.jpg';\r\n//import { debounce, throttle } from 'lodash';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setCurrTrack, addToNextQueue, setQueue, playNextTrack } from '../store/station.actions.js';\r\nimport { SearchResultTrack } from '../cmps/searchResultTrack';\r\nimport { SearchResultStation } from '../cmps/searchResultStation';\r\nimport { SearchResultStationDetails } from '../cmps/searchResultStationDetails';\r\nimport { stationServiceNew } from '../services/station.service';\r\nimport { apiService, youtubeApiService } from '../services/youtubeApi.service';\r\nvar _ = require('lodash');\r\n\r\n\r\nclass _Search extends React.Component {\r\n    state = {\r\n        keySearch: null,\r\n        isOnSearch: false,\r\n        trackResult: null,\r\n        stationResult: null\r\n\r\n    }\r\n\r\n    //delayedHandleChange = _.debounce(eventData => stationService.searchTrack(eventData), 700);\r\n\r\n\r\n\r\n    delayedHandleChange = _.debounce(async () => {\r\n        if (!this.state.keySearch) return\r\n        if (this.props?.isOnDeatils) {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = []\r\n        }\r\n        else {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = await stationServiceNew.searchStation(this.state.keySearch);\r\n            var stationResultApi = await youtubeApiService.getStationByTag(this.state.keySearch);\r\n            if (stationResultApi)\r\n                if (!stationResult.some(result => result.name === stationResultApi[0].name))\r\n                    stationResult = stationResult.concat(stationResultApi)\r\n        }\r\n        if (!trackResult) {\r\n            trackResult = []\r\n        }\r\n        // if (trackResult.length === 0) return\r\n        // else {\r\n        this.setState({ trackResult, stationResult }, () => {\r\n            this.setState({ isOnSearch: true });\r\n\r\n        })\r\n        // }\r\n    }, 700);\r\n\r\n\r\n    moveScrollDwon = _.debounce(async () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        if (homePage)\r\n            homePage.scrollTop = homePage.scrollHeight - 700\r\n    }, 800)\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.setState({ keySearch: target.value }, () => {\r\n            if (this.state.keySearch === '' || this.state.keySearch === ' ') {\r\n                this.setState({ isOnSearch: false })\r\n                return\r\n            }\r\n            this.delayedHandleChange(this.state.keySearch)\r\n            this.moveScrollDwon()\r\n        })\r\n\r\n    }\r\n\r\n    onPlayTrack = async (track = null, idx = null) => {\r\n        if (!track && !idx) {\r\n            this.setState(prevState => ({ ...prevState }))\r\n            return\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([track], idx)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { trackResult, isOnSearch, stationResult } = this.state\r\n        return (\r\n            <section className='search'>\r\n                <MainLayout>\r\n                    <form onSubmit={(ev) => ev.stopPropagation()}>\r\n                        <input type='text' placeholder='Artists, songs or podcasts ' onChange={this.handleChange} />\r\n                    </form>\r\n                    {!this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultTrack trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStation stationResult={stationResult.slice(0,2)} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    {this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStationDetails loadStation={this.props.loadStation} stationId={this.props.stationId} trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    <div className='title'>Browse all</div>\r\n                    <div className='grid-container-search'>\r\n                        <Link to=\"station/pop\">\r\n                            <div className=\"grid-element-1\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>pop</span>\r\n                                <img src={pop} />\r\n                            </div>\r\n                        </Link>\r\n                        <Link to=\"station/chill\">\r\n                            <div className=\"div3\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>chill</span> <img src={chill} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/party\">\r\n                            <div className=\"div4\" style={{ backgroundColor: 'rgb(175, 40, 150)' }} ><span>party</span><img src={party} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/focus\">\r\n                            <div className=\"div5\" style={{ backgroundColor: 'rgb(80, 55, 80)' }}><span>focus</span><img src={focus} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/alternative\">\r\n                            <div className=\"div6\" style={{ backgroundColor: 'rgb(180, 155, 200)' }}><span>alternativ</span><img src={alternativ} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/summer\">\r\n                            <div className=\"div14\" style={{ backgroundColor: 'rgb(255, 200, 100)' }}><span>summer</span><img src={summer} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/indie\">\r\n                            <div className=\"div7\" style={{ backgroundColor: 'rgb(96, 129, 8)' }}><span>indie</span><img src={indie} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/latin\">\r\n                            <div className=\"div19\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>latin</span><img src={latin} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/wellness\">\r\n                            <div className=\"div8\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>wellness</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/sleep\">\r\n                            <div className=\"div9\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>sleep</span><img src={sleep} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/decade\">\r\n                            <div className=\"div10\" style={{ backgroundColor: 'rgb(186, 93, 7)' }}><span>decades</span><img src={decades} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/workout\">\r\n                            <div className=\"div11\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>workOut</span><img src={workout} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/at-home\">\r\n                            <div className=\"div12\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>at Home</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/travel\">\r\n                            <div className=\"div13\" style={{ backgroundColor: 'rgb(45, 70, 185)' }}><span>travel</span><img src={travel} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/souls\">\r\n                            <div className=\"div15\" style={{ backgroundColor: 'rgb(220, 20, 140)' }}><span>soul</span><img src={soul} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/jazz\">\r\n                            <div className=\"div16\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>jazz</span><img src={jazz} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/funk\">\r\n                            <div className=\"div17\" style={{ backgroundColor: 'rgb(230, 30, 50)' }}><span>funk</span><img src={funk} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/mood\">\r\n                            <div className=\"grid-element-2\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>mood</span><img src={mood} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/metal\">\r\n                            <div className=\"div18\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>metal</span><img src={metal} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/classical\">\r\n                            <div className=\"div20\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>classical</span><img src={classical} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/blues\">\r\n                            <div className=\"div21\" style={{ backgroundColor: 'rgb(13, 115, 236)' }}><span>blues</span><img src={blues} /></div>\r\n                        </Link>\r\n\r\n                    </div>\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue,\r\n    setQueue\r\n}\r\n\r\n\r\nexport const Search = connect(mapStateToProps, mapDispatchToProps)(_Search)","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setCurrTrack, addToNextQueue, setQueue, loadStations, toggleIsPlaying } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport stationImg from '../assets/img/stationImg.jpg'\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport { DraggableTrackList } from '../cmps/draggable-track-list.jsx';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { Search } from './search.jsx';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { youtubeApiService } from '../services/youtubeApi.service.js';\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\n\r\nclass _StationDetails extends Component {\r\n    state = {\r\n        stationId: null,\r\n        station: null,\r\n        isPlaying: false,\r\n        songs: null,\r\n        isLike: false,\r\n        isFindMore: false,\r\n        isShowAll: false\r\n    }\r\n    async componentDidMount() {\r\n        await this.loadStation()\r\n        let { user } = this.props\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = this.props.user\r\n        }\r\n        if (this.state.station && this.state.station._id) {\r\n            if (user.likedStations.includes(this.state.station._id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        const { stationId } = this.props.match.params\r\n        if (prevProps.user?.likedTracks.length !== this.props.user?.likedTracks.length) return this.loadStation()\r\n        if (stationId !== this.state.station?._id && stationId !== this.state.station?.genre) {\r\n            await this.loadStation()\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (this.state.station) {\r\n                if (user.likedStations.includes(this.state.station._id)) {\r\n                    this.setState({ isLike: true })\r\n                }\r\n                else this.setState({ isLike: false })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    loadStation = async () => {\r\n        const { stationId } = this.props.match.params;\r\n        let station\r\n        try {\r\n            //only for guest\r\n            station = await stationServiceNew.getStationFromLocal(stationId)//search in local storage\r\n            if (!station)\r\n                if (stationId.length === 24) {\r\n                    station = await stationServiceNew.getStationById(stationId)\r\n                    console.log('got by id', station);\r\n                } else {\r\n                    station = await stationServiceNew.getStationByGenre(stationId)\r\n                    console.log('got by genre', station);\r\n                }\r\n            if (!station) {\r\n                station = await youtubeApiService.getStationByTag(stationId)\r\n                if (station)\r\n                    station = station[0]\r\n                console.log('got from api', station);\r\n            }\r\n            let user;\r\n            if (stationId === 'likedTracks') {\r\n                user = await this.props.user\r\n                if (!user) {\r\n                    await this.props.loadUser();\r\n                    user = await this.props.user\r\n                }\r\n                if (user.likedTracks) {\r\n                    station.songs = [...user.likedTracks]\r\n                }\r\n                else {\r\n                    console.log('no liked tracks');\r\n                }\r\n            }\r\n            if (station) {\r\n                this.setState({ station, stationId: station._id, songs: station.songs })\r\n            }\r\n            else this.setState({ station: [] })\r\n        }\r\n        catch {\r\n            console.log('had issues');\r\n        }\r\n    }\r\n\r\n    playRandTrack = async () => {\r\n        if (!this.props.currTrack || this.props.playedStation !== this.state.station._id) {\r\n            const songs = [...this.state.station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], this.state.stationId);\r\n        }\r\n        this.props.toggleIsPlaying()\r\n    }\r\n\r\n\r\n    onSortEnd = ({ oldIndex, newIndex }) => {\r\n        const { station } = this.state\r\n        station.songs = arrayMoveImmutable(station.songs, oldIndex, newIndex)\r\n        this.setState((prevState) => ({ ...prevState, station }), () => {\r\n            if (this.props.currTrack && this.props.playedStation === this.state.stationId) {\r\n                this.props.setQueue([...station.songs], this.state.stationId)\r\n            }\r\n        })\r\n    }\r\n\r\n    toggleLike = async (ev, stationOrTrack) => {\r\n        ev.stopPropagation()\r\n        this.setState(prevState => {\r\n            return { ...prevState, isLike: !this.state.isLike }\r\n        }, () => this.handleToggleLike(stationOrTrack))\r\n    }\r\n\r\n    handleToggleLike = async (stationOrTrack) => {\r\n        if (this.state.isLike) {\r\n            //if the station is from the search\r\n            if (!this.state.station._id) {\r\n                const stationToSave = await stationServiceNew.saveStation(this.state.station)\r\n                this.setState({ station: stationToSave })\r\n                await this.props.addLikeToTrack(stationToSave._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n            else {\r\n                this.props.addLikeToTrack(this.state.station._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n        }\r\n        else {\r\n            this.props.removeLikeFromTrack(this.state.station._id, stationOrTrack)\r\n            showErrorMsg('Removed from Your Library')\r\n        }\r\n        const { stationId } = this.state\r\n        this.loadStation()\r\n\r\n    }\r\n\r\n\r\n    handleFindMore = () => {\r\n        this.setState({ isFindMore: !this.state.isFindMore }, () => {\r\n            this.moveSrollDown()\r\n        });\r\n\r\n    }\r\n\r\n    moveSrollDown = () => {\r\n        console.log('moving scroll down');\r\n        const homePage = document.querySelector('.station-details')\r\n        console.log('scrollHeight', homePage.scrollHeight);\r\n        homePage.scrollTop = homePage.scrollHeight\r\n    }\r\n\r\n    render() {\r\n        const { station, isFindMore } = this.state\r\n        const { user } = this.props\r\n        const { stationId } = this.props.match.params;\r\n        if (!station) return <Loading />\r\n        return (\r\n            <section className='station-details'>\r\n                <div className=\"station-head flex\">\r\n                    {station.songs?.length > 0 &&\r\n                        <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                    }\r\n                    {!station.songs.length &&\r\n                        <img src={stationImg} />\r\n                    }\r\n                    <div className=\"title-details\">\r\n                        <p>Playlist</p>\r\n                        <h1>{station.name}</h1>\r\n                        <ul className=\"clean-list flex\">\r\n                            <li>{station.createdBy?.fullname}</li>\r\n                            <li>{station.songs.length} songs</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <Link className=\"fas back fa-chevron-left\" to=\"/\"></Link>\r\n                <div className='bar-action flex'>\r\n                    <button className=\"play-rand\" onClick={this.playRandTrack}>\r\n                        <i className={this.props.isPlaying && this.props.playedStation === station._id ? \"fas fa-pause\" : \"fas fa-play\"}></i>\r\n                    </button>\r\n\r\n                    {\r\n                        (stationId !== 'likedTracks' && this.state.isLike) && <span className='isLike' style={{ fontSize: \"32px\" }} onClick={(ev) => { this.toggleLike(ev, 'station') }} className=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        (stationId !== 'likedTracks' && !this.state.isLike)\r\n                        && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev, 'station') }} />\r\n                    }\r\n                </div>\r\n                <MainLayout>\r\n\r\n                    <DraggableTrackList songs={station.songs} currStation={station}\r\n                        axis='xy' loadStation={this.loadStation} onSortEnd={this.onSortEnd}\r\n                        distance={20} />\r\n                    <div className='show-btn flex'>\r\n                        {<div className={`find-more ${!isFindMore ? \"green\" : \"\"}`} onClick={this.handleFindMore}>\r\n                            {isFindMore ? 'Find less' : 'Find more tracks!'}\r\n                        </div>}\r\n                    </div>\r\n                    {isFindMore &&\r\n                        <>\r\n                            <span>Let's find something to your station</span>\r\n                            <Search loadStation={this.loadStation} stationId={this.state.stationId} isOnDeatils={true}\r\n                            />\r\n                        </>\r\n                    }\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    loadStations,\r\n    addToNextQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack,\r\n    toggleIsPlaying,\r\n}\r\n\r\n\r\nexport const StationDetails = connect(mapStateToProps, mapDispatchToProps)(_StationDetails)","import React from 'react'\r\nimport { StationDetails } from './station-details'\r\nimport { connect } from 'react-redux'\r\nimport { TrackList } from '../cmps/trackList'\r\nimport { setCurrTrack, addToNextQueue } from '../store/station.actions.js';\r\nimport { TrackPreview } from '../cmps/track-preview';\r\nimport { Link } from 'react-router-dom'\r\nimport { MainLayout } from '../cmps/layout/MainLayout';\r\n\r\nclass _Queue extends React.Component {\r\n    componentDidMount() {\r\n        document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n    }\r\n\r\n\r\n\r\n    onAddToNextQueue = (track) => {\r\n        this.props.addToNextQueue(track)\r\n    }\r\n    render() {\r\n\r\n        const songs = this.props.queue\r\n        if (!songs.length && !this.props.playNextQueue) return <div><span>Add to your queue</span>\r\n            <span>Tap \"Add to queue\" from a trackws menu to see it here</span>\r\n            <Link to='/search'>\r\n                <button>FIND SOMETHING TO PLAY</button>\r\n            </Link>\r\n        </div>\r\n\r\n\r\n        return (\r\n            <div className='queue-page'>\r\n                <MainLayout>\r\n                    <div className='station-track-list flex column'>\r\n                        <div className=\"queue-header\">\r\n                            <h2>Queue</h2>\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>New Playing</h4>\r\n                        </div>\r\n                        <div className=\"now-playing-container\">\r\n                            {\r\n                                this.props.currTrack &&\r\n                                <TrackPreview track={this.props.currTrack} idx={0} playTrack={() => { }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Playing Next Queue</h4>\r\n                        </div>\r\n                        <div className=\"playing-next-queue-container\">\r\n                            {\r\n                                this.props.playNextQueue &&\r\n                                <TrackList songs={this.props.playNextQueue} onAddToNextQueue={this.onAddToNextQueue} idx={0} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} />\r\n                            }\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Queue</h4>\r\n                        </div>\r\n                        <div className=\"queue-container\">\r\n\r\n                            {\r\n                                songs &&\r\n                                <TrackList songs={songs} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </MainLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        queue: state.stationMoudle.queue,\r\n        playNextQueue: state.stationMoudle.playNextQueue\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue\r\n}\r\n\r\n\r\nexport const Queue = connect(mapStateToProps, mapDispatchToProps)(_Queue)\r\n\r\n","export default __webpack_public_path__ + \"static/media/enter.bc102390.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport enter from '../assets/img/enter.png'\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Lotify      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\n\r\nclass _Signin extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    }\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      }\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onLogin = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onLogin(this.state.credentials)\r\n    this.clearState()\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n              <img style={{ height: \"30px\" }} src={enter} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={this.onLogin} noValidate sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"username\"\r\n                label=\"username\"\r\n                type=\"password\"\r\n                id=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={this.handleChange}\r\n                value={username}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={this.handleChange}\r\n                value={password}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href=\"/signup\" variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 8, mb: 4 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signin = connect(mapStateToProps, mapDispatchToProps)(_Signin)\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.0a7c2920.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport user from '../assets/img/user.png'\r\n\r\n\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        mister toy</Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\nclass _Signup extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    },\r\n    isSignup: false,\r\n    isLogin: false\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      },\r\n      isSignup: false\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onSignup = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onSignup(this.state.credentials);\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n    this.clearState()\r\n  }\r\n\r\n\r\n  render() {\r\n    const { username, password, fullname } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <img style={{ height: \"28px\" }} src={user} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign up\r\n            </Typography>\r\n            <Box component=\"form\" noValidate onSubmit={this.onSignup} sx={{ mt: 3 }}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    autoComplete=\"fullname\"\r\n                    name=\"fullname\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"fullname\"\r\n                    label=\"fullname\"\r\n                    autoFocus\r\n                    value={fullname}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    id=\"username\"\r\n                    label=\"username\"\r\n                    name=\"username\"\r\n                    autoComplete=\"username\"\r\n                    value={username}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"new-password\"\r\n                    value={password}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <FormControlLabel\r\n                    control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                    label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Link href=\"/\" variant=\"body2\">\r\n                    Already have an account? Sign in\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 5 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    //user: state.userModule.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signup = connect(mapStateToProps, mapDispatchToProps)(_Signup)\r\n\r\n","import { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass _LikedSongsPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        let songs;\r\n        if (!currStation || station._id !== currStation._id) {\r\n\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (user.likedTracks) {\r\n                songs = [...user.likedTracks]\r\n            }\r\n            else {\r\n                console.log('no liked tracks');\r\n            }\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (stationId) => {\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div> not found</div>\r\n        return (\r\n            <div className=\"station-preview liked-songs-link\" onClick={() => this.navigateToStation(station.genre)}>\r\n                <div className=\"station-name-header\">\r\n                    <h3>{station.name}</h3>\r\n                    <span>{`${station.songs.length} liked songs`}</span>\r\n                </div>\r\n                <p className=\"station-desc\">\r\n                    {station.songs.reduce((songStr, song) => {\r\n                        songStr += song.title\r\n                        return songStr;\r\n                    }, '')}\r\n\r\n                    {/* .slice(0, 30) + '...'} */}\r\n                </p>\r\n                <div className=\"liked-songs-play-icon-container\" onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    this.playRandTrack()\r\n                }}>\r\n                    <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        currStation: state.stationMoudle.currStation,\r\n        user: state.userMoudle.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    loadUser,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __LikedSongsPreview = connect(mapStateToProps, mapDispatchToProps)(_LikedSongsPreview)\r\nexport const LikedSongsPreview = withRouter(__LikedSongsPreview);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { LikedSongsPreview } from '../cmps/liked-songs-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\n\r\nclass _Stations extends Component {\r\n  state = {\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadStations();\r\n    document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n\r\n  }\r\n\r\n\r\n  getLikedSongsStation = (stations) => {\r\n    // console.log('stations from stations', stations);\r\n    return stations.find(station => station.genre === 'likedTracks')\r\n  }\r\n\r\n  render() {\r\n    let { stations } = this.props\r\n    if (!stations) return <h1>loading...</h1>\r\n    const likedSongsStation = this.getLikedSongsStation(stations)\r\n    stations = stations.filter(station => station.genre !== 'likedTracks')\r\n    return (\r\n      // <div className=\"station-page\">\r\n      <MainLayout>\r\n        <div className=\"stations-container-new\">\r\n          <header className=\"stations-header\">\r\n            <h1>Playlists</h1>\r\n          </header>\r\n          <section className='stations-cards'>\r\n            {/* <div className=\"flex\"> */}\r\n            <LikedSongsPreview station={likedSongsStation} />\r\n            {stations.map(station => <StationPreview key={station._id} station={station} />)}\r\n            {/* </div> */}\r\n          </section>\r\n          {/* </div> */}\r\n        </div>\r\n      </MainLayout >\r\n\r\n      // </div>\r\n    )\r\n\r\n\r\n    return (\r\n      <div className=\"stations-wrapper\">\r\n        <MainLayout>\r\n          <header>\r\n            <h1>Playlists</h1>\r\n          </header>\r\n          <section className='stationss-container card-grid'>\r\n\r\n            {stations.map((station, idx) => {\r\n              return idx === 0 ?\r\n                <LikedSongsPreview key={station._id} station={station} /> :\r\n                <StationPreview key={station._id} station={station} />\r\n\r\n            })\r\n            }\r\n          </section>\r\n          {/* </div> */}\r\n        </MainLayout >\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadStations,\r\n}\r\n\r\n\r\nexport const Stations = connect(mapStateToProps, mapDispatchToProps)(_Stations)","export default __webpack_public_path__ + \"static/media/gramophone.fe94f89c.png\";","import React, { Component } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setUserPref, loadUser } from '../store/user.actions'\r\nimport { userService } from '../services/user.service.js';\r\nimport logo from '../assets/img/gramophone.png'\r\n\r\n\r\n\r\nclass _UserPref extends Component {\r\n    state = {\r\n        artists: [{ artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' },\r\n        { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n\r\n    selectArtist = ({ target }, artist) => {\r\n        if (target.parentElement.classList.contains('selected')) return\r\n        target.parentElement.classList.add('selected')\r\n        const img = target.parentElement.children[0].src;\r\n        this.setState((prevState) => ({ artists: [...prevState.artists, { artist, img }] }), () => {\r\n            if (this.state.artists.length >= 6) {\r\n                this.props.setUserPref([...this.state.artists, { artist, img }])\r\n            }\r\n        })\r\n        // this.props.loadUser()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { stations, user } = this.props\r\n        if (!stations || !user) return <h1>loading...</h1>\r\n        if (user.userPref?.length >= 5) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        return (\r\n            <div className=\"user-pref\">\r\n                <header>\r\n                    <h1>Choose at least 4 of your favorite artists</h1>\r\n                    <p>Improve your experience</p>\r\n                </header>\r\n                <MainLayout>\r\n                    <div className=\"artists\">\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kaleo')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrZSbWTyBAENocILL6FsPxL0FcSRdA0XNnDExc8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kaleo</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'donald glover')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR54qbXPUrgKCf0tmiquuqTiYDElO_Cekw-pSCs_g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Donald Glover</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'sia')}>\r\n                            <img src=\"https://yt3.ggpht.com/0xb0rVHF2QHhnmQA5xKQiqPPPuq0gQbHkM8zCvR4vEpvWDNhSSJYUuGXmWZHAjNHJYebQim2=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Sia</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'justin bieber')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Justin Bieber</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'led zepplin')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRfwQJh6x8tdSDOPuMENrMgWxp6c9Wyi4k5dL3QeA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Led Zeppelin</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'eminem')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSk-AeebphZllYPnC6dyL4Ebaufx9EfWWcpWi5kvw=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Eminem</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ed sheeran')}>\r\n                            <img src=\"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ed Sheeran</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ariana grande')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrULhlsqTk0LW6WZ4ufoPC2vRrI-Hv7iQMcwALzA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ariana Grande</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'nirvana')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTcKOFg-V_beC58driCSWsjY01b2yASCkXpLo6z=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Nirvana</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'avicii')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRxjYtdXH5SpVo0Hbgj-MV9iSYOZkPnyGBPX3dBtQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Avicii</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'motzart')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR-UxFlle0Li25HB_1AmFLgE1EZ5oF5lsGIojom=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Motzart</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beyonce')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSYFl86h5I9oWxAlUCb9ujyZVYus_NrMBnLnQZq=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beyoncé</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'taylor swift')}>\r\n                            <img src=\"https://yt3.ggpht.com/MqKm9xyjonzkICKA78ir0AM-WUR47ntkBeJlgHeIk_rUnPuukiWtzOEmU7UjO8cFoPrBatCh3As=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Taylor Swift</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'blink 182')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLS9wSSSch2T5RCOqeWes0CQPq6CuE7n6BH6SGqp9g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Blink-182</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'twenty one pilots')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLShoAv85PyHPQZXkdEYAirEFkVlHT7QL0SO4jnLPQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Twenty one pilots</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'coldplay')}>\r\n                            <img src=\"https://yt3.ggpht.com/gDGaWA0ykI0RuD-x0tOtlZQp_pmfqXMastg2rAJhCoGXeG7a44LL0BlSOZ1nQpuaj5apqzjxa4Y=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Coldplay</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'imagine dragons')}>\r\n                            <img src=\"https://yt3.ggpht.com/aXBmHKABw-J-0ZMxj39wkXpLDEHViOdL5UD71cDG2s5vbeQBWk9mdX3rRxT5U6Wfkvm6o8Uu-dU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Imagine Dragons</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'AC-DC')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR5p4C0mvYOySvgi0lcJEQ2b9GQ5RENU_js8bHV=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>AC/DC</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'martin garrix')}>\r\n                            <img src=\"https://yt3.ggpht.com/in7ji16oeon_ypiAMeH-ZdTWSaIC54yZqMsFg0X3uhTBk4MDCuIkRf6TIoQQCqjl20DSdakhSQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Martin Garrix</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'chainsmokers')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLReODCO_8A0kTfEi7hIofuikdVUmLtUI31Y3JTk8g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Chainsmokers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'stromae')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRmW311L8rsVEfFzaHyrhrSlxLBdMpzimz6IbmjFQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Stromae</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'billie eilish')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Billie Eilish</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'james arthur')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTBGfA-SCl13HK2wvNgIlYp4csR75r4iedoDbDQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>James Arthur</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'metallica')}>\r\n                            <img src=\"https://yt3.ggpht.com/cZ87jDcUyng8WCTC_FZIZhtjd0VQIoyla_GLOCqCJwiePKbnsgMFAoJlJXO3JUdIDiG0U-W-Q-U=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Metallica</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beartooth')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTrxAVj8B25pE4f3QOevhtu2aQPCeu9s6JSqR9hOg=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beartooth</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'michael jackson')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Michael Jackson</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'lily allen')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSlQDVT6TciEB3aqI4j98pAANAN37aLz6TIUCVX1g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Lily Allen</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the lumineers')}>\r\n                            <img src=\"https://yt3.ggpht.com/JeSo37nuDNtXpYeRCXkdSd0BY1EBwOX3DjsoI7h5qS8qtURwdacx87aGyLsW-Zt_xHst5YN0j2A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Lumineers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the neighbourhood')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLQuDzCsZ6o-eJrE-VN4V6hEvVasPCudmbpW1etVWQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Neighbourhood</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'aerosmith')}>\r\n                            <img src=\"https://yt3.ggpht.com/GVz2Q0BOmqNFKQvNXSoC5rVJWqvsajttYdF0VN6lYfwK2Misv-NJr_5akFEHxc8YkyGquGoZ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Aerosmith</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'earth wind and fire')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSluhlgTQdg-VPnftxDahd5w3uqU7gZzQ2HN2Ocig=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Earth ,wind and fire </h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'MGMT')}>\r\n                            <img src=\"https://yt3.ggpht.com/uAFVZ2fFM7MshpUPfUxDWC_zZoXS9LYYKVu9WtmERQsei97F7oG0EJxLKZpmIxCBk-ZO6I2FiQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>MGMT</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'bruno mars')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRRqICmdfNojkf55KFwEqi1A2Yh0dcSyIsXxkOWmFM=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Bruno Mars</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kanye west')}>\r\n                            <img src=\"https://yt3.ggpht.com/OZ6-K14IWCEu6rgIgmox9cID8hTUObJ9uPn_BRwr4O1CNyB_u6N3BqpaztggGYfKVv4rdR0zPYU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kanye West</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'tash sultana')}>\r\n                            <img src=\"https://yt3.ggpht.com/iWAic-fKa7o7IGIzND9MiSKPqjL6Kb3fkd4gr_jRX7tKkjOMgZ5Ems3COKImBF8-szRTswzU8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Tash Sultana</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'milky chance')}>\r\n                            <img src=\"https://yt3.ggpht.com/rxuJTmm-nGWtgvPdVyePl4PdDIwhEopv78WM7jyj6UI3ChJYjCOMd7c_AbuYSdzYMs2AMCu1WQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Milky Chance</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                    </div>\r\n                </MainLayout >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setUserPref,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const UserPref = connect(mapStateToProps, mapDispatchToProps)(_UserPref)","//import {HomePage} from './pages/home-page.jsx'\r\n//import {AboutUs} from './pages/about-us.jsx'\r\n//import {CarApp} from './pages/car-app.jsx'\r\n\r\nimport {Friends} from \"./pages/friends\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Queue } from \"./pages/queue\";\r\nimport { Search } from \"./pages/search\";\r\nimport { Signin } from \"./pages/signin\";\r\nimport { Signup } from \"./pages/signup\";\r\nimport { StationDetails } from \"./pages/station-details\";\r\nimport { Stations } from \"./pages/stations\";\r\nimport { UserPref } from \"./pages/user-pref\";\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: UserPref,\r\n    },\r\n\r\n    {\r\n        path: '/home',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/station/:stationId',\r\n        component: StationDetails,\r\n    },\r\n    {\r\n        path: '/queue',\r\n        component: Queue,\r\n    },\r\n    {\r\n        path: '/friends',\r\n        component: Friends,\r\n    },\r\n    {\r\n        path: '/search',\r\n        component: Search\r\n    },\r\n    {\r\n        path: '/stations',\r\n        component: Stations\r\n    }\r\n\r\n\r\n]\r\n\r\nexport default routes;","import React, { Component } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Slider from '@mui/material/Slider';\r\nimport ReactPlayer from 'react-player'\r\nimport { connect } from 'react-redux'\r\nimport { setFriendCurrTrack } from '../store/friends.actions.js'\r\n\r\nimport {\r\n    setPlay, playNextTrack, playPrevTrack, shuffleQueue, toggleIsPlaying,\r\n    setCurrTrack, setQueue, unshuffleQueue, setCurrStation\r\n} from '../store/station.actions.js';\r\nimport { Duration } from '../services/util.service';\r\nimport { withRouter } from \"react-router\";\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { addLikeToTrack,  loadUsers, removeLikeFromTrack } from '../store/user.actions';\r\nimport { showErrorMsg, showNotificationMsg, showSuccessMsg } from '../services/event-bus.service.js';\r\nimport { socketService } from '../services/socket.service'\r\n\r\n\r\n\r\nclass _AppFooter extends Component {\r\n    state = {\r\n        volume: 30,\r\n        isPlayedTrack: false,\r\n        played: 0,\r\n        loaded: 0,\r\n        duration: 0,\r\n        inQueue: false,\r\n        isShuffle: false,\r\n        isLiked: false,\r\n        trackAndUsers: [],\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        socketService.setup()\r\n        socketService.on('send notification', (obj) => {\r\n            console.log(obj.username, obj.stationName, 'username, stationName');\r\n            showNotificationMsg(obj.username + ' liked your playlist: ' + obj.stationName)\r\n            //eventBusService.emit(obj.username)\r\n        })\r\n        socketService.on('send follow notification', (username) => {\r\n\r\n            showNotificationMsg(username + ' followd you')\r\n            //eventBusService.emit(username)\r\n        })\r\n        socketService.on('user track', ({ track, user }) => {\r\n            this.props.setFriendCurrTrack({ track, user, currLoginUser: this.props.user })\r\n        })\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevstate) {\r\n        if (this.props.currTrack !== prevProps.currTrack) {\r\n            socketService.emit('play track', { track: this.props.currTrack, user: this.props.user })\r\n            this.isTrackLiked()\r\n            //this.props.toggleIsPlaying();\r\n            this.props.setPlay()\r\n            this.setState({ played: 0, duration: 0 })\r\n        }\r\n        if (!this.props.user || !prevProps.user) return\r\n        if (this.props.user.likedTracks.length !== prevProps.user.likedTracks.length) {\r\n            this.isTrackLiked()\r\n        }\r\n    }\r\n\r\n    isTrackLiked = () => {\r\n        if (!this.props.currTrack) return\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        const isLiked = trackIdxs.includes(this.props.currTrack.id)\r\n        this.setState({ isLiked })\r\n        return isLiked\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        this.setState({ volume: newValue });\r\n    }\r\n\r\n    playRandTrack = async (stations) => {\r\n        let randIdx = Math.floor(Math.random() * (stations.length))\r\n        let station = stations[randIdx]\r\n        while (station.genre === 'likedTracks') {\r\n            randIdx = Math.floor(Math.random() * (stations.length))\r\n            station = stations[randIdx]\r\n        }\r\n        const songs = [...station.songs];\r\n        const idx = Math.floor(Math.random() * (songs.length))\r\n        const track = songs[idx]\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([...songs], station._id);\r\n        this.props.setCurrStation(station)\r\n        this.props.setPlay()\r\n    }\r\n\r\n    togglePlay = async () => {\r\n        if (!this.props.currTrack) {\r\n            await this.playRandTrack(this.props.stations)\r\n        }\r\n        else if (this.state.isLoaded)\r\n            this.props.toggleIsPlaying();\r\n\r\n        // original code\r\n        // if (this.state.isLoaded)\r\n        // this.props.toggleIsPlaying();\r\n    }\r\n\r\n\r\n    handleSeekMouseDown = e => {\r\n        if (!this.props.currTrack) return\r\n        this.setState({ seeking: true })\r\n    }\r\n\r\n    handleSeekChange = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ played: parseFloat(e.target.value) },\r\n        )\r\n    }\r\n\r\n    handleSeekMouseUp = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ seeking: false })\r\n        this.player.seekTo(parseFloat(e.target.value))\r\n    }\r\n\r\n    handleProgress = state => {\r\n        // We only want to update time slider if we are not currently seeking\r\n        if (!this.state.seeking) {\r\n            this.setState(state)\r\n        }\r\n    }\r\n\r\n\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    ref = player => {\r\n        this.player = player\r\n    }\r\n\r\n\r\n    goNext = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    goShuffle = () => {\r\n        if (this.state.isShuffle) {\r\n            this.props.unshuffleQueue(this.props.playedStation)\r\n        } else {\r\n            this.props.shuffleQueue([...this.props.queue])\r\n        }\r\n        this.setState({ isShuffle: !this.state.isShuffle })\r\n    }\r\n\r\n    goPrev = () => {\r\n        this.props.playPrevTrack()\r\n    }\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    handleEnded = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    inQueue = async () => {\r\n        this.setState({ inQueue: !this.state.inQueue }, () => {\r\n            if (this.state.inQueue)\r\n                this.props.history.push(`/queue`)\r\n            else {\r\n                this.props.history.goBack()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLiked: !this.state.isLiked }, () => {\r\n            if (this.state.isLiked) {\r\n\r\n                this.props.addLikeToTrack(this.props.currTrack, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.currTrack.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    onGoToplaylist = () => {\r\n        if (!this.props.playedStation) return\r\n        this.props.history.push(`/station/${this.props.playedStation}`)\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { played, duration, volume, isShuffle} = this.state\r\n        const { isPlaying } = this.props\r\n        const track = this.props.currTrack\r\n        return (\r\n            <div className=\"player-container\">\r\n                {\r\n                    track &&\r\n                    <div className='player'>\r\n                        <ReactPlayer\r\n                            ref={this.ref}\r\n                            playing={isPlaying}\r\n                            url={`https://www.youtube.com/watch?v=${track.id}`}\r\n                            onDuration={this.onDuration}\r\n                            onProgress={this.onProgress}\r\n                            width='0px'\r\n                            heigth='0px'\r\n                            volume={volume / 100}\r\n                            onProgress={this.handleProgress}\r\n                            onDuration={this.handleDuration}\r\n                            onReady={() => { this.setState({ isLoaded: true }) }}\r\n                            controls={false}\r\n                            onEnded={this.handleEnded}\r\n                            muted={false}\r\n                        />\r\n                    </div>\r\n                }\r\n                <div className='playing-bar'>\r\n                    <div className='song-name-bar'>\r\n                        <div className='img-container-player'>\r\n                            {\r\n                                track &&\r\n                                <img onClick={this.onGoToplaylist} className='track-img' src={track.imgUrl} alt=\"track\"/>\r\n                            }\r\n                        </div>\r\n                        <div onClick={this.onGoToplaylist} className=\"song-name\">\r\n                            <p>\r\n                                {track ? track.title : \"\"}\r\n                            </p>\r\n                        </div>\r\n                        {track && <div className=\"like-heart\">\r\n                            {\r\n                                this.state.isLiked && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} class=\"fas fa-heart\"></span>\r\n                            }\r\n                            {\r\n                                !this.state.isLiked && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} alt=\"like\"/>\r\n                            }\r\n                        </div>}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"player-controls\">\r\n                        <div className=\"player-controls-btn flex\">\r\n                            <span className={isShuffle ? \"fas fa-random green\" : \"fas fa-random\"} onClick={this.goShuffle}></span>\r\n\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goPrev}></span>\r\n\r\n                            {\r\n                                isPlaying &&\r\n                                <span className=\"fas fa-pause\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            {\r\n                                !isPlaying &&\r\n                                <span className=\"fas fa-play\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goNext}></span>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <div className='played-input flex'>\r\n                            <Duration seconds={duration * played} />\r\n                            <input\r\n                                type='range' min={0} max={0.999999} step='any'\r\n                                value={played}\r\n                                onMouseDown={this.handleSeekMouseDown}\r\n                                onChange={(ev) => this.handleSeekChange(ev)}\r\n                                onMouseUp={this.handleSeekMouseUp}\r\n                            />\r\n                            <Duration seconds={duration} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"volume\">\r\n                        <div className='queue-btn'>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <Box sx={{ width: 200 }}>\r\n                            <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n                                {volume === 0 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-mute\"></span>}\r\n                                {volume > 0 && volume < 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-down\"></span>}\r\n                                {volume > 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-up\"></span>}\r\n                                <Slider aria-label=\"Volume\" value={volume} onChange={this.handleChange} style={{ color: '#1db954', width: \"150px\" }} />\r\n                            </Stack>\r\n                        </Box>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        queue: state.stationMoudle.queue,\r\n        user: state.userMoudle.user,\r\n        stations: state.stationMoudle.stations,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    playNextTrack,\r\n    playPrevTrack,\r\n    shuffleQueue,\r\n    unshuffleQueue,\r\n    toggleIsPlaying,\r\n    setPlay,\r\n    setCurrStation,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    setCurrTrack,\r\n    setQueue,\r\n    setFriendCurrTrack,\r\n    loadUsers\r\n}\r\n\r\n\r\nconst __AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(__AppFooter);\r\n","\r\n\r\nexport function setFriendCurrTrack({ track, user, currLoginUser }) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_FRIEND_CURR_TRACK',\r\n                track,\r\n                user,\r\n                currLoginUser\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { addStation } from '../store/station.actions.js';\r\n\r\nclass _CreateStation extends Component {\r\n    state = {\r\n        station: {\r\n            name: \"\",\r\n            tags: [],\r\n        },\r\n        songs: [],\r\n        isCreate: false\r\n    }\r\n\r\n    labelOptions = [\r\n        { value: \"happy\", label: \"happy\" },\r\n        { value: \"pop\", label: \"Pop\" },\r\n        { value: \"sad\", label: \"Sad\" },\r\n        { value: \"alternative\", label: \"Alternative\" },\r\n        { value: \"Rock\", label: \"Rock\" },\r\n        { value: \"rap\", label: \"Rap\" },]\r\n\r\n    componentDidMount() {\r\n        eventBusService.on(\"create-playlist\", this.create)\r\n    }\r\n\r\n    create = (track) => {\r\n        const songs = track ? [track] : []\r\n        this.setState({ isCreate: !this.state.isCreate, songs, station: { name: \"\", tags: [] } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        if (Array.isArray(target)) {\r\n            let tags = target.map(option => option.value)\r\n            this.setState(prevState => ({ ...prevState, station: { ...prevState.station, tags } }))\r\n            return\r\n        }\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, station: { ...prevState.station, [key]: val } }))\r\n    }\r\n\r\n\r\n    onAddStation = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.station.name) { }\r\n        const newStation = {\r\n            name: this.state.station.name ? this.state.station.name : 'Playlist',\r\n            tags: this.state.station.tags,\r\n            likedByUsers: [],\r\n            songs: this.state.songs\r\n        }\r\n        this.props.addStation(newStation)\r\n        this.create()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isCreate, station } = this.state\r\n        return (\r\n            <>\r\n                <div className={`create-playlist ${isCreate ? \"on\" : \"off\"}`} onSubmit={(ev) => { this.onAddStation(ev) }}>\r\n                    <div className=\"header\">\r\n                        <h1>Create Playlist</h1>\r\n                        <button className=\"create-close-btn\" onClick={this.create}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Name\"\r\n                                value={station.name}\r\n                                name=\"name\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <CreatableSelect\r\n                                onChange={(e) => this.handleChange({ 'target': e })}\r\n                                name='label'\r\n                                className=\"select\"\r\n                                closeMenuOnSelect={false}\r\n                                options={this.labelOptions}\r\n                                isMulti\r\n                                value={this.state.station.tags.map(tag => ({ value: tag, label: tag }))}\r\n                                placeholder=\"Tags...\"\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"33px\", background: '#1db954' }} variant=\"contained\" onClick={this.onAddStation}>\r\n                                    Create\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className={`body-modal ${isCreate ? \"on\" : \"off\"}`} onClick={this.create}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addStation\r\n}\r\n\r\n\r\nexport const CreateStation = connect(mapStateToProps, mapDispatchToProps)(_CreateStation)","export default __webpack_public_path__ + \"static/media/ringing.482c1707.png\";","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\nimport ringing from '../assets/img/ringing.png'\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 5000)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <></>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <div id={`toast`} className={`show  ${msgClass}`}><div id=\"img\"><img style={{ height: '20px', width: \"20px\" }} src={ringing} /></div><div id=\"desc\"> {this.state.msg.txt}</div></div>\r\n      //<section className={'user-msg ' + msgClass}>\r\n      //  <button onClick={() => {\r\n      //    this.setState({ msg: null })\r\n      //  }}>x</button>\r\n      //  {this.state.msg.txt}\r\n      //</section>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport { MainNav } from './cmps/main-nav.jsx'\r\nimport routes from './routes.js'\r\nimport { AppFooter } from './cmps/app-footer.jsx'\r\nimport { CreateStation } from './cmps/create-playlist.jsx'\r\nimport { UserProfile } from './cmps/profile'\r\nimport { UserMsg } from './cmps/user-msg.jsx'\r\nimport { Signin } from './pages/signin.jsx'\r\nimport { Signup } from './pages/signup.jsx'\r\n\r\nexport class RootCmp extends React.Component {\r\n    // componentDidMount() {\r\n\r\n    //     return new Promise(resolve => {\r\n\r\n    //         window.fbAsyncInit = function () {\r\n    //             window.FB.init({\r\n    //                 appId: '992060094973798',\r\n    //                 cookie: true,\r\n    //                 xfbml: true,\r\n    //                 version: 'v12.0'\r\n    //             });\r\n\r\n    //             window.FB.AppEvents.logPageView();\r\n\r\n    //         };\r\n\r\n    //         (function (d, s, id) {\r\n    //             var js, fjs = d.getElementsByTagName(s)[0];\r\n    //             if (d.getElementById(id)) { return; }\r\n    //             js = d.createElement(s); js.id = id;\r\n    //             js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    //             fjs.parentNode.insertBefore(js, fjs);\r\n    //         }(document, 'script', 'facebook-jssdk'));\r\n\r\n    //     })\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {/*<Route exact component={Signin} path=\"/\" />\r\n                <Route exact component={Signup} path='/signup' />*/}\r\n                <main className=\"main-app\">\r\n                    <CreateStation />\r\n                    <MainNav />\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                    <UserMsg />\r\n                    <AppFooter />\r\n                </main>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/styles.scss'\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorkerRegistration.register()\r\n\r\n // If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n "],"sourceRoot":""}