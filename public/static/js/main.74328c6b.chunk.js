(this["webpackJsonpmy-first-cli-proj"]=this["webpackJsonpmy-first-cli-proj"]||[]).push([[0],{405:function(e,t,n){},406:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(26),c=n.n(s),i=n(31),o=n(28),u=n(111),l=n(230),d=n(5),p=n(15),A={stations:[],queue:[],playNextQueue:[],currTrack:null,isPlaying:!1,playedStation:null,currStation:null};var h={user:null,users:[]};var f={trackAndUsers:[],notificationMsg:[]};var j=Object(u.b)({stationMoudle:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0,r=t,a=Object(p.a)(t.queue),s=Object(p.a)(t.playNextQueue),c={};switch(n.type){case"SET_STATIONS":r=Object(d.a)(Object(d.a)({},t),{},{stations:n.stations});break;case"SET_CURR_TRACK":n.track.nextQueue&&t.currTrack&&s.splice(n.idx,1),(null===(e=t.currTrack)||void 0===e?void 0:e.nextQueue)||a.push(t.currTrack),r=Object(d.a)(Object(d.a)({},t),{},{currTrack:n.track,queue:a,playNextQueue:s});break;case"SET_QUEUE":var i=n.queue.findIndex((function(e){return t.currTrack.id===e.id})),o=n.queue.splice(0,i);n.queue.shift(),n.queue=n.queue.concat(o),r=Object(d.a)(Object(d.a)({},t),{},{queue:n.queue,playedStation:n.stationId});break;case"ADD_TO_NEXT_QUEUE":if(!t.currTrack){r=Object(d.a)(Object(d.a)({},t),{},{currTrack:n.track});break}s.push(n.track),r=Object(d.a)(Object(d.a)({},t),{},{playNextQueue:s});break;case"SHUFFLE_QUEUE":r=Object(d.a)(Object(d.a)({},t),{},{queue:n.queue});break;case"TOGGLE_ISPLAYING":r=Object(d.a)(Object(d.a)({},t),{},{isPlaying:!t.isPlaying});break;case"SET_PLAY":r=Object(d.a)(Object(d.a)({},t),{},{isPlaying:!0});break;case"NEXT_TRACK":c=t.playNextQueue.length>0?s.shift():a.shift(),t.currTrack.nextQueue||a.push(t.currTrack),r=Object(d.a)(Object(d.a)({},t),{},{currTrack:c,queue:a,playNextQueue:s});break;case"PREV_TRACK":c=a.pop(),a.unshift(t.currTrack),r=Object(d.a)(Object(d.a)({},t),{},{currTrack:c,queue:a});break;case"SET_CURR_STATION":r=Object(d.a)(Object(d.a)({},t),{},{currStation:n.station});break;case"ADD_STATION":r=Object(d.a)(Object(d.a)({},t),{},{stations:[].concat(Object(p.a)(t.stations),[n.newStation])})}return r},userMoudle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=e;switch(t.type){case"CHANGE_COUNT":n=Object(d.a)(Object(d.a)({},e),{},{count:e.count+t.diff});break;case"SET_USER":n=Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)({},t.user)});break;case"REMOVE_USER":n=Object(d.a)(Object(d.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});break;case"SET_USERS":n=Object(d.a)(Object(d.a)({},e),{},{users:Object(p.a)(t.users)});break;case"UPDATE_USER":var r=e.users.map((function(e){return e._id===t.user._id?t.user:e}));n=Object(d.a)(Object(d.a)({},e),{},{users:r,user:Object(d.a)({},t.user)});break;case"ADD_LIKE_TO_TRACK":n="station"===t.stationOrTrack?Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{likedStations:[].concat(Object(p.a)(e.user.likedStations),[t.trackId])})}):Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{likedTracks:[].concat(Object(p.a)(e.user.likedTracks),[t.trackId])})});break;case"REMOVE_LIKE_FROM_TRACK":if("station"===t.stationOrTrack){var a=e.user.likedStations.filter((function(e){return e!==t.trackId}));n=Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{likedStations:a})})}else{var s=e.user.likedTracks.filter((function(e){return e.id!==t.trackId}));n=Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{likedTracks:s})})}break;case"SET_USER\u05b9_PREF":n=Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{userPref:t.userPref})});break;case"ADD_TO_RECENTLY_PLAYED":n="station"===t.stationOrTrack?Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{recentlyPlayedStations:[].concat(Object(p.a)(e.user.recentlyPlayedStations),[t.track])})}):Object(d.a)(Object(d.a)({},e),{},{user:Object(d.a)(Object(d.a)({},e.user),{},{recentlyPlayedSongs:[].concat(Object(p.a)(e.user.recentlyPlayedSongs),[t.track])})})}return n},friendMoudle:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0,r=t;switch(n.type){case"SET_FRIEND_CURR_TRACK":if(!(null===(e=n.currLoginUser.following)||void 0===e?void 0:e.length))return[];if(!n.currLoginUser.following.includes(n.user._id)){var a=t.trackAndUsers.filter((function(e){return e.user._id!==n.user._id}));r=Object(d.a)(Object(d.a)({},t),{},{trackAndUsers:a});break}var s=t.trackAndUsers.findIndex((function(e){return e.user._id===n.user._id}));if(-1!==s){var c=Object(p.a)(t.trackAndUsers),i=Object(d.a)({},c[s]);i.track=n.track,c[s]=i,r=Object(d.a)(Object(d.a)({},t),{},{trackAndUsers:c})}else r=Object(d.a)(Object(d.a)({},t),{},{trackAndUsers:[].concat(Object(p.a)(t.trackAndUsers),[{track:n.track,user:Object(d.a)({},n.user)}])})}return r}}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,g=Object(u.d)(j,b(Object(u.a)(l.a))),m=n(18),x=n(19),O=n(21),v=n(20),k=n(32),y=n(4),P=n.n(y),w=n(7),S=(n.p,n.p+"static/media/gramophone-svgrepo-com.db7a0ac8.svg");var C={on:function(e,t){var n=function(e){var n=e.detail;t(n)};return window.addEventListener(e,n),function(){window.removeEventListener(e,n)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}};function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";C.emit("show-user-msg",{txt:e,type:t})}function N(e){T(e,"success")}function E(e){T(e,"notification")}function I(e){T(e,"danger")}window.myBus=C,window.showUserMsg=T;var Q=n(231),B=n.n(Q),U=function(){var e=null;return{setup:function(){e=B()("")},on:function(t,n){e.on(t,n)},off:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(n?e.off(t,n):e.removeAllListeners(t))},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();window.socketService=U,U.setup(),U.on("review-about-you",(function(e){console.log("Review about me!",e)}));var M=n(1),L=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).handleClick=function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.toggleMenu(!r.state.isMenuOpen);case 2:r.setState({activLink:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.setSelectedStationId=function(e){r.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{selectedStationId:e})}))},r.toggleMenu=function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({isMenuOpen:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={links:[{id:1,name:"Home",to:"/",fa:"fa-home"},{id:2,name:"Search",to:"/search",fa:"fa-search"},{id:3,name:"My Stations",to:"/stations",fa:"fa-library"},{id:4,name:"Liked Songs",to:"/station/likedTracks",fa:"fa-heart"},{id:5,name:"Friends",to:"/friends",fa:"fa-user-friends"}],activLink:1,selectedStationId:null,isMenuOpen:!1},r}return Object(x.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.stations,n=this.state,r=n.activLink,a=n.links,s=n.selectedStationId,c=n.isMenuOpen;return a?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"hamburger-wrapper",children:Object(M.jsx)("div",{className:"hamburger ".concat(c?"active":""),onClick:this.toggleMenu.bind(this,!c),children:Object(M.jsx)("div",{})})}),Object(M.jsxs)("nav",{className:c?"main-nav active":"main-nav",children:[Object(M.jsx)(i.b,{to:"/Home",children:Object(M.jsxs)("div",{className:"banner",children:[Object(M.jsx)("div",{className:"logo-img-container",children:Object(M.jsx)("img",{src:S,alt:""})}),Object(M.jsxs)("h4",{children:["Lotify",Object(M.jsx)("span",{children:"."})]})]})}),Object(M.jsxs)("ul",{className:"primary-nav",children:[a.map((function(t){return Object(M.jsx)("li",{onClick:function(){return e.handleClick(t.id)},className:t.id===r?"active":"",children:Object(M.jsxs)(i.c,{to:t.to,children:[Object(M.jsx)("span",{className:"nav-icon fas ".concat(t.fa)}),t.name]})},t.id)})),Object(M.jsx)("li",{onClick:function(){C.emit("create-playlist")},className:"nav-create",children:Object(M.jsxs)("a",{children:[Object(M.jsx)("span",{className:"nav-icon fas fa-plus-square"}),"Create Playlist"]})})]}),Object(M.jsx)("ul",{className:"stations",children:t.map((function(t){return Object(M.jsx)("li",{onClick:function(){return e.setSelectedStationId(t._id)},children:Object(M.jsx)(i.c,{to:"/station/".concat(t._id),className:s===t._id?"station-link selected-station":"station-link",children:t.name})},t._id)}))})]})]}):Object(M.jsx)("div",{children:"loading."})}}]),n}(a.a.Component);var D=Object(o.b)((function(e,t){return{stations:e.stationMoudle.stations}}))(L),R=n(9),F=function(e){var t=e.children;return Object(M.jsx)("div",{className:"main-container",children:t})};var q={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)},removeFromStorage:function(e){localStorage.removeItem(e)}},H={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},makeLorem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],n="";for(;e>0;)e--,n+=t[Math.floor(Math.random()*t.length)]+" ";return n},getRandomIntInclusive:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}};function K(e){var t=e.className,n=e.seconds;return Object(M.jsx)("time",{dateTime:"P".concat(Math.round(n),"S"),className:t,children:G(n)})}function G(e){var t=new Date(1e3*e),n=t.getUTCHours(),r=t.getUTCMinutes(),a=Y(t.getUTCSeconds());return n?"".concat(n,":").concat(Y(r),":").concat(a):"".concat(r,":").concat(a)}function Y(e){return("0"+e).slice(-2)}var J=n(43),z=n.n(J);n(144),z.a.create({withCredentials:!0});var W=z.a.create({withCredentials:!0}),V="/api/station",Z={query:X,getStationById:function(e){return ne.apply(this,arguments)},searchStation:function(e){return ie.apply(this,arguments)},saveStation:function(e){return e._id?function(e){return ce.apply(this,arguments)}(e):function(e){return se.apply(this,arguments)}(e)},getStationByGenre:function(e){return ae.apply(this,arguments)},getStationFromLocal:function(e){return re.apply(this,arguments)},getStationsByUser:function(){return te.apply(this,arguments)},getGoodDay:function(){return $.apply(this,arguments)},getHot:function(){return ee.apply(this,arguments)}};function X(){return _.apply(this,arguments)}function _(){return(_=Object(w.a)(P.a.mark((function e(){var t,n,r=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,W.get("".concat(V),{params:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("".concat(V,"/goodDay"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("".concat(V,"/hot"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(w.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getLoggedinUser();case 2:return t=e.sent,e.next=5,W.get("".concat(V,"/station/").concat(t._id));case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("".concat(V,"/").concat(t));case 2:return n=e.sent,console.log("\ud83d\ude80 ~ file: station.service.js ~ line 51 ~ getStationById ~ res.data",n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.loadFromStorage("stations");case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e._id===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("".concat(V,"/genre/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.post("".concat(V),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.put("".concat(V),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({keySearch:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=z.a.create({withCredentials:!0}),ue={getLoggedinUser:me,getUserById:function(e){return ye.apply(this,arguments)},addLikeToTrack:function(e,t){return ve.apply(this,arguments)},removeLikeFromTrack:function(e,t){return ke.apply(this,arguments)},AddToRecentlyPlayed:function(e,t){return ge.apply(this,arguments)},setUserPref:function(e){return we.apply(this,arguments)},isGuest:function(){return Oe.apply(this,arguments)},updateUser:je,signup:function(e){return pe.apply(this,arguments)},login:Ae,logout:function(){return fe.apply(this,arguments)},getUsers:function(e){return Pe.apply(this,arguments)}},le="user",de="/api";function pe(){return(pe=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.post("".concat(de,"/auth/signup"),t);case 2:return n=(n=e.sent).data,q.saveToStorage(le,n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return he.apply(this,arguments)}function he(){return(he=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.post("".concat(de,"/auth/login"),t);case 2:return n=(n=e.sent).data,q.saveToStorage(le,n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return(fe=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.post("".concat(de,"/auth/logout"));case 2:return t=e.sent,q.removeFromStorage(le),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return be.apply(this,arguments)}function be(){return(be=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("guest"===t.username){e.next=8;break}return e.next=3,oe.put("".concat(de,"/user/").concat(t._id),t);case 3:return Se((n=e.sent).data),e.abrupt("return",n.data);case 8:return Se(t),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(w.a)(P.a.mark((function e(t,n){var r,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:if(r=e.sent,"track"!==n){e.next=10;break}!(a=r.recentlyPlayedSongs).length<10&&(a=a.slice(Math.max(a.length-9,0))),a.unshift(t),r.recentlyPlayedSongs=a,e.next=18;break;case 10:if(t&&null!==t){e.next=12;break}return e.abrupt("return");case 12:if(!(s=r.recentlyPlayedStations).some((function(e){return e===t}))){e.next=15;break}return e.abrupt("return");case 15:!s.length<10&&(s=s.slice(Math.max(s.length-9,0))),s.unshift(t),r.recentlyPlayedStations=s;case 18:if("guest"===r.username){e.next=22;break}return e.next=21,je(r);case 21:r=e.sent;case 22:return Se(r),e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return xe.apply(this,arguments)}function xe(){return(xe=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=q.loadFromStorage(le),console.log(t),t){e.next=6;break}return e.next=5,Ae({username:"guest"});case 5:me();case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return t=e.sent,e.abrupt("return","guest"===t.username);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(w.a)(P.a.mark((function e(t,n){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:if(r=e.sent,"station"!==n){e.next=29;break}return r.likedStations.unshift(t),e.next=7,Z.getStationFromLocal(t);case 7:if(a=e.sent){e.next=20;break}if(24!==t.length){e.next=16;break}return e.next=12,Z.getStationById(t);case 12:a=e.sent,console.log("got by id",a),e.next=20;break;case 16:return e.next=18,Z.getStationByGenre(t);case 18:a=e.sent,console.log("got by genre",a);case 20:if(console.log("\ud83d\ude80 ~ file: user.service.js ~ line 120 ~ addLikeToTrack ~ stationToUpdate",a),U.emit("add like",{userIdliked:a.createdBy.id,currUser:r,stationName:a.name}),a.likedByUsers||(a.likedByUsers=[]),a.likedByUsers.some((function(e){return e.id===r._id}))){e.next=27;break}return a.likedByUsers.push({username:r.username,id:r._id}),e.next=27,Z.saveStation(a);case 27:e.next=30;break;case 29:r.likedTracks.unshift(t);case 30:if("guest"===r.username){e.next=34;break}return e.next=33,je(r);case 33:r=e.sent;case 34:return Se(r),e.abrupt("return",r);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(w.a)(P.a.mark((function e(t,n){var r,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:if(r=e.sent,"station"===n?(a=r.likedStations.filter((function(e){return e!==t})),r.likedStations=a):(s=r.likedTracks.filter((function(e){return e.id!==t})),r.likedTracks=s),"guest"===r.username){e.next=8;break}return e.next=7,je(r);case 7:r=e.sent;case 8:return Se(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("".concat(de,"/user/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={filterBy:t},console.log(t,"filterBy"),e.next=4,oe.get("".concat(de,"/user"),{params:t});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return(n=e.sent).userPref=t,"guest"!==n.username&&je(n),Se(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){q.saveToStorage(le,e)}function Ce(){return function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.getLoggedinUser();case 3:if(n=e.sent){e.next=8;break}return e.next=7,ue.login({username:"guest"});case 7:n=e.sent;case 8:t({type:"SET_USER",user:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}function Te(){return function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.getUsers();case 3:n=e.sent,t({type:"SET_USERS",users:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function Ne(e,t){return function(){var n=Object(w.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ue.addLikeToTrack(e,t);case 3:r({type:"ADD_LIKE_TO_TRACK",trackId:e,stationOrTrack:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("UserActions: err in removeUser",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}function Ee(e,t){return function(){var n=Object(w.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ue.removeLikeFromTrack(e,t);case 3:r({type:"REMOVE_LIKE_FROM_TRACK",trackId:e,stationOrTrack:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("UserActions: err in removeUser",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}function Ie(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.login(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),U.emit("set-user-socket",r._id),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),I("Cannot login"),console.log("Cannot login",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Qe(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.signup(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),U.emit("set-user-socket",r._id),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),I("Cannot signup"),console.log("Cannot signup",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Be(){return function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.logout();case 3:Ce(),U.emit("unset-user-socket"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),I("Cannot signup"),console.log("Cannot signup",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var Ue,Me=n(89),Le={query:function(e){return Promise.resolve(Ue)},saveStation:Fe,deleteStation:function(e){var t=Ue.findIndex((function(t){return e===t.id}));return Ue.splice(t,1),qe(),Promise.resolve()},getStationById:function(e){var t=Ue.find((function(t){return e===t._id}));return Promise.resolve(t)},getNextStationId:function(e){var t=Ue.findIndex((function(t){return t.id===e}))+1;t===Ue.length&&(t=0);return Ue[t].id},searchTrack:function(e){return He.apply(this,arguments)},addToStation:function(e,t){return Ke.apply(this,arguments)},removeFromStation:function(e,t){return Ge.apply(this,arguments)},getStationByTag:function(e){return Ye.apply(this,arguments)},searchStation:function(e){return Ue.filter((function(t){if(t.name.includes(e)||t.tags.includes(e))return t}))}},De="stations",Re=[];function Fe(e){return e._id?function(e){var t=Ue.findIndex((function(t){return t.id===e.id}));return Ue[t]=e,qe(),Promise.resolve()}(e):function(e){var t=function(e){return e._id=H.makeId(),e}(e);return Ue.unshift(t),qe(),Promise.resolve(t)}(e)}function qe(){q.saveToStorage(De,Ue)}function He(){return(He=Object(w.a)(P.a.mark((function e(t){var n,r,a,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:if(!(Re=q.loadFromStorage([t]))){e.next=6;break}return console.log("No need to fetch, retrieving from Cache"),e.abrupt("return",Re);case 6:return e.prev=6,e.next=9,z.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=".concat(t,"&type=video&videoCategoryId=10&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs"));case 9:return r=e.sent,a=(a=r.data.items.map((function(e){return e.id.videoId}))).join(),e.next=14,z.a.get("https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=".concat(a,"&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs"));case 14:if(s=(s=e.sent).data.items.map((function(e){return e.contentDetails.duration})),Re=r.data,null===(n=r.data)||void 0===n?void 0:n.items.length){e.next=19;break}return e.abrupt("return",[]);case 19:return c=r.data.items.map((function(e,t){return{id:e.id.videoId,title:e.snippet.title,imgUrl:e.snippet.thumbnails.high.url,duration:s[t]}})),e.next=22,q.saveToStorage([t],c);case 22:return e.abrupt("return",c);case 25:e.prev=25,e.t0=e.catch(6),console.log("Cannot reach server:",e.t0);case 28:case"end":return e.stop()}}),e,null,[[6,25]])})))).apply(this,arguments)}function Ke(){return(Ke=Object(w.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.find((function(e){return e._id===n})).songs.push(t),qe();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(w.a)(P.a.mark((function e(t,n){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ue.find((function(e){return e._id===n})),a=r.songs.findIndex((function(e){return t.id===e.id})),r.songs.splice(a,1),qe();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(w.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Re=q.loadFromStorage(t+"playlist"))){e.next=4;break}return console.log("No need to fetch, retrieving from Cache"),e.abrupt("return",Re);case 4:return e.prev=4,e.next=7,z.a.get("https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=".concat(t,"&type=playlist&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs"));case 7:return n=e.sent,e.next=10,n.data.items.map(function(){var e=Object(w.a)(P.a.mark((function e(n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=".concat(n.id.playlistId,"&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs"));case 2:return r=e.sent,e.abrupt("return",{ganer:t,name:n.snippet.title,tags:[t],createdBy:{_id:"u101",fullname:"app",imgUrl:"http://some-photo"},songs:r.data.items.map((function(e){return{id:e.snippet.resourceId.videoId,title:e.snippet.title,imgUrl:e.snippet.thumbnails.high.url,duration:"PT4M26S"}}))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return r=e.sent,e.next=13,Promise.all(r);case 13:return Fe((r=e.sent)[0]),e.abrupt("return",r);case 18:e.prev=18,e.t0=e.catch(4),console.log("Cannot reach server:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}function Je(){return function(){var e=Object(w.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.getStationsByUser();case 3:return n=e.sent,e.next=6,Le.query();case 6:r=e.sent,n=n.concat(r),console.log(n),t({type:"SET_STATIONS",stations:n}),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.log("Had Issues ".concat(e.t0)),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function ze(e,t){return function(){var n=Object(w.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:"SET_CURR_TRACK",track:e,idx:t})}catch(a){console.log("UserActions: err in removeUser",a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=e.filter((function(e){return!e.nextQueue})),function(){var n=Object(w.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r({type:"SET_QUEUE",queue:e,stationId:t}),t){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,ue.AddToRecentlyPlayed(t,"station");case 6:r({type:"ADD_TO_RECENTLY_PLAYED",stationOrTrack:"station",stationId:t}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("setQueue  error",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ve(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=Object(d.a)({},e)).nextQueue=!0,n({type:"ADD_TO_NEXT_QUEUE",track:r}),N("Added to queue");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ze(){return function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"TOGGLE_ISPLAYING"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Xe(){return function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_PLAY"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function _e(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_CURR_STATION",station:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}!function(){var e=q.loadFromStorage(De);e&&e.length||(e=[]);Ue=e,qe()}();var $e=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).playTrack=function(){var t=Object(w.a)(P.a.mark((function t(n,r){var a,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.currStation,s=[n],t.next=4,e.props.setCurrTrack(n,r);case 4:if(n.nextQueue){t.next=7;break}return t.next=7,e.props.setQueue(s,null===a||void 0===a?void 0:a._id);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"render",value:function(){var e,t,n,r=this;return Object(M.jsxs)("div",{className:"user-preview flex",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(Me.a,(t={size:"100",src:null===(e=this.props.usersImgs.find((function(e){return r.props.currUserId===e.id})))||void 0===e?void 0:e.url},Object(R.a)(t,"size","60"),Object(R.a)(t,"round",!0),t)),this.props.users&&Object(M.jsx)("span",{children:null===(n=this.props.users.find((function(e){return e._id===r.props.currUserId})))||void 0===n?void 0:n.username})]}),this.props.track&&Object(M.jsx)("span",{className:"is-active",children:"is active "}),this.props.track&&Object(M.jsxs)("div",{className:"track",onClick:function(){r.playTrack(r.props.track.track,0)},children:[Object(M.jsx)("img",{src:this.props.track.track.imgUrl}),Object(M.jsx)("div",{children:Object(M.jsxs)("p",{children:[" ",this.props.track.track.title]})})]}),!this.props.track&&Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"is-active",children:" User is not active"})}),!this.props.track&&Object(M.jsx)("div",{children:Object(M.jsx)("span",{})})]})}}]),n}(r.Component);var et={loadStations:Je,addToNextQueue:Ve,setCurrTrack:ze,setQueue:We},tt=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,queue:e.stationMoudle.queue,currTrack:e.stationMoudle.currTrack,playNextQueue:e.stationMoudle.playNextQueue,isPlaying:e.stationMoudle.isPlaying,user:e.userMoudle.user}}),et)($e),nt=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={users:[],userImg:[]},e.getCurrTrack=function(t){var n,r=null===(n=e.props.trackAndUsers)||void 0===n?void 0:n.filter((function(e){if(e.user._id===t)return e.track}));return r=!!r.length&&r[0]},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.users;return this.state.users&&this.props.user?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"flex header",children:[Object(M.jsx)("span",{children:"Username"}),Object(M.jsx)("span",{className:"is-active",children:"status"}),Object(M.jsx)("span",{children:"Listening to"})]}),Object(M.jsx)("div",{className:"user-track",children:n&&n.following.map((function(t){var a;return console.log(n.following,"user.following"),Object(M.jsx)(tt,{users:e.props.users,currUserId:t,usersImgs:e.props.usersImgs,user:null===(a=r.find((function(e){return e._id===t})))||void 0===a?void 0:a.username,track:e.getCurrTrack(t)})}))})]}):Object(M.jsx)("div",{children:"loading"})}}]),n}(r.Component);var rt={loadUser:Ce},at=Object(o.b)((function(e){return{user:e.userMoudle.user}}),rt)(nt),st=(n(144),function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={trackAndUsers:[],usersImgs:[],users:[]},e.loadUsers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var n=e.props.users.filter((function(n){return n.username.toUpperCase().includes(t.toUpperCase())&&"615b1395706f019209666d5d"!==n._id&&n._id!==e.props.user._id}));e.setState({users:n})}else{var r=e.props.users.filter((function(t){var n;if("615b1395706f019209666d5d"!==t._id&&t._id!==(null===(n=e.props.user)||void 0===n?void 0:n._id))return t}));e.setState({users:r})}},e.handleChange=function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target,e.loadUsers(r.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onFollow=function(){var t=Object(w.a)(P.a.mark((function t(n,r){var a,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(d.a)({},e.props.user),r?(s=a.following.filter((function(e){return e!==n})),a.following=s):(a.following.push(n),U.emit("following",{userIdToFollow:n,currUser:a})),t.next=4,e.props.updateUser(a);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUsers();case 2:return e.next=4,this.props.loadUser();case 4:return U.setup(),this.setState({trackAndUsers:this.props.trackAndUsers}),console.log(this.state.trackAndUsers,"trackAndUsers"),e.next=9,this.loadUsers("");case 9:t=this.state.users.map((function(e){return e.img?{url:e.img,id:e._id}:{url:"https://cdn-icons-png.flaticon.com/512/149/149071.png",id:e._id}})),this.setState({usersImgs:t});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.trackAndUsers,n=this.props.user,r=this.state.users;return r&&this.state.usersImgs?Object(M.jsx)(F,{children:Object(M.jsxs)("section",{className:"friends-container",children:[Object(M.jsx)("h1",{children:" Follow your friends!"}),Object(M.jsxs)("div",{className:"friend-following flex",children:[Object(M.jsxs)("div",{className:"all-users-container",children:[Object(M.jsx)("div",{children:Object(M.jsx)("input",{type:"text",onChange:this.handleChange,placeholder:"Search you friends"})}),Object(M.jsx)("div",{className:"users-table",children:r&&r.map((function(t,r){var a,s;return Object(M.jsxs)("div",{className:"friend-following-preview flex",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(Me.a,(s={size:"100",src:null===(a=e.state.usersImgs.find((function(e){return t._id===e.id})))||void 0===a?void 0:a.url},Object(R.a)(s,"size","60"),Object(R.a)(s,"round",!0),s)),Object(M.jsx)("span",{children:t.username})]}),Object(M.jsxs)("div",{children:[n.following.includes(t._id)&&Object(M.jsx)("button",{className:"following",onClick:function(){e.onFollow(t._id,!0)},children:" Unfollow"}),!n.following.includes(t._id)&&Object(M.jsx)("button",{className:"follow",onClick:function(){e.onFollow(t._id,!1)},children:"Follow"})]})]})}))})]}),Object(M.jsx)("section",{className:"following-by-user-container flex column",children:Object(M.jsx)(at,{trackAndUsers:t,users:this.state.users,usersImgs:this.state.usersImgs})})]})]})}):Object(M.jsx)("div",{children:"loading"})}}]),n}(r.Component));var ct={updateUser:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,ue.updateUser(e);case 4:t.sent,n({type:"UPDATE_USER",user:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:Te,loadUser:Ce},it=Object(o.b)((function(e){return{trackAndUsers:e.friendMoudle.trackAndUsers,user:e.userMoudle.user,users:e.userMoudle.users}}),ct)(st),ot="data:image/jpeg;base64,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";function ut(e){var t=e.artists;return Object(M.jsx)("div",{className:"favorite-artists",children:t.map((function(e,t){return Object(M.jsxs)(i.b,{to:"/station/".concat(e.artist),className:"station-container",children:[Object(M.jsx)("div",{className:"img-container",children:Object(M.jsx)("img",{src:e.img})}),Object(M.jsx)("h4",{children:e.artist})]},t)}))})}var lt=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).playRandTrack=Object(w.a)(P.a.mark((function t(){var n,r,a,s,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.station,(a=n.currStation)&&r._id===a._id){t.next=13;break}return s=Object(p.a)(r.songs),c=Math.floor(Math.random()*s.length),i=s[c],t.next=7,e.props.setCurrTrack(i,c);case 7:return t.next=9,e.props.setQueue(Object(p.a)(s),r._id);case 9:e.props.setCurrStation(r),e.props.setPlay(),t.next=14;break;case 13:e.props.toggleIsPlaying();case 14:case"end":return t.stop()}}),t)}))),e.navigateToStation=function(t){var n=t._id?t._id:t.name;e.props.history.push("/station/".concat(n))},e}return Object(x.a)(n,[{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.station,s=r.currStation,c=r.isPlaying;return a?Object(M.jsx)("div",{className:"station-preview",children:Object(M.jsxs)("div",{className:"img-card",onClick:function(){return n.navigateToStation(a)},children:[Object(M.jsxs)("div",{className:"square-ratio station-img-container",children:[(null===(e=a.songs)||void 0===e?void 0:e.length)>0&&(null===(t=a.songs[0])||void 0===t?void 0:t.imgUrl)&&Object(M.jsx)("img",{src:a.img?a.img:"".concat(a.songs[0].imgUrl)}),!a.songs.length&&Object(M.jsx)("img",{src:ot}),Object(M.jsx)("div",{className:"play-icon-container",onClick:function(e){e.stopPropagation(),n.playRandTrack()},children:Object(M.jsx)("i",{className:"play-icon ".concat(c&&(null===a||void 0===a?void 0:a._id)===(null===s||void 0===s?void 0:s._id)?"fas fa-pause":"fas fa-play")})})]}),Object(M.jsx)("div",{className:"station-name-header",children:a.name.length<25?a.name:a.name.slice(0,25)+"..."}),Object(M.jsx)("p",{className:"station-desc",children:a.songs.length?a.songs.reduce((function(e,t){return e+=t.title}),"").slice(0,30)+"...":""})]})}):Object(M.jsx)("div",{children:"loading..."})}}]),n}(a.a.Component);var dt={setCurrTrack:ze,setQueue:We,toggleIsPlaying:Ze,setCurrStation:_e,setPlay:Xe},pt=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,isPlaying:e.stationMoudle.isPlaying,queue:e.stationMoudle.queue,currTrack:e.stationMoudle.currTrack,playedStation:e.stationMoudle.playedStation,user:e.userMoudle.user,currStation:e.stationMoudle.currStation}}),dt)(lt),At=Object(k.g)(pt),ht=n.p+"static/media/loader.b84ba084.svg";function ft(){return Object(M.jsx)("img",{src:ht,style:{margin:"250px auto"}})}var jt=n(47),bt=(n(220),n(221),n(222),function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).responseFacebook=function(){var e=Object(w.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n={username:t.email,password:t.userID,fullname:t.name,facebookUserId:t.userID,img:t.picture.data.url},r.props.onSubmit(n)}catch(a){console.log("err:",a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(e){var t=e.target;console.log("here"),r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(R.a)({},t.name,t.value))}))},r.handleSubmit=function(e){e.preventDefault();var t=r.state;r.props.onSubmit(t)},r.resetCredentials=function(){r.setState({username:"",fullname:"",password:"",facebookUserId:null,img:null})},r.handleClose=function(e){r.resetCredentials(),r.props.closeForm()},r.handleSignIn=function(){r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLogin:!1})}))},r.handleLogin=function(){r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLogin:!0})}))},r.state={username:"",password:"",fullname:"",isLogin:r.props.isLogin},r}return Object(x.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.fullname,r=e.password,a=e.isLogin;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"screen",onClick:this.handleClose}),Object(M.jsxs)("section",{className:"form-wrapper",children:[Object(M.jsx)("span",{className:"close-form",onClick:this.handleClose,children:"X"}),Object(M.jsxs)("div",{className:"form-logo flex column align-center",children:[Object(M.jsx)("img",{src:S,alt:""}),Object(M.jsxs)("div",{className:"brand-name",children:[Object(M.jsx)("span",{children:"Lotify"}),Object(M.jsx)("span",{children:"."})]})]}),Object(M.jsx)("h2",{className:"form-header",children:a?"Sign in to continue":"Signup to continue"}),Object(M.jsxs)("form",{action:"",className:"login-signup-form flex column align-center",onSubmit:this.handleSubmit,children:[Object(M.jsx)("input",{type:"text",name:"username",placeholder:"Enter your username",value:t,onChange:this.handleChange}),!a&&Object(M.jsx)("input",{type:"text",name:"fullname",placeholder:"Enter your fullName",value:n,onChange:this.handleChange}),Object(M.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",value:r,onChange:this.handleChange}),Object(M.jsx)("button",{type:"submit",className:"login-signup-btn",children:a?"Login":"Signup"}),a&&Object(M.jsxs)("div",{className:"to-sign-in flex",children:[Object(M.jsx)("span",{children:"Dont have an acount?"}),Object(M.jsx)("span",{onClick:this.handleSignIn,children:"Sign here"})]}),!a&&Object(M.jsx)("span",{className:"back-to-login",onClick:this.handleLogin,children:"Back to Login"})]})]})]})}}]),n}(r.Component)),gt=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={loginOrSignup:null,isLoggedIn:!1,credentials:{username:null,password:null,fullname:null,facebookUserId:null,img:null}},e.getInitialCredentials=function(){return{username:"",password:"",fullname:"",facebookUserId:null,img:null}},e.setLoginOrSignup=function(t){e.setState((function(n){return Object(d.a)(Object(d.a)({},n),{},{credentials:e.getInitialCredentials(),loginOrSignup:t})}))},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{credentials:Object(d.a)(Object(d.a)({},e.credentials),{},Object(R.a)({},r,a))})}))},e.closeForm=function(){e.setLoginOrSignup(null)},e.onSubmit=function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Login"!==e.state.loginOrSignup){t.next=5;break}return t.next=3,e.props.onLogin(n);case 3:t.next=8;break;case 5:return n.userPref=e.props.user.userPref,t.next=8,e.props.onSignup(n);case 8:return e.setLoginOrSignup(null),t.next=11,e.props.loadUser();case 11:return t.next=13,e.props.loadStations();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.facebookComponentClicked=function(){console.log("face soosh component clicked")},e.responseFacebook=function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("responseFacebook",n);try{r={username:n.email,password:n.userID,fullname:n.name,facebookUserId:n.userID,img:n.picture.data.url},e.setLoginOrSignup(null),e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{credentials:r})}),(function(){return e.onSubmit(!0)}))}catch(a){}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){var e=this,t=this.state,n=t.loginOrSignup,r=(t.credentials,this.props.user);return r?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"profiler",children:Object(M.jsxs)(jt.a,{menuButton:Object(M.jsx)(jt.b,{title:r.username,children:Object(M.jsx)(Me.a,{size:"50",src:r.img?r.img:"https://cdn-icons-png.flaticon.com/512/149/149071.png",round:!0})}),children:["guest"===r.username&&Object(M.jsx)(jt.c,{onClick:function(){return e.setLoginOrSignup("Login")},children:"Login"}),"guest"===r.username?Object(M.jsx)(jt.c,{onClick:function(){return e.setLoginOrSignup("Signup")},children:"Signup"}):Object(M.jsx)(jt.c,{onClick:Object(w.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onLogout();case 2:return t.next=4,e.props.loadUser();case 4:e.props.loadStations();case 5:case"end":return t.stop()}}),t)}))),children:"Logout"})]})}),n&&Object(M.jsx)(bt,{onSubmit:this.onSubmit,isLogin:"Login"===n,closeForm:this.closeForm})]}):Object(M.jsx)(M.Fragment,{})}}]),n}(r.Component);var mt={loadUser:Ce,onSignup:Qe,onLogin:Ie,onLogout:Be,loadStations:Je},xt=Object(o.b)((function(e){return{user:e.userMoudle.user}}),mt)(gt),Ot=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={goodDayStations:[],hotStations:[],likedStations:"",recentlyPlayedStations:"",numOfPreviews:5},e.handleRisize=function(t){var n=t[0].contentRect.width;n>1760?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:7})})):n>=1560&&n<1760?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:6})})):n>=1360&&n<1560?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:5})})):n>=1160&&n<1360?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:4})})):n>=960&&n<1160?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:3})})):n>=760&&n<960?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:2})})):n>=685&&n<760?e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:3})})):e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{numOfPreviews:2})}))},e.getTime=function(){var e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"},e.getLikedStation=Object(w.a)(P.a.mark((function t(){var n,r,a,s,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.props.user),t.next=3,e.props.user.likedStations.map((function(e){return Z.getStationById(e)}));case 3:return n=t.sent,t.next=6,e.props.user.recentlyPlayedStations.map((function(e){return Z.getStationById(e)}));case 6:return r=t.sent,t.next=9,Promise.all(n);case 9:return a=t.sent,t.next=12,Promise.all(r);case 12:return s=t.sent,t.next=15,Promise.all([a,s]);case 15:c=t.sent,e.setState({likedStations:c[0],recentlyPlayedStations:c[1]});case 17:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:return e.next=4,this.props.loadStations();case 4:return e.next=6,this.getLikedStation();case 6:return e.next=8,Z.getGoodDay();case 8:return t=e.sent,e.next=11,Z.getHot();case 11:n=e.sent,this.setState({goodDayStations:t,hotStations:n}),this.resizer=new ResizeObserver(this.handleRisize),this.resizer.observe(document.querySelector(".main-app"));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(w.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=t.user)||void 0===n?void 0:n._id)===(null===(r=this.props.user)||void 0===r?void 0:r._id)){e.next=5;break}return e.next=3,this.props.loadStations();case 3:return e.next=5,this.getLikedStation();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.stations,n=e.user;t=t.filter((function(e){return"likedTracks"!==e.genre}));var r=this.state,a=r.likedStations,s=r.numOfPreviews,c=r.recentlyPlayedStations,i=r.goodDayStations,o=r.hotStations;return t&&this.props.user&&a&&c?Object(M.jsxs)("div",{className:"home-page",children:[Object(M.jsx)(xt,{}),Object(M.jsx)("div",{className:"shadow",children:Object(M.jsx)("div",{className:"hero",children:Object(M.jsxs)("h1",{children:["Listen to your favorite music on ",Object(M.jsxs)("span",{className:"logo",children:["Lotify",Object(M.jsx)("span",{children:"."})]})]})})}),Object(M.jsxs)("section",{className:"station-container",children:[Object(M.jsxs)("div",{className:"card card-top",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("h1",{children:this.getTime()})}),n.userPref?Object(M.jsx)(ut,{artists:n.userPref.slice(0,6)}):Object(M.jsx)(ut,{artists:[{artist:"justin bieber",img:"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo"},{artist:"ed sheeran",img:"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo"},{artist:"billie eilish",img:"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo"},{artist:"michael jackson",img:"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo"}]})]}),Object(M.jsxs)(F,{children:["guest"===n.username&&Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("h3",{children:"Good day"})}),Object(M.jsx)("div",{className:"flex genre",children:i.map((function(e){return Object(M.jsx)(At,{station:e},e._id)})).slice(0,Math.min(i.length,s))})]}),"guest"===n.username&&Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("h3",{children:"Hot right now"})}),Object(M.jsx)("div",{className:"flex genre",children:o.map((function(e){return Object(M.jsx)(At,{station:e},e._id)})).slice(0,Math.min(o.length,s))})]}),Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("h3",{children:"Stations you liked"})}),Object(M.jsx)("div",{className:"flex genre",children:a&&a.map((function(e){return Object(M.jsx)(At,{station:e},e._id)})).slice(0,Math.min(a.length,s))})]}),Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("h3",{children:"Recently played"})}),Object(M.jsx)("div",{className:"flex genre",children:c&&c.map((function(e){return Object(M.jsx)(At,{station:e},e._id)})).slice(0,Math.min(c.length,s))})]})]})]})]}):Object(M.jsx)(ft,{})}}]),n}(r.Component);var vt={loadStations:Je,loadUser:Ce},kt=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,user:e.userMoudle.user}}),vt)(Ot),yt=n(106),Pt=n(238),wt=n.p+"static/media/heart-regular.a71c24fa.svg",St=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isLike:!1},e.componentDidMount=Object(w.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadStations();case 2:return t.next=4,e.props.user;case 4:if(t.sent){t.next=11;break}return t.next=8,e.props.loadUser();case 8:return t.next=10,e.props.user;case 10:t.sent;case 11:e.props.user.likedTracks.map((function(e){return e.id})).includes(e.props.track.id)&&e.setState({isLike:!0});case 13:case"end":return t.stop()}}),t)}))),e.getTimeFromDuration=function(e){var t=0,n=0,r=0;if((e=e.replace("PT","")).indexOf("H")>-1){var a=e.split("H");t=parseInt(a[0]),e=a[1]}if(e.indexOf("M")>-1){var s=e.split("M");n=parseInt(s[0]),e=s[1]}if(e.indexOf("S")>-1){var c=e.split("S");r=parseInt(c[0])}var i="";return 0!=t&&(i+=t+":"),0==n?i+="00:":n<10?i+="0"+n+":":n>10?i+=n+":":0==n&&(i+="00:"),r>0&&r<10||r<10?i+="0"+r:r>10?i+=r:0==r&&(i+="00"),i},e.onAddToStation=function(){var t=Object(w.a)(P.a.mark((function t(n){var r,a,s=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=s.length>1&&void 0!==s[1]?s[1]:null)||(r=e.props.currStation),t.next=4,Z.getStationById(r);case 4:if(!(a=t.sent).songs.some((function(e){return e.id===n.id}))){t.next=8;break}return I("This Track already exists in this station "),t.abrupt("return");case 8:return a.songs.push(n),t.next=11,Z.saveStation(a);case 11:N("Add to station");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveFromStation=function(){var t=Object(w.a)(P.a.mark((function t(n,r){var a,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.getStationById(r);case 2:return a=t.sent,s=a.songs.findIndex((function(e){return n.id===e.id})),a.songs.splice(s,1),t.next=7,Z.saveStation(a);case 7:e.props.currStation&&e.props.loadStation(),I("Removed from Station");case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.playTrack=function(){var t=Object(w.a)(P.a.mark((function t(n,r){var a,s,c,i,o,u;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,s=a.currStation,c=a.queue,i=a.currTrack,o=a.playNextQueue,u=s?Object(p.a)(s.songs):c.length&&c.some((function(e){return n.id===e.id}))||o.length&&o.some((function(e){return n.id===e.id}))?[].concat(Object(p.a)(c),[i]):[n],t.next=4,e.props.setCurrTrack(n,r);case 4:if(n.nextQueue){t.next=7;break}return t.next=7,e.props.setQueue(u,null===s||void 0===s?void 0:s._id);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.toggleLike=function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),e.setState({isLike:!e.state.isLike},(function(){e.state.isLike?(e.props.addLikeToTrack(e.props.track,"track"),N("Add to your Liked Tracks")):(e.props.removeLikeFromTrack(e.props.track.id,"track"),I("Removed from your Liked Tracks"))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(x.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(w.a)(P.a.mark((function e(t){var n,r,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.track.id===this.props.track.id&&(null===(n=this.props.user)||void 0===n||null===(r=n.likedTracks)||void 0===r?void 0:r.length)===(null===(a=t.user)||void 0===a||null===(s=a.likedTracks)||void 0===s?void 0:s.length)){e.next=14;break}return e.next=3,this.props.loadStations();case 3:return e.next=5,this.props.user;case 5:if(e.sent){e.next=12;break}return e.next=9,this.props.loadUser();case 9:return e.next=11,this.props.user;case 11:e.sent;case 12:this.props.user.likedTracks.map((function(e){return e.id})).includes(this.props.track.id)?this.setState({isLike:!0}):this.setState({isLike:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n,r,a=this,s=this.props,c=s.track,i=s.idx,o=s.currStation,u=s.stations;s.user;return Object(M.jsxs)("div",{className:"track-container flex",onClick:function(){return a.playTrack(c,i)},children:[this.props.currTrack&&(null===(e=this.props.currTrack)||void 0===e?void 0:e.id)===c.id&&this.props.isPlaying&&Object(M.jsxs)("div",{className:"track-num",children:[" ",Object(M.jsx)("img",{className:"isPlaying",src:"data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++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"})]}),(!this.props.currTrack||this.props.currTrack.id!==c.id||!this.props.isPlaying)&&Object(M.jsx)("div",{className:"track-num",children:i+1}),Object(M.jsx)("div",{className:"track-img",children:Object(M.jsx)("img",{src:c.imgUrl,alt:""})}),Object(M.jsx)("div",{className:"track-title",children:c.title}),Object(M.jsx)("div",{className:"track-duration",children:this.getTimeFromDuration(c.duration)}),!(null===(t=this.props)||void 0===t?void 0:t.isOnDeatils)&&Object(M.jsxs)("div",{className:"likes",children:[this.state.isLike&&Object(M.jsx)("span",Object(R.a)({className:"isLike",onClick:function(e){a.toggleLike(e)}},"className","fas fa-heart")),!this.state.isLike&&Object(M.jsx)("img",{className:"isnotLike",src:wt,onClick:function(e){a.toggleLike(e)}})]}),!(null===(n=this.props)||void 0===n?void 0:n.isOnDeatils)&&Object(M.jsx)("div",{className:"button-cell track-actions",onClick:function(e){e.stopPropagation()},children:Object(M.jsxs)(jt.a,{menuButton:Object(M.jsx)(jt.b,{children:Object(M.jsx)("i",{className:"fas fa-ellipsis-h"})}),children:[Object(M.jsx)(jt.c,{onClick:function(){return a.props.addToNextQueue(c)},children:"Add To queue"}),o&&Object(M.jsx)(jt.c,{onClick:function(){a.onRemoveFromStation(c,o._id)},children:"Remove from Playlist"}),Object(M.jsxs)(jt.d,{label:"Add to playlist",children:[u.map((function(e){return Object(M.jsx)(jt.c,{onClick:function(){a.onAddToStation(c,e._id)},children:e.name})})),Object(M.jsx)(jt.c,{onClick:function(){return C.emit("create-playlist",c)},children:"Create playlist"})]})]})}),(null===(r=this.props)||void 0===r?void 0:r.isOnDeatils)&&Object(M.jsx)("div",{className:"add-track-wrapper",children:Object(M.jsx)("button",{className:"add-track-btn",onClick:function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,a.onAddToStation(c,a.props.stationId);case 3:return e.next=5,a.props.loadStation();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Add"})})]})}}]),n}(r.Component);var Ct={loadStations:Je,addToNextQueue:Ve,setCurrTrack:ze,setQueue:We,addLikeToTrack:Ne,loadUser:Ce,removeLikeFromTrack:Ee},Tt=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,queue:e.stationMoudle.queue,currTrack:e.stationMoudle.currTrack,playNextQueue:e.stationMoudle.playNextQueue,isPlaying:e.stationMoudle.isPlaying,user:e.userMoudle.user}}),Ct)(St),Nt=Object(yt.b)((function(e){var t=e.track,n=e.idx,r=e.currStation,a=e.loadStation,s=e.key;return Object(M.jsx)(Tt,{track:t,idx:n,currStation:r,loadStation:a},s)})),Et=Object(yt.a)((function(e){var t=e.songs,n=e.currStation,r=e.loadStation;return Object(M.jsxs)("div",{className:"station-track-list flex column",children:[Object(M.jsxs)("div",{className:"list-headers flex",children:[Object(M.jsx)("div",{className:"track-num-header",children:"#"}),Object(M.jsx)("div",{className:"track-img-header"}),Object(M.jsx)("div",{className:"track-title-header",children:"Title"}),Object(M.jsx)("div",{className:"duration-header",children:"\u25f7"}),Object(M.jsx)("div",{className:"likes-header"}),Object(M.jsx)("div",{className:"actions-header",children:"actions"})]}),t.map((function(e,t){return Object(M.jsx)(Nt,{index:t,track:e,idx:t,currStation:n,loadStation:r},e.id)}))]})})),It=n.p+"static/media/mood-search.5f7ab9d0.jpg",Qt=n.p+"static/media/pop-search.b2ca6b17.jpg",Bt=n.p+"static/media/chill-search.8a0cf644.jpg",Ut=n.p+"static/media/summer-search.82683c03.jpeg",Mt=n.p+"static/media/latin-search.98aae0b0.jpg",Lt=n.p+"static/media/jazz-search.1a2264a3.jpg",Dt=n.p+"static/media/indie-search.68a13156.jpg",Rt=n.p+"static/media/wellness-search.9ebcb4b9.jpg",Ft=n.p+"static/media/sleep-search.44c526f7.jpg",qt=n.p+"static/media/decades-search.677f0d60.jpg",Ht=n.p+"static/media/workout-search.1349d7b6.jpg",Kt=n.p+"static/media/party-search.eb2ad37f.jpg",Gt=n.p+"static/media/focus-search.4c8a3730.jpg",Yt=n.p+"static/media/alternativ-search.11db08a9.jpg",Jt=n.p+"static/media/travel-search.2ded0578.jpg",zt=n.p+"static/media/soul-search.34659cee.jpg",Wt=n.p+"static/media/funk-search.b77d7780.jpg",Vt=n.p+"static/media/metal-search.8c9b428e.jpg",Zt=n.p+"static/media/classical-search.2e798a07.jpg",Xt=n.p+"static/media/blues-search.94b8b153.jpg";function _t(e){var t=e.loadStation,n=e.songs,r=e.stationId,a=e.currStation,s=e.isOnDeatils;return Object(M.jsx)(M.Fragment,{children:n.map((function(e,n){return Object(M.jsx)(Tt,{stationId:r,isOnDeatils:s,track:e,idx:n,currStation:a,loadStation:t},e._id)}))})}var $t=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={trackResult:null},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.trackResult;this.setState({trackResult:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.trackResult!==e.trackResult){var t=this.props.trackResult;this.setState({trackResult:t})}}},{key:"render",value:function(){var e=this.state.trackResult;return e&&e.length?Object(M.jsx)("section",{className:"search-result-container",children:Object(M.jsxs)("div",{className:"grid-search-result-container",children:[Object(M.jsx)("span",{className:"title",children:"songs"}),e.length&&Object(M.jsx)(_t,{songs:e.slice(0,5),playTrack:this.props.playTrack,onAddToNextQueue:this.props.onAddToNextQueue})]})}):Object(M.jsx)("div",{children:"No track found"})}}]),n}(a.a.Component),en=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={stationResult:null},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.stationResult;this.setState({stationResult:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.stationResult!==e.stationResult){var t=this.props.stationResult;this.setState({stationResult:t})}}},{key:"render",value:function(){var e=this.state.stationResult;return e&&e.length?Object(M.jsxs)("section",{className:"search-result-container",children:[Object(M.jsx)("h1",{className:"title",children:"Station"}),Object(M.jsx)("div",{className:"playlist-container flex",children:Object(M.jsx)("div",{className:"flex genre",children:e.map((function(e){return Object(M.jsx)(At,{station:e},e._id)}))})})]}):Object(M.jsx)("div",{children:"No station found"})}}]),n}(a.a.Component),tn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={trackResult:null},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.trackResult;this.setState({trackResult:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.trackResult!==e.trackResult){var t=this.props.trackResult;this.setState({trackResult:t})}}},{key:"render",value:function(){var e=this.state.trackResult;return e&&e.length?Object(M.jsx)("section",{className:"search-result-container",children:Object(M.jsx)(_t,{loadStation:this.props.loadStation,stationId:this.props.stationId,isOnDeatils:!0,songs:e,playTrack:this.props.playTrack,onAddToNextQueue:this.props.onAddToNextQueue})}):Object(M.jsx)("div",{children:"No track found"})}}]),n}(a.a.Component),nn=[],rn={searchTrack:function(e){return an.apply(this,arguments)},getStationByTag:function(e){return sn.apply(this,arguments)}};function an(){return(an=Object(w.a)(P.a.mark((function e(t){var n,r,a,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:if(!(nn=q.loadFromStorage([t]))){e.next=6;break}return console.log("No need to fetch, retrieving from Cache"),e.abrupt("return",nn);case 6:return e.prev=6,e.next=9,z.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=".concat(t,"&type=video&videoCategoryId=10&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks"));case 9:return r=e.sent,a=(a=r.data.items.map((function(e){return e.id.videoId}))).join(),e.next=14,z.a.get("https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=".concat(a,"&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks"));case 14:if(s=(s=e.sent).data.items.map((function(e){return e.contentDetails.duration})),nn=r.data,null===(n=r.data)||void 0===n?void 0:n.items.length){e.next=19;break}return e.abrupt("return",[]);case 19:return c=r.data.items.map((function(e,t){return{id:e.id.videoId,title:e.snippet.title,imgUrl:e.snippet.thumbnails.high.url,duration:s[t]}})),e.next=22,q.saveToStorage([t],c);case 22:return e.abrupt("return",c);case 25:e.prev=25,e.t0=e.catch(6),console.log("Cannot reach server:",e.t0);case 28:case"end":return e.stop()}}),e,null,[[6,25]])})))).apply(this,arguments)}function sn(){return(sn=Object(w.a)(P.a.mark((function e(t){var n,r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=q.loadFromStorage(t+"playlist"))){e.next=4;break}return console.log("No need to fetch, retrieving from Cache"),e.abrupt("return",n);case 4:return e.prev=4,e.next=7,z.a.get("https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=".concat(t,"&type=playlist&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks"));case 7:return r=e.sent,e.next=10,r.data.items.map(function(){var e=Object(w.a)(P.a.mark((function e(n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=".concat(n.id.playlistId,"&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks"));case 2:return r=e.sent,e.abrupt("return",{genre:t,name:n.snippet.title,tags:[t],createdBy:{_id:"u101",fullname:"app",imgUrl:"http://some-photo"},songs:r.data.items.map((function(e){return{id:e.snippet.resourceId.videoId,title:e.snippet.title,imgUrl:e.snippet.thumbnails.high.url,duration:"PT4M26S"}}))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return a=e.sent,e.next=13,Promise.all(a);case 13:return a=e.sent,e.next=16,q.saveToStorage(t+"playlist",a);case 16:return e.abrupt("return",a);case 19:e.prev=19,e.t0=e.catch(4),console.log("Cannot reach server:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}var cn=n(144),on=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={keySearch:null,isOnSearch:!1,trackResult:null,stationResult:null},e.delayedHandleChange=cn.debounce(Object(w.a)(P.a.mark((function t(){var n,r,a,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.keySearch){t.next=2;break}return t.abrupt("return");case 2:if(!(null===(n=e.props)||void 0===n?void 0:n.isOnDeatils)){t.next=9;break}return t.next=5,rn.searchTrack(e.state.keySearch);case 5:r=t.sent,a=[],t.next=19;break;case 9:return t.next=11,rn.searchTrack(e.state.keySearch);case 11:return r=t.sent,t.next=14,Z.searchStation(e.state.keySearch);case 14:return a=t.sent,t.next=17,rn.getStationByTag(e.state.keySearch);case 17:(s=t.sent)&&(a.some((function(e){return e.name===s[0].name}))||(a=a.concat(s)));case 19:r||(r=[]),e.setState({trackResult:r,stationResult:a},(function(){e.setState({isOnSearch:!0})}));case 21:case"end":return t.stop()}}),t)}))),700),e.moveScrollDwon=cn.debounce(Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.querySelector(".station-details"))&&(t.scrollTop=t.scrollHeight-700);case 2:case"end":return e.stop()}}),e)}))),800),e.handleChange=function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target,e.setState({keySearch:r.value},(function(){""!==e.state.keySearch&&" "!==e.state.keySearch?(e.delayedHandleChange(e.state.keySearch),e.moveScrollDwon()):e.setState({isOnSearch:!1})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPlayTrack=Object(w.a)(P.a.mark((function t(){var n,r,a=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:null,r=a.length>1&&void 0!==a[1]?a[1]:null,n||r){t.next=5;break}return e.setState((function(e){return Object(d.a)({},e)})),t.abrupt("return");case 5:return t.next=7,e.props.setCurrTrack(n,r);case 7:return t.next=9,e.props.setQueue([n],r);case 9:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"render",value:function(){var e,t,n=this.state,r=n.trackResult,a=n.isOnSearch,s=n.stationResult;return Object(M.jsx)("section",{className:"search",children:Object(M.jsxs)(F,{children:[Object(M.jsx)("form",{onSubmit:function(e){return e.stopPropagation()},children:Object(M.jsx)("input",{type:"text",placeholder:"Artists, songs or podcasts ",onChange:this.handleChange})}),!(null===(e=this.props)||void 0===e?void 0:e.isOnDeatils)&&Object(M.jsxs)("div",{children:[a&&Object(M.jsx)($t,{trackResult:r,playTrack:this.onPlayTrack}),a&&Object(M.jsx)(en,{stationResult:s.slice(0,2),playTrack:this.onPlayTrack})]}),(null===(t=this.props)||void 0===t?void 0:t.isOnDeatils)&&Object(M.jsx)("div",{children:a&&Object(M.jsx)(tn,{loadStation:this.props.loadStation,stationId:this.props.stationId,trackResult:r,playTrack:this.onPlayTrack})}),Object(M.jsx)("div",{className:"title",children:"Browse all"}),Object(M.jsxs)("div",{className:"grid-container-search",children:[Object(M.jsx)(i.b,{to:"station/pop",children:Object(M.jsxs)("div",{className:"grid-element-1",style:{backgroundColor:"rgb(141, 103, 171)"},children:[Object(M.jsx)("span",{children:"pop"}),Object(M.jsx)("img",{src:Qt})]})}),Object(M.jsx)(i.b,{to:"station/chill",children:Object(M.jsxs)("div",{className:"div3",style:{backgroundColor:"rgb(71, 125, 149)"},children:[Object(M.jsx)("span",{children:"chill"})," ",Object(M.jsx)("img",{src:Bt})]})}),Object(M.jsx)(i.b,{to:"station/party",children:Object(M.jsxs)("div",{className:"div4",style:{backgroundColor:"rgb(175, 40, 150)"},children:[Object(M.jsx)("span",{children:"party"}),Object(M.jsx)("img",{src:Kt})]})}),Object(M.jsx)(i.b,{to:"station/focus",children:Object(M.jsxs)("div",{className:"div5",style:{backgroundColor:"rgb(80, 55, 80)"},children:[Object(M.jsx)("span",{children:"focus"}),Object(M.jsx)("img",{src:Gt})]})}),Object(M.jsx)(i.b,{to:"station/alternative",children:Object(M.jsxs)("div",{className:"div6",style:{backgroundColor:"rgb(180, 155, 200)"},children:[Object(M.jsx)("span",{children:"alternativ"}),Object(M.jsx)("img",{src:Yt})]})}),Object(M.jsx)(i.b,{to:"station/summer",children:Object(M.jsxs)("div",{className:"div14",style:{backgroundColor:"rgb(255, 200, 100)"},children:[Object(M.jsx)("span",{children:"summer"}),Object(M.jsx)("img",{src:Ut})]})}),Object(M.jsx)(i.b,{to:"station/indie",children:Object(M.jsxs)("div",{className:"div7",style:{backgroundColor:"rgb(96, 129, 8)"},children:[Object(M.jsx)("span",{children:"indie"}),Object(M.jsx)("img",{src:Dt})]})}),Object(M.jsx)(i.b,{to:"station/latin",children:Object(M.jsxs)("div",{className:"div19",style:{backgroundColor:"rgb(225, 51, 0)"},children:[Object(M.jsx)("span",{children:"latin"}),Object(M.jsx)("img",{src:Mt})]})}),Object(M.jsx)(i.b,{to:"station/wellness",children:Object(M.jsxs)("div",{className:"div8",style:{backgroundColor:"rgb(71, 125, 149)"},children:[Object(M.jsx)("span",{children:"wellness"}),Object(M.jsx)("img",{src:Rt})]})}),Object(M.jsx)(i.b,{to:"station/sleep",children:Object(M.jsxs)("div",{className:"div9",style:{backgroundColor:"rgb(30, 50, 100)"},children:[Object(M.jsx)("span",{children:"sleep"}),Object(M.jsx)("img",{src:Ft})]})}),Object(M.jsx)(i.b,{to:"station/decade",children:Object(M.jsxs)("div",{className:"div10",style:{backgroundColor:"rgb(186, 93, 7)"},children:[Object(M.jsx)("span",{children:"decades"}),Object(M.jsx)("img",{src:qt})]})}),Object(M.jsx)(i.b,{to:"station/workout",children:Object(M.jsxs)("div",{className:"div11",style:{backgroundColor:"rgb(119, 119, 119)"},children:[Object(M.jsx)("span",{children:"workOut"}),Object(M.jsx)("img",{src:Ht})]})}),Object(M.jsx)(i.b,{to:"station/at-home",children:Object(M.jsxs)("div",{className:"div12",style:{backgroundColor:"rgb(30, 50, 100)"},children:[Object(M.jsx)("span",{children:"at Home"}),Object(M.jsx)("img",{src:Rt})]})}),Object(M.jsx)(i.b,{to:"station/travel",children:Object(M.jsxs)("div",{className:"div13",style:{backgroundColor:"rgb(45, 70, 185)"},children:[Object(M.jsx)("span",{children:"travel"}),Object(M.jsx)("img",{src:Jt})]})}),Object(M.jsx)(i.b,{to:"station/souls",children:Object(M.jsxs)("div",{className:"div15",style:{backgroundColor:"rgb(220, 20, 140)"},children:[Object(M.jsx)("span",{children:"soul"}),Object(M.jsx)("img",{src:zt})]})}),Object(M.jsx)(i.b,{to:"station/jazz",children:Object(M.jsxs)("div",{className:"div16",style:{backgroundColor:"rgb(30, 50, 100)"},children:[Object(M.jsx)("span",{children:"jazz"}),Object(M.jsx)("img",{src:Lt})]})}),Object(M.jsx)(i.b,{to:"station/funk",children:Object(M.jsxs)("div",{className:"div17",style:{backgroundColor:"rgb(230, 30, 50)"},children:[Object(M.jsx)("span",{children:"funk"}),Object(M.jsx)("img",{src:Wt})]})}),Object(M.jsx)(i.b,{to:"station/mood",children:Object(M.jsxs)("div",{className:"grid-element-2",style:{backgroundColor:"rgb(141, 103, 171)"},children:[Object(M.jsx)("span",{children:"mood"}),Object(M.jsx)("img",{src:It})]})}),Object(M.jsx)(i.b,{to:"station/metal",children:Object(M.jsxs)("div",{className:"div18",style:{backgroundColor:"rgb(119, 119, 119)"},children:[Object(M.jsx)("span",{children:"metal"}),Object(M.jsx)("img",{src:Vt})]})}),Object(M.jsx)(i.b,{to:"station/classical",children:Object(M.jsxs)("div",{className:"div20",style:{backgroundColor:"rgb(225, 51, 0)"},children:[Object(M.jsx)("span",{children:"classical"}),Object(M.jsx)("img",{src:Zt})]})}),Object(M.jsx)(i.b,{to:"station/blues",children:Object(M.jsxs)("div",{className:"div21",style:{backgroundColor:"rgb(13, 115, 236)"},children:[Object(M.jsx)("span",{children:"blues"}),Object(M.jsx)("img",{src:Xt})]})})]})]})})}}]),n}(a.a.Component);var un={setCurrTrack:ze,addToNextQueue:Ve,setQueue:We},ln=Object(o.b)((function(e){return{stations:e.stationMoudle.stations}}),un)(on),dn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={stationId:null,station:null,isPlaying:!1,songs:null,isLike:!1,isFindMore:!1,isShowAll:!1},e.loadStation=Object(w.a)(P.a.mark((function t(){var n,r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.stationId,t.prev=1,t.next=4,Z.getStationFromLocal(n);case 4:if(r=t.sent){t.next=17;break}if(24!==n.length){t.next=13;break}return t.next=9,Z.getStationById(n);case 9:r=t.sent,console.log("got by id",r),t.next=17;break;case 13:return t.next=15,Z.getStationByGenre(n);case 15:r=t.sent,console.log("got by genre",r);case 17:if(r){t.next=23;break}return t.next=20,rn.getStationByTag(n);case 20:(r=t.sent)&&(r=r[0]),console.log("got from api",r);case 23:if("likedTracks"!==n){t.next=34;break}return t.next=26,e.props.user;case 26:if(a=t.sent){t.next=33;break}return t.next=30,e.props.loadUser();case 30:return t.next=32,e.props.user;case 32:a=t.sent;case 33:a.likedTracks?r.songs=Object(p.a)(a.likedTracks):console.log("no liked tracks");case 34:r?e.setState({station:r,stationId:r._id,songs:r.songs}):e.setState({station:[]}),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(1),console.log("had issues");case 40:case"end":return t.stop()}}),t,null,[[1,37]])}))),e.playRandTrack=Object(w.a)(P.a.mark((function t(){var n,r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.currTrack&&e.props.playedStation===e.state.station._id){t.next=8;break}return n=Object(p.a)(e.state.station.songs),r=Math.floor(Math.random()*n.length),a=n[r],t.next=6,e.props.setCurrTrack(a,r);case 6:return t.next=8,e.props.setQueue(Object(p.a)(n),e.state.stationId);case 8:e.props.toggleIsPlaying();case 9:case"end":return t.stop()}}),t)}))),e.onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex,a=e.state.station;a.songs=Object(Pt.a)(a.songs,n,r),e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{station:a})}),(function(){e.props.currTrack&&e.props.playedStation===e.state.stationId&&e.props.setQueue(Object(p.a)(a.songs),e.state.stationId)}))},e.toggleLike=function(){var t=Object(w.a)(P.a.mark((function t(n,r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),e.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{isLike:!e.state.isLike})}),(function(){return e.handleToggleLike(r)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.handleToggleLike=function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isLike){t.next=15;break}if(e.state.station._id){t.next=11;break}return t.next=4,Z.saveStation(e.state.station);case 4:return r=t.sent,e.setState({station:r}),t.next=8,e.props.addLikeToTrack(r._id,n);case 8:N("Saved to Your Library"),t.next=13;break;case 11:e.props.addLikeToTrack(e.state.station._id,n),N("Saved to Your Library");case 13:t.next=17;break;case 15:e.props.removeLikeFromTrack(e.state.station._id,n),I("Removed from Your Library");case 17:e.state.stationId,e.loadStation();case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleFindMore=function(){e.setState({isFindMore:!e.state.isFindMore},(function(){e.moveSrollDown()}))},e.moveSrollDown=function(){console.log("moving scroll down");var e=document.querySelector(".station-details");console.log("scrollHeight",e.scrollHeight),e.scrollTop=e.scrollHeight},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadStation();case 2:if(t=this.props.user){e.next=7;break}return e.next=6,this.props.loadUser();case 6:t=this.props.user;case 7:this.state.station&&this.state.station._id&&(t.likedStations.includes(this.state.station._id)?this.setState({isLike:!0}):this.setState({isLike:!1}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(w.a)(P.a.mark((function e(t){var n,r,a,s,c,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this.props.match.params.stationId,(null===(n=t.user)||void 0===n?void 0:n.likedTracks.length)===(null===(r=this.props.user)||void 0===r?void 0:r.likedTracks.length)){e.next=3;break}return e.abrupt("return",this.loadStation());case 3:if(c===(null===(a=this.state.station)||void 0===a?void 0:a._id)||c===(null===(s=this.state.station)||void 0===s?void 0:s.genre)){e.next=16;break}return e.next=6,this.loadStation();case 6:return e.next=8,this.props.user;case 8:if(i=e.sent){e.next=15;break}return e.next=12,this.props.loadUser();case 12:return e.next=14,this.props.user;case 14:i=e.sent;case 15:this.state.station&&(i.likedStations.includes(this.state.station._id)?this.setState({isLike:!0}):this.setState({isLike:!1}));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this,r=this.state,a=r.station,s=r.isFindMore,c=(this.props.user,this.props.match.params.stationId);return a?Object(M.jsxs)("section",{className:"station-details",children:[Object(M.jsxs)("div",{className:"station-head flex",children:[(null===(e=a.songs)||void 0===e?void 0:e.length)>0&&Object(M.jsx)("img",{src:a.img?a.img:"".concat(a.songs[0].imgUrl)}),!a.songs.length&&Object(M.jsx)("img",{src:ot}),Object(M.jsxs)("div",{className:"title-details",children:[Object(M.jsx)("p",{children:"Playlist"}),Object(M.jsx)("h1",{children:a.name}),Object(M.jsxs)("ul",{className:"clean-list flex",children:[Object(M.jsx)("li",{children:null===(t=a.createdBy)||void 0===t?void 0:t.fullname}),Object(M.jsxs)("li",{children:[a.songs.length," songs"]})]})]})]}),Object(M.jsx)(i.b,{className:"fas back fa-chevron-left",to:"/"}),Object(M.jsxs)("div",{className:"bar-action flex",children:[Object(M.jsx)("button",{className:"play-rand",onClick:this.playRandTrack,children:Object(M.jsx)("i",{class:this.props.isPlaying&&this.props.playedStation===a._id?"fas fa-pause":"fas fa-play"})}),"likedTracks"!==c&&this.state.isLike&&Object(M.jsx)("span",{className:"isLike",style:{fontSize:"32px"},onClick:function(e){n.toggleLike(e,"station")},class:"fas fa-heart"}),"likedTracks"!==c&&!this.state.isLike&&Object(M.jsx)("img",{className:"isnotLike",src:wt,onClick:function(e){n.toggleLike(e,"station")}})]}),Object(M.jsxs)(F,{children:[Object(M.jsx)(Et,{songs:a.songs,currStation:a,axis:"xy",loadStation:this.loadStation,onSortEnd:this.onSortEnd,distance:"20"}),Object(M.jsx)("div",{className:"show-btn flex",children:Object(M.jsx)("div",{className:"find-more ".concat(s?"":"green"),onClick:this.handleFindMore,children:s?"Find less":"Find more tracks!"})}),s&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{children:"Let's find something to your station"}),Object(M.jsx)(ln,{loadStation:this.loadStation,stationId:this.state.stationId,isOnDeatils:!0})]})]})]}):Object(M.jsx)(ft,{})}}]),n}(r.Component);var pn={setCurrTrack:ze,setQueue:We,loadStations:Je,addToNextQueue:Ve,addLikeToTrack:Ne,loadUser:Ce,removeLikeFromTrack:Ee,toggleIsPlaying:Ze},An=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,isPlaying:e.stationMoudle.isPlaying,queue:e.stationMoudle.queue,currTrack:e.stationMoudle.currTrack,playedStation:e.stationMoudle.playedStation,user:e.userMoudle.user}}),pn)(dn),hn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAddToNextQueue=function(t){e.props.addToNextQueue(t)},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){document.body.style.backgroundImage=" linear-gradient(#03080d, #121212)"}},{key:"render",value:function(){var e=this,t=this.props.queue;return t.length||this.props.playNextQueue?Object(M.jsx)("div",{className:"queue-page",children:Object(M.jsx)(F,{children:Object(M.jsxs)("div",{className:"station-track-list flex column",children:[Object(M.jsx)("div",{className:"queue-header",children:Object(M.jsx)("h2",{children:"Queue"})}),Object(M.jsx)("div",{className:"queue-sub-header",children:Object(M.jsx)("h4",{children:"New Playing"})}),Object(M.jsx)("div",{className:"now-playing-container",children:this.props.currTrack&&Object(M.jsx)(Tt,{track:this.props.currTrack,idx:0,playTrack:function(){},onAddToNextQueue:this.onAddToNextQueue})}),Object(M.jsx)("div",{className:"queue-sub-header",children:Object(M.jsx)("h4",{children:"Playing Next Queue"})}),Object(M.jsx)("div",{className:"playing-next-queue-container",children:this.props.playNextQueue&&Object(M.jsx)(_t,{songs:this.props.playNextQueue,onAddToNextQueue:this.onAddToNextQueue,idx:0,playTrack:function(){var t=Object(w.a)(P.a.mark((function t(n,r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setCurrTrack(n,r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})}),Object(M.jsx)("div",{className:"queue-sub-header",children:Object(M.jsx)("h4",{children:"Queue"})}),Object(M.jsx)("div",{className:"queue-container",children:t&&Object(M.jsx)(_t,{songs:t,playTrack:function(){var t=Object(w.a)(P.a.mark((function t(n,r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setCurrTrack(n,r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),onAddToNextQueue:this.onAddToNextQueue})})]})})}):Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"Add to your queue"}),Object(M.jsx)("span",{children:'Tap "Add to queue" from a trackws menu to see it here'}),Object(M.jsx)(i.b,{to:"/search",children:Object(M.jsx)("button",{children:"FIND SOMETHING TO PLAY"})})]})}}]),n}(a.a.Component);var fn={setCurrTrack:ze,addToNextQueue:Ve},jn=Object(o.b)((function(e){return{currTrack:e.stationMoudle.currTrack,queue:e.stationMoudle.queue,playNextQueue:e.stationMoudle.playNextQueue}}),fn)(hn),bn=n(496),gn=n(477),mn=n(475),xn=n(489),On=n(476),vn=n(493),kn=n(472),yn=n(478),Pn=n(491),wn=n(245),Sn=n(474),Cn=n(242),Tn=n(473),Nn=n.p+"static/media/enter.bc102390.png";function En(e){return Object(M.jsxs)(wn.a,Object(d.a)(Object(d.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(M.jsx)(kn.a,{color:"inherit",href:"https://material-ui.com/",children:"Lotify      "})," ",(new Date).getFullYear(),"."]}))}var In=Object(Cn.a)(),Qn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={credentials:{username:"",password:"",fullname:"",isAdmin:!1}},e.clearState=function(){e.setState({clearTemplate:{credentials:{username:"",password:"",fullname:""}}})},e.handleChange=function(t){var n=t.target.name,r=t.target.value;e.setState({credentials:Object(d.a)(Object(d.a)({},e.state.credentials),{},Object(R.a)({},n,r))})},e.onLogin=Object(w.a)(P.a.mark((function t(){var n,r,a=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:null,e.state.credentials.username&&e.state.credentials.password){t.next=3;break}return t.abrupt("return");case 3:return n&&n.preventDefault(),t.next=6,e.props.onLogin(e.state.credentials);case 6:r=t.sent,e.clearState(),r&&e.props.history.push("/");case 9:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"render",value:function(){var e=this.state.credentials,t=e.username,n=e.password;return Object(M.jsx)(Tn.a,{theme:In,children:Object(M.jsxs)(Sn.a,{component:"main",maxWidth:"xs",children:[Object(M.jsx)(mn.a,{}),Object(M.jsxs)(Pn.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(M.jsx)(bn.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(M.jsx)("img",{style:{height:"30px"},src:Nn})}),Object(M.jsx)(wn.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(M.jsxs)(Pn.a,{component:"form",onSubmit:this.onLogin,noValidate:!0,sx:{mt:1},children:[Object(M.jsx)(xn.a,{margin:"normal",required:!0,fullWidth:!0,name:"username",label:"username",type:"password",id:"username",autoComplete:"username",onChange:this.handleChange,value:t}),Object(M.jsx)(xn.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.handleChange,value:n}),Object(M.jsx)(On.a,{control:Object(M.jsx)(vn.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(M.jsx)(gn.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(M.jsxs)(yn.a,{container:!0,children:[Object(M.jsx)(yn.a,{item:!0,xs:!0,children:Object(M.jsx)(kn.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(M.jsx)(yn.a,{item:!0,children:Object(M.jsx)(kn.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(M.jsx)(En,{sx:{mt:8,mb:4}})]})})}}]),n}(r.Component);var Bn={onLogin:Ie,onSignup:Qe,onLogout:Be},Un=(Object(o.b)((function(e){return{}}),Bn)(Qn),n.p+"static/media/user.0a7c2920.png");function Mn(e){return Object(M.jsxs)(wn.a,Object(d.a)(Object(d.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(M.jsx)(kn.a,{color:"inherit",href:"https://material-ui.com/",children:"mister toy"})," ",(new Date).getFullYear(),"."]}))}var Ln=Object(Cn.a)(),Dn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={credentials:{username:"",password:"",fullname:"",isAdmin:!1},isSignup:!1,isLogin:!1},e.clearState=function(){e.setState({clearTemplate:{credentials:{username:"",password:"",fullname:""},isSignup:!1}})},e.handleChange=function(t){var n=t.target.name,r=t.target.value;e.setState({credentials:Object(d.a)(Object(d.a)({},e.state.credentials),{},Object(R.a)({},n,r))})},e.onSignup=Object(w.a)(P.a.mark((function t(){var n,r=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:null,e.state.credentials.username&&e.state.credentials.password&&e.state.credentials.fullname){t.next=3;break}return t.abrupt("return");case 3:return n&&n.preventDefault(),t.next=6,e.props.onSignup(e.state.credentials);case 6:t.sent&&e.props.history.push("/"),e.clearState();case 9:case"end":return t.stop()}}),t)}))),e}return Object(x.a)(n,[{key:"render",value:function(){var e=this.state.credentials,t=e.username,n=e.password,r=e.fullname;return Object(M.jsx)(Tn.a,{theme:Ln,children:Object(M.jsxs)(Sn.a,{component:"main",maxWidth:"xs",children:[Object(M.jsx)(mn.a,{}),Object(M.jsxs)(Pn.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(M.jsx)(bn.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(M.jsx)("img",{style:{height:"28px"},src:Un})}),Object(M.jsx)(wn.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(M.jsxs)(Pn.a,{component:"form",noValidate:!0,onSubmit:this.onSignup,sx:{mt:3},children:[Object(M.jsxs)(yn.a,{container:!0,spacing:2,children:[Object(M.jsx)(yn.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(xn.a,{autoComplete:"fullname",name:"fullname",required:!0,fullWidth:!0,id:"fullname",label:"fullname",autoFocus:!0,value:r,onChange:this.handleChange})}),Object(M.jsx)(yn.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(xn.a,{required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",value:t,onChange:this.handleChange})}),Object(M.jsx)(yn.a,{item:!0,xs:12}),Object(M.jsx)(yn.a,{item:!0,xs:12,children:Object(M.jsx)(xn.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:n,onChange:this.handleChange})}),Object(M.jsx)(yn.a,{item:!0,xs:12,children:Object(M.jsx)(On.a,{control:Object(M.jsx)(vn.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(M.jsx)(gn.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(M.jsx)(yn.a,{container:!0,justifyContent:"flex-end",children:Object(M.jsx)(yn.a,{item:!0,children:Object(M.jsx)(kn.a,{href:"/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(M.jsx)(Mn,{sx:{mt:5}})]})})}}]),n}(r.Component);var Rn={onLogin:Ie,onSignup:Qe,onLogout:Be},Fn=(Object(o.b)((function(e){return{}}),Rn)(Dn),function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).playRandTrack=Object(w.a)(P.a.mark((function t(){var n,r,a,s,c,i,o;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.station,(a=n.currStation)&&r._id===a._id){t.next=22;break}return t.next=4,e.props.user;case 4:if(c=t.sent){t.next=11;break}return t.next=8,e.props.loadUser();case 8:return t.next=10,e.props.user;case 10:c=t.sent;case 11:return c.likedTracks?s=Object(p.a)(c.likedTracks):console.log("no liked tracks"),i=Math.floor(Math.random()*s.length),o=s[i],t.next=16,e.props.setCurrTrack(o,i);case 16:return t.next=18,e.props.setQueue(Object(p.a)(s),r._id);case 18:e.props.setCurrStation(r),e.props.setPlay(),t.next=23;break;case 22:e.props.toggleIsPlaying();case 23:case"end":return t.stop()}}),t)}))),e.navigateToStation=function(t){e.props.history.push("/station/".concat(t))},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.station,r=t.currStation,a=t.isPlaying;return n?Object(M.jsxs)("div",{className:"station-preview liked-songs-link",onClick:function(){return e.navigateToStation(n.genre)},children:[Object(M.jsx)("h3",{className:"station-name-header",children:n.name}),Object(M.jsx)("p",{className:"station-desc",children:n.songs.reduce((function(e,t){return e+=t.title}),"").slice(0,30)+"..."}),Object(M.jsx)("div",{className:"liked-songs-play-icon-container",onClick:function(t){t.stopPropagation(),e.playRandTrack()},children:Object(M.jsx)("i",{className:"play-icon ".concat(a&&(null===n||void 0===n?void 0:n._id)===(null===r||void 0===r?void 0:r._id)?"fas fa-pause":"fas fa-play")})})]}):Object(M.jsx)("div",{children:" not found"})}}]),n}(a.a.Component));var qn={setCurrTrack:ze,setQueue:We,toggleIsPlaying:Ze,loadUser:Ce,setCurrStation:_e,setPlay:Xe},Hn=Object(o.b)((function(e){return{stations:e.stationMoudle.stations,isPlaying:e.stationMoudle.isPlaying,queue:e.stationMoudle.queue,currTrack:e.stationMoudle.currTrack,currStation:e.stationMoudle.currStation,user:e.userMoudle.user}}),qn)(Fn),Kn=Object(k.g)(Hn),Gn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.getLikedSongsStation=function(e){return e.find((function(e){return"likedTracks"===e.genre}))},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.props.loadStations(),document.body.style.backgroundImage=" linear-gradient(#03080d, #121212)"}},{key:"render",value:function(){var e=this.props.stations;if(!e)return Object(M.jsx)("h1",{children:"loading..."});var t=this.getLikedSongsStation(e);return e=e.filter((function(e){return"likedTracks"!==e._id})),Object(M.jsx)("div",{className:"station-page",children:Object(M.jsx)("div",{className:"station-container",children:Object(M.jsxs)(F,{children:[Object(M.jsx)("header",{className:"stations-header",children:Object(M.jsx)("h1",{children:"Playlists"})}),Object(M.jsx)("section",{className:"card stations",children:Object(M.jsxs)("div",{className:"flex genre",children:[Object(M.jsx)(Kn,{station:t}),e.map((function(e){return Object(M.jsx)(At,{station:e},e._id)}))]})})]})})})}}]),n}(r.Component);var Yn={loadStations:Je},Jn=Object(o.b)((function(e){return{stations:e.stationMoudle.stations}}),Yn)(Gn),zn=n.p+"static/media/gramophone.fe94f89c.png",Wn=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={artists:[{artist:"ed sheeran",img:"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo"},{artist:"billie eilish",img:"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo"}]},e.selectArtist=function(t,n){var r=t.target;if(!r.parentElement.classList.contains("selected")){r.parentElement.classList.add("selected");var a=r.parentElement.children[0].src;e.setState((function(e){return{artists:[].concat(Object(p.a)(e.artists),[{artist:n,img:a}])}}),(function(){e.state.artists.length>=6&&e.props.setUserPref([].concat(Object(p.a)(e.state.artists),[{artist:n,img:a}]))}))}},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.stations,a=n.user;return r&&a?(null===(e=a.userPref)||void 0===e?void 0:e.length)>=5?Object(M.jsx)(k.a,{to:"/home"}):Object(M.jsxs)("div",{className:"user-pref",children:[Object(M.jsxs)("header",{children:[Object(M.jsx)("h1",{children:"Choose at least 4 of your favorite artists"}),Object(M.jsx)("p",{children:"Improve your experience"})]}),Object(M.jsx)(F,{children:Object(M.jsxs)("div",{className:"artists",children:[Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"kaleo")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRrZSbWTyBAENocILL6FsPxL0FcSRdA0XNnDExc8A=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Kaleo"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"donald glover")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLR54qbXPUrgKCf0tmiquuqTiYDElO_Cekw-pSCs_g=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Donald Glover"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"sia")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/0xb0rVHF2QHhnmQA5xKQiqPPPuq0gQbHkM8zCvR4vEpvWDNhSSJYUuGXmWZHAjNHJYebQim2=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Sia"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"justin bieber")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Justin Bieber"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"led zepplin")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRfwQJh6x8tdSDOPuMENrMgWxp6c9Wyi4k5dL3QeA=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Led Zeppelin"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"eminem")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLSk-AeebphZllYPnC6dyL4Ebaufx9EfWWcpWi5kvw=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Eminem"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"ed sheeran")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Ed Sheeran"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"ariana grande")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRrULhlsqTk0LW6WZ4ufoPC2vRrI-Hv7iQMcwALzA=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Ariana Grande"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"nirvana")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLTcKOFg-V_beC58driCSWsjY01b2yASCkXpLo6z=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Nirvana"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"avicii")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRxjYtdXH5SpVo0Hbgj-MV9iSYOZkPnyGBPX3dBtQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Avicii"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"motzart")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLR-UxFlle0Li25HB_1AmFLgE1EZ5oF5lsGIojom=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Motzart"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"beyonce")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLSYFl86h5I9oWxAlUCb9ujyZVYus_NrMBnLnQZq=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Beyonc\xe9"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"taylor swift")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/MqKm9xyjonzkICKA78ir0AM-WUR47ntkBeJlgHeIk_rUnPuukiWtzOEmU7UjO8cFoPrBatCh3As=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Taylor Swift"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"blink 182")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLS9wSSSch2T5RCOqeWes0CQPq6CuE7n6BH6SGqp9g=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Blink-182"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"twenty one pilots")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLShoAv85PyHPQZXkdEYAirEFkVlHT7QL0SO4jnLPQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Twenty one pilots"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"coldplay")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/gDGaWA0ykI0RuD-x0tOtlZQp_pmfqXMastg2rAJhCoGXeG7a44LL0BlSOZ1nQpuaj5apqzjxa4Y=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Coldplay"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"imagine dragons")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/aXBmHKABw-J-0ZMxj39wkXpLDEHViOdL5UD71cDG2s5vbeQBWk9mdX3rRxT5U6Wfkvm6o8Uu-dU=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Imagine dragons"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"ac/dc")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLR5p4C0mvYOySvgi0lcJEQ2b9GQ5RENU_js8bHV=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"AC/DC"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"martin garrix")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/in7ji16oeon_ypiAMeH-ZdTWSaIC54yZqMsFg0X3uhTBk4MDCuIkRf6TIoQQCqjl20DSdakhSQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Martin Garrix"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"chainsmokers")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLReODCO_8A0kTfEi7hIofuikdVUmLtUI31Y3JTk8g=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Chainsmokers"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"stromae")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRmW311L8rsVEfFzaHyrhrSlxLBdMpzimz6IbmjFQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Stromae"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"billie eilish")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Billie Eilish"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"james arthur")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLTBGfA-SCl13HK2wvNgIlYp4csR75r4iedoDbDQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"James Arthur"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"metallica")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/cZ87jDcUyng8WCTC_FZIZhtjd0VQIoyla_GLOCqCJwiePKbnsgMFAoJlJXO3JUdIDiG0U-W-Q-U=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Metallica"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"beartooth")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLTrxAVj8B25pE4f3QOevhtu2aQPCeu9s6JSqR9hOg=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Beartooth"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"michael jackson")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Michael Jackson"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"lily allen")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLSlQDVT6TciEB3aqI4j98pAANAN37aLz6TIUCVX1g=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Lily Allen"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"the lumineers")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/JeSo37nuDNtXpYeRCXkdSd0BY1EBwOX3DjsoI7h5qS8qtURwdacx87aGyLsW-Zt_xHst5YN0j2A=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"The Lumineers"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"the neighbourhood")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLQuDzCsZ6o-eJrE-VN4V6hEvVasPCudmbpW1etVWQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"The Neighbourhood"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"aerosmith")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/GVz2Q0BOmqNFKQvNXSoC5rVJWqvsajttYdF0VN6lYfwK2Misv-NJr_5akFEHxc8YkyGquGoZ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Aerosmith"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"earth wind and fire")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLSluhlgTQdg-VPnftxDahd5w3uqU7gZzQ2HN2Ocig=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Earth ,wind and fire "}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"mgmt")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/uAFVZ2fFM7MshpUPfUxDWC_zZoXS9LYYKVu9WtmERQsei97F7oG0EJxLKZpmIxCBk-ZO6I2FiQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"MGMT"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"bruno mars")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLRRqICmdfNojkf55KFwEqi1A2Yh0dcSyIsXxkOWmFM=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Bruno Mars"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"kanye west")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/OZ6-K14IWCEu6rgIgmox9cID8hTUObJ9uPn_BRwr4O1CNyB_u6N3BqpaztggGYfKVv4rdR0zPYU=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Kanye West"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"tash sultana")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/iWAic-fKa7o7IGIzND9MiSKPqjL6Kb3fkd4gr_jRX7tKkjOMgZ5Ems3COKImBF8-szRTswzU8A=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Tash Sultana"}),Object(M.jsx)("i",{class:"fas fa-check"})]}),Object(M.jsxs)("div",{className:"circle-container",onClick:function(e){return t.selectArtist(e,"milky chance")},children:[Object(M.jsx)("img",{src:"https://yt3.ggpht.com/rxuJTmm-nGWtgvPdVyePl4PdDIwhEopv78WM7jyj6UI3ChJYjCOMd7c_AbuYSdzYMs2AMCu1WQ=s800-c-k-c0xffffffff-no-rj-mo",alt:"",onError:function(e){e.target.onerror=null,e.target.src=zn}}),Object(M.jsx)("h3",{children:"Milky Chance"}),Object(M.jsx)("i",{class:"fas fa-check"})]})]})})]}):Object(M.jsx)("h1",{children:"loading..."})}}]),n}(r.Component);var Vn={setUserPref:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.setUserPref(e);case 3:n({type:"SET_USER\u05b9_PREF",userPref:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:Ce},Zn=[{path:"/",component:Object(o.b)((function(e){return{stations:e.stationMoudle.stations,user:e.userMoudle.user}}),Vn)(Wn)},{path:"/home",component:kt},{path:"/station/:stationId",component:An},{path:"/queue",component:jn},{path:"/friends",component:it},{path:"/search",component:ln},{path:"/stations",component:Jn}],Xn=n(497),_n=n(481),$n=n(494),er=n(239),tr=n.n(er);var nr=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={volume:30,isPlayedTrack:!1,played:0,loaded:0,duration:0,inQueue:!1,isShuffle:!1,isLiked:!1,trackAndUsers:[]},e.isTrackLiked=function(){if(e.props.currTrack){var t=e.props.user.likedTracks.map((function(e){return e.id})).includes(e.props.currTrack.id);return e.setState({isLiked:t}),t}},e.handleChange=function(t){var n=t.target.value;e.setState({volume:n})},e.playRandTrack=function(){var t=Object(w.a)(P.a.mark((function t(n){var r,a,s,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=Math.floor(Math.random()*n.length),a=n[r];"likedTracks"===a.genre;)r=Math.floor(Math.random()*n.length),a=n[r];return s=Object(p.a)(a.songs),c=Math.floor(Math.random()*s.length),i=s[c],t.next=8,e.props.setCurrTrack(i,c);case 8:return t.next=10,e.props.setQueue(Object(p.a)(s),a._id);case 10:e.props.setCurrStation(a),e.props.setPlay();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.togglePlay=Object(w.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.currTrack){t.next=5;break}return t.next=3,e.playRandTrack(e.props.stations);case 3:t.next=6;break;case 5:e.state.isLoaded&&e.props.toggleIsPlaying();case 6:case"end":return t.stop()}}),t)}))),e.handleSeekMouseDown=function(t){e.props.currTrack&&e.setState({seeking:!0})},e.handleSeekChange=function(t){e.props.currTrack&&e.setState({played:parseFloat(t.target.value)})},e.handleSeekMouseUp=function(t){e.props.currTrack&&(e.setState({seeking:!1}),e.player.seekTo(parseFloat(t.target.value)))},e.handleProgress=function(t){e.state.seeking||e.setState(t)},e.handleDuration=function(t){e.setState({duration:t})},e.ref=function(t){e.player=t},e.goNext=function(){e.props.playNextTrack()},e.goShuffle=function(){e.state.isShuffle?e.props.unshuffleQueue(e.props.playedStation):e.props.shuffleQueue(Object(p.a)(e.props.queue)),e.setState({isShuffle:!e.state.isShuffle})},e.goPrev=function(){e.props.playPrevTrack()},e.handleDuration=function(t){e.setState({duration:t})},e.handleEnded=function(){e.props.playNextTrack()},e.inQueue=Object(w.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({inQueue:!e.state.inQueue},(function(){e.state.inQueue?e.props.history.push("/queue"):e.props.history.goBack()}));case 1:case"end":return t.stop()}}),t)}))),e.toggleLike=function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),e.setState({isLiked:!e.state.isLiked},(function(){e.state.isLiked?(e.props.addLikeToTrack(e.props.currTrack,"track"),N("Add to your Liked Tracks")):(e.props.removeLikeFromTrack(e.props.currTrack.id,"track"),I("Removed from your Liked Tracks"))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onGoToplaylist=function(){e.props.playedStation&&e.props.history.push("/station/".concat(e.props.playedStation))},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(P.a.mark((function e(){var t=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUsers();case 2:U.setup(),U.on("send notification",(function(e){console.log(e.username,e.stationName,"username, stationName"),E(e.username+" liked your playlist: "+e.stationName),C.emit(e.username)})),U.on("send follow notification",(function(e){E(e+" followd you"),C.emit(e)})),U.on("user track",(function(e){var n=e.track,r=e.user;t.props.setFriendCurrTrack({track:n,user:r,currLoginUser:t.props.user})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){this.props.currTrack!==e.currTrack&&(U.emit("play track",{track:this.props.currTrack,user:this.props.user}),this.isTrackLiked(),this.props.setPlay(),this.setState({played:0,duration:0})),this.props.user&&e.user&&this.props.user.likedTracks.length!==e.user.likedTracks.length&&this.isTrackLiked()}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.played,a=n.duration,s=n.volume,c=n.isShuffle,i=(n.isGetNotification,n.notificationMsg,this.props.isPlaying),o=this.props.currTrack;return Object(M.jsxs)("div",{className:"player-container",children:[o&&Object(M.jsx)("div",{className:"player",children:Object(M.jsx)(tr.a,(e={ref:this.ref,playing:i,url:"https://www.youtube.com/watch?v=".concat(o.id),onDuration:this.onDuration,onProgress:this.onProgress,width:"0px",heigth:"0px",volume:s/100},Object(R.a)(e,"onProgress",this.handleProgress),Object(R.a)(e,"onDuration",this.handleDuration),Object(R.a)(e,"onReady",(function(){t.setState({isLoaded:!0})})),Object(R.a)(e,"controls","false"),Object(R.a)(e,"onEnded",this.handleEnded),Object(R.a)(e,"muted",!1),e))}),Object(M.jsxs)("div",{className:"playing-bar",children:[Object(M.jsxs)("div",{className:"song-name-bar",children:[Object(M.jsx)("div",{className:"img-container-player",children:o&&Object(M.jsx)("img",{onClick:this.onGoToplaylist,className:"track-img",src:o.imgUrl})}),Object(M.jsx)("div",{onClick:this.onGoToplaylist,className:"song-name",children:Object(M.jsx)("p",{children:o?o.title:""})}),o&&Object(M.jsxs)("div",{className:"like-heart",children:[this.state.isLiked&&Object(M.jsx)("span",{className:"isLike",onClick:function(e){t.toggleLike(e)},class:"fas fa-heart"}),!this.state.isLiked&&Object(M.jsx)("img",{className:"isnotLike",src:wt,onClick:function(e){t.toggleLike(e)}})]})]}),Object(M.jsxs)("div",{className:"player-controls",children:[Object(M.jsxs)("div",{className:"player-controls-btn flex",children:[Object(M.jsx)("span",{className:c?"fas fa-random green":"fas fa-random",onClick:this.goShuffle}),Object(M.jsx)("span",{className:"fas fa-step-forward",onClick:this.goPrev}),i&&Object(M.jsx)("span",{className:"fas fa-pause",onClick:this.togglePlay}),!i&&Object(M.jsx)("span",{className:"fas fa-play",onClick:this.togglePlay}),Object(M.jsx)("span",{className:"fas fa-step-forward",onClick:this.goNext})]}),Object(M.jsxs)("div",{className:"played-input flex",children:[Object(M.jsx)(K,{seconds:a*r}),Object(M.jsx)("input",{type:"range",min:0,max:.999999,step:"any",value:r,onMouseDown:this.handleSeekMouseDown,onChange:function(e){return t.handleSeekChange(e)},onMouseUp:this.handleSeekMouseUp}),Object(M.jsx)(K,{seconds:a})]})]}),Object(M.jsxs)("div",{className:"volume",children:[Object(M.jsx)("div",{className:"queue-btn",children:Object(M.jsx)("span",{onClick:this.inQueue,className:this.state.inQueue?"fas fa-outdent green":"fas fa-outdent"})}),Object(M.jsx)(Xn.a,{sx:{width:200},children:Object(M.jsxs)(_n.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[0===s&&Object(M.jsx)("span",{className:"fas fa-volume-mute"}),s>0&&s<50&&Object(M.jsx)("span",{className:"fas fa-volume-down"}),s>50&&Object(M.jsx)("span",{className:"fas fa-volume-up"}),Object(M.jsx)($n.a,{"aria-label":"Volume",value:s,onChange:this.handleChange,style:{color:"#1db954",width:"150px"}})]})})]})]})]})}}]),n}(r.Component);var rr={playNextTrack:function(){return function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"NEXT_TRACK"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},playPrevTrack:function(){return function(){var e=Object(w.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"PREV_TRACK"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},shuffleQueue:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SHUFFLE_QUEUE",queue:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unshuffleQueue:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.getStationById(e);case 2:r=(r=t.sent).songs,n({type:"SET_QUEUE",queue:r,stationId:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleIsPlaying:Ze,setPlay:Xe,setCurrStation:_e,addLikeToTrack:Ne,removeLikeFromTrack:Ee,setCurrTrack:ze,setQueue:We,setFriendCurrTrack:function(e){var t=e.track,n=e.user,r=e.currLoginUser;return function(){var e=Object(w.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SET_FRIEND_CURR_TRACK",track:t,user:n,currLoginUser:r});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loadUsers:Te},ar=Object(o.b)((function(e){return{currTrack:e.stationMoudle.currTrack,isPlaying:e.stationMoudle.isPlaying,playedStation:e.stationMoudle.playedStation,queue:e.stationMoudle.queue,user:e.userMoudle.user,stations:e.stationMoudle.stations}}),rr)(nr),sr=Object(k.g)(ar),cr=n(492),ir=n(488),or=n(244),ur=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={station:{name:"",tags:[]},songs:[],isCreate:!1},e.labelOptions=[{value:"happy",label:"happy"},{value:"pop",label:"Pop"},{value:"sad",label:"Sad"},{value:"alternative",label:"Alternative"},{value:"Rock",label:"Rock"},{value:"rap",label:"Rap"}],e.create=function(t){var n=t?[t]:[];e.setState({isCreate:!e.state.isCreate,songs:n,station:{name:"",tags:[]}})},e.handleChange=function(t){var n=t.target;if(Array.isArray(n)){var r=n.map((function(e){return e.value}));e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{station:Object(d.a)(Object(d.a)({},e.station),{},{tags:r})})}))}else{var a=n.name,s=n.value;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{station:Object(d.a)(Object(d.a)({},e.station),{},Object(R.a)({},a,s))})}))}},e.onAddStation=function(t){t.preventDefault(),e.state.station.name;var n={name:e.state.station.name?e.state.station.name:"Playlist",tags:e.state.station.tags,likedByUsers:[],songs:e.state.songs};e.props.addStation(n),e.create()},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){C.on("create-playlist",this.create)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isCreate,r=t.station;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"create-playlist ".concat(n?"on":"off"),onSubmit:function(t){e.onAddStation(t)},children:[Object(M.jsxs)("div",{className:"header",children:[Object(M.jsx)("h1",{children:"Create Playlist"}),Object(M.jsx)("button",{classNam:"create-close-btn",onClick:this.create,children:"X"})]}),Object(M.jsx)("div",{className:"body flex",children:Object(M.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(M.jsx)(ir.a,{className:"create-name",label:"Name",value:r.name,name:"name",autoComplete:"off",onChange:this.handleChange}),Object(M.jsx)(or.a,{onChange:function(t){return e.handleChange({target:t})},name:"label",className:"select",closeMenuOnSelect:!1,options:this.labelOptions,isMulti:!0,value:this.state.station.tags.map((function(e){return{value:e,label:e}})),placeholder:"Tags..."}),Object(M.jsx)("div",{className:"buttons flex",children:Object(M.jsx)(cr.a,{style:{height:"33px",background:"#1db954"},variant:"contained",onClick:this.onAddStation,children:"Create"})})]})})]}),Object(M.jsx)("div",{className:"body-modal ".concat(n?"on":"off"),onClick:this.create})]})}}]),n}(r.Component);var lr={addStation:function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.isGuest();case 2:if(!t.sent){t.next=9;break}return console.log("is guest"),t.next=6,Le.saveStation(e);case 6:e=t.sent,t.next=13;break;case 9:return console.log("not guest"),t.next=12,Z.saveStation(e);case 12:e=t.sent;case 13:n({type:"ADD_STATION",newStation:e}),N("Add to your Stations");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},dr=Object(o.b)((function(e){return{}}),lr)(ur),pr=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={msg:null},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.removeEvent=C.on("show-user-msg",(function(t){e.setState({msg:t}),setTimeout((function(){e.setState({msg:null})}),2500)}))}},{key:"componentWillUnmount",value:function(){this.removeEvent()}},{key:"render",value:function(){var e=this;if(!this.state.msg)return Object(M.jsx)(M.Fragment,{});var t=this.state.msg.type||"";return Object(M.jsxs)("section",{className:"user-msg "+t,children:[Object(M.jsx)("button",{onClick:function(){e.setState({msg:null})},children:"x"}),this.state.msg.txt]})}}]),n}(a.a.Component),Ar=function(e){Object(O.a)(n,e);var t=Object(v.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("main",{className:"main-app",children:[Object(M.jsx)(dr,{}),Object(M.jsx)(D,{}),Object(M.jsx)(k.d,{children:Zn.map((function(e){return Object(M.jsx)(k.b,{exact:!0,component:e.component,path:e.path},e.path)}))}),Object(M.jsx)(pr,{}),Object(M.jsx)(sr,{})]})})}}]),n}(a.a.Component),hr=(n(405),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function fr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(o.a,{store:g,children:Object(M.jsx)(i.a,{children:Object(M.jsx)(Ar,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");hr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):fr(t,e)}))}}()}},[[406,1,2]]]);
//# sourceMappingURL=main.74328c6b.chunk.js.map