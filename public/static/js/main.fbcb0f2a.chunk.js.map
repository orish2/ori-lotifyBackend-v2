{"version":3,"sources":["store/station.reducer.js","store/user.reducer.js","store/friend.reducer.js","store/store.js","assets/img/gramophone-svgrepo-com.svg","services/event-bus.service.js","cmps/main-nav.jsx","cmps/layout/MainLayout.jsx","services/storage.service.js","services/util.service.js","services/data.js","services/http.service.js","services/station.service.js","services/socket.service.js","services/user.service.js","store/user.actions.js","services/async-storage.service dont delete.js","store/station.actions.js","assets/img/play.svg","assets/img/musicLa.svg","cmps/trackByUser-preview.jsx","cmps/trackByUsers.jsx","pages/friends.jsx","cmps/favorite-artists.jsx","assets/img/stationImg.jpg","cmps/station-preview.jsx","assets/img/loader.svg","cmps/Loading.jsx","cmps/login-signup-form.jsx","cmps/profile.jsx","pages/Home.jsx","assets/img/heart-regular.svg","cmps/track-preview.jsx","assets/img/isPlaying.gif","cmps/draggable-track-preview.jsx","cmps/draggable-track-list.jsx","assets/img/mood-search.jpg","assets/img/pop-search.jpg","assets/img/chill-search.jpg","assets/img/summer-search.jpeg","assets/img/latin-search.jpg","assets/img/jazz-search.jpg","assets/img/indie-search.jpg","assets/img/wellness-search.jpg","assets/img/sleep-search.jpg","assets/img/decades-search.jpg","assets/img/workout-search.jpg","assets/img/party-search.jpg","assets/img/focus-search.jpg","assets/img/alternativ-search.jpg","assets/img/travel-search.jpg","assets/img/soul-search.jpg","assets/img/funk-search.jpg","assets/img/metal-search.jpg","assets/img/classical-search.jpg","assets/img/blues-search.jpg","cmps/trackList.jsx","cmps/searchResultTrack.jsx","cmps/searchResultStation.jsx","cmps/searchResultStationDetails.jsx","services/youtubeApi.service.js","pages/search.jsx","pages/station-details.jsx","pages/queue.jsx","assets/img/enter.png","pages/signin.jsx","assets/img/user.png","pages/signup.jsx","cmps/liked-songs-preview.jsx","pages/stations.jsx","assets/img/gramophone.png","pages/user-pref.jsx","routes.js","cmps/app-footer.jsx","store/friends.actions.js","cmps/create-playlist.jsx","assets/img/ringing.png","cmps/user-msg.jsx","root-cmp.jsx","serviceWorkerRegistration.js","index.js"],"names":["initialState","stations","queue","playNextQueue","currTrack","isPlaying","playedStation","currStation","user","users","trackAndUsers","rootReducer","combineReducers","stationMoudle","state","action","newState","newQueue","newPlayNextQueue","nextTrack","type","track","nextQueue","splice","idx","push","findIndex","id","befores","shift","concat","stationId","length","pop","unshift","station","newStation","userMoudle","count","diff","filter","_id","userId","map","stationOrTrack","likedStations","trackId","likedTracks","currStationId","userPref","recentlyPlayedStations","recentlyPlayedSongs","friendMoudle","trackAndUserIdx","trackAndUser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showNotificationMsg","showErrorMsg","myBus","_MainNav","props","handleClick","linkId","a","isMenuOpen","toggleMenu","setState","activLink","setSelectedStationId","prevState","selectedStationId","newIsMenuOpen","links","name","to","fa","prevProps","this","className","onClick","bind","src","logo","alt","link","genre","React","Component","MainNav","connect","ownProps","MainLayout","children","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","removeFromStorage","removeItem","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","Duration","seconds","dateTime","round","format","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","pad","getUTCSeconds","string","slice","Axios","create","withCredentials","axios","BASE_URL","stationServiceNew","query","getStationById","searchStation","saveStation","stationToEdit","_updateStation","_addStation","getStationByGenre","getStationFromLocal","getStationsByUser","getGoodDay","getHot","filterBy","get","params","res","userService","getLoggedinUser","console","log","storageService","find","post","put","keySearch","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","review","getUserById","addLikeToTrack","removeLikeFromTrack","AddToRecentlyPlayed","setUserPref","isGuest","updateUser","signup","login","logout","getUsers","STORAGE_KEY","URL","userToSave","credentials","removed","username","_saveUserToStorage","updatedUser","some","stationIdx","stationToUpdate","userIdliked","createdBy","currUser","stationName","likedByUsers","likedByUser","currTrackId","loadUser","dispatch","loadUsers","onLogin","onSignup","onLogout","guestService","Promise","resolve","gStations","deleteStation","_saveStationsToStorage","getNextStationId","nextStationIdx","searchTrack","addToStation","removeFromStation","getStationByTag","keySerch","includes","tags","KEY","songCache","_createStation","idxs","items","videoId","join","duration","contentDetails","trackResult","title","snippet","imgUrl","thumbnails","high","url","songs","tagName","playlistId","ganer","fullname","resourceId","all","loadStations","guestStations","setCurrTrack","err","setQueue","addToNextQueue","newTrack","toggleIsPlaying","setPlay","setCurrStation","_createStations","_PrackByUserPreview","playTrack","usersImgs","imgObj","currUserId","musicLa","play","mapDispatchToProps","PrackByUserPreview","_TrackByUsers","userImg","getCurrTrack","traclANdUser","following","TrackByUsers","_Friends","require","onFollow","filterUsers","toUpperCase","handleChange","target","value","userIdToFollow","isFollow","img","onChange","placeholder","style","userToUpdate","Friends","FavoriteArtists","artists","artist","_StationPreview","playRandTrack","navigateToStation","history","stationImg","e","stopPropagation","reduce","songStr","song","__StationPreview","StationPreview","withRouter","Loading","loader","margin","LoginSignupForm","responseFacebook","response","newCredentials","email","password","userID","facebookUserId","picture","onSubmit","ps","handleSubmit","preventDefault","resetCredentials","handleClose","closeForm","handleSignIn","isLogin","handleLogin","_UserPrifile","loginOrSignup","isLoggedIn","getInitialCredentials","setLoginOrSignup","facebookComponentClicked","menuButton","UserProfile","_Home","goodDayStations","hotStations","numOfPreviews","handleRisize","entries","viewPortWidth","contentRect","width","getTime","curHr","getHours","getLikedStation","unresolvedPromisesLike","unresolvedPromisesStation","b","results","resizer","ResizeObserver","observe","document","querySelector","Home","_TrackPreview","isLike","componentDidMount","getTimeFromDuration","hours","minutes","replace","indexOf","hours_split","split","parseInt","minutes_split","seconds_split","str","onAddToStation","onRemoveFromStation","trackIdx","loadStation","trackFromQueue","toggleLike","ev","isOnDeatils","heartNotChecked","label","TrackPreview","DraggableTrackPreview","SortableElement","DraggableTrackList","SortableContainer","index","TrackList","SearchResultTrack","onAddToNextQueue","SearchResultStation","stationResult","SearchResultStationDetails","youtubeApiService","default","_","_Search","isOnSearch","delayedHandleChange","debounce","stationResultApi","result","moveScrollDwon","homePage","scrollTop","scrollHeight","onPlayTrack","backgroundColor","chill","party","focus","alternativ","summer","indie","latin","wellness","sleep","decades","workout","travel","soul","jazz","funk","mood","metal","classical","blues","Search","_StationDetails","isFindMore","isShowAll","match","onSortEnd","oldIndex","newIndex","arrayMoveImmutable","handleToggleLike","stationToSave","handleFindMore","moveSrollDown","fontSize","axis","distance","StationDetails","_Queue","body","backgroundImage","Queue","Copyright","Typography","variant","color","align","Link","href","getFullYear","theme","createTheme","_Signin","isAdmin","clearState","clearTemplate","field","loginUser","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","height","enter","noValidate","mt","TextField","required","fullWidth","autoComplete","FormControlLabel","control","Checkbox","Button","mb","Grid","container","item","xs","_Signup","isSignup","spacing","sm","autoFocus","justifyContent","_LikedSongsPreview","__LikedSongsPreview","LikedSongsPreview","_Stations","getLikedSongsStation","likedSongsStation","Stations","_UserPref","selectArtist","parentElement","classList","contains","add","onError","onerror","class","routes","path","_AppFooter","volume","isPlayedTrack","played","loaded","inQueue","isShuffle","isLiked","isTrackLiked","event","newValue","randIdx","togglePlay","isLoaded","handleSeekMouseDown","seeking","handleSeekChange","parseFloat","handleSeekMouseUp","player","seekTo","handleProgress","handleDuration","ref","goNext","playNextTrack","goShuffle","unshuffleQueue","shuffleQueue","goPrev","playPrevTrack","handleEnded","goBack","onGoToplaylist","obj","setFriendCurrTrack","currLoginUser","prevstate","playing","onDuration","onProgress","heigth","step","onMouseDown","onMouseUp","Stack","direction","Slider","j","temp","playedStationId","__AppFooter","AppFooter","_CreateStation","isCreate","labelOptions","Array","isArray","option","onAddStation","addStation","closeMenuOnSelect","options","isMulti","tag","background","CreateStation","UserMsg","msg","removeEvent","setTimeout","msgClass","ringing","RootCmp","route","exact","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","getElementById","process","origin","fetch","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.fbcb0f2a.chunk.js","sourcesContent":["const initialState = {\r\n    stations: [],\r\n    queue: [],\r\n    playNextQueue: [],\r\n    currTrack: null,\r\n    isPlaying: false,\r\n    playedStation: null,\r\n    currStation: null\r\n}\r\nexport function stationReducer(state = initialState, action) {\r\n    var newState = state\r\n    const newQueue = [...state.queue]\r\n    const newPlayNextQueue = [...state.playNextQueue]\r\n    let nextTrack = {}\r\n    switch (action.type) {\r\n        case 'SET_STATIONS':\r\n            newState = { ...state, stations: action.stations }\r\n            break\r\n        case 'SET_CURR_TRACK':\r\n            if (action.track.nextQueue) {\r\n                if (state.currTrack) newPlayNextQueue.splice(action.idx, 1)\r\n            }\r\n            if (!state.currTrack?.nextQueue) {\r\n                newQueue.push(state.currTrack)\r\n            }\r\n            newState = { ...state, currTrack: action.track, queue: newQueue, playNextQueue: newPlayNextQueue }\r\n            break\r\n        case 'SET_QUEUE':\r\n            let idx = action.queue.findIndex((track) => state.currTrack.id === track.id)\r\n            const befores = action.queue.splice(0, idx)\r\n            action.queue.shift()\r\n            action.queue = action.queue.concat(befores)\r\n            newState = { ...state, queue: action.queue, playedStation: action.stationId };\r\n            break\r\n        case 'ADD_TO_NEXT_QUEUE':\r\n            if (!state.currTrack) {\r\n                newState = { ...state, currTrack: action.track };\r\n                break\r\n            }\r\n            newPlayNextQueue.push(action.track)\r\n            newState = { ...state, playNextQueue: newPlayNextQueue };\r\n            break\r\n        case 'SHUFFLE_QUEUE':\r\n            newState = { ...state, queue: action.queue };\r\n            break\r\n        case 'TOGGLE_ISPLAYING':\r\n            newState = { ...state, isPlaying: !state.isPlaying };\r\n            break\r\n        case 'SET_PLAY':\r\n            newState = { ...state, isPlaying: true };\r\n            break\r\n        case 'NEXT_TRACK':\r\n            if (state.playNextQueue.length > 0) {\r\n                nextTrack = newPlayNextQueue.shift();\r\n\r\n            } else {\r\n                nextTrack = newQueue.shift();\r\n            }\r\n            if (!state.currTrack.nextQueue) newQueue.push(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n                playNextQueue: newPlayNextQueue\r\n            };\r\n\r\n            break\r\n        case 'PREV_TRACK':\r\n            nextTrack = newQueue.pop();\r\n            newQueue.unshift(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n            };\r\n            break\r\n        case 'SET_CURR_STATION':\r\n            newState = { ...state, currStation: action.station }\r\n            break;\r\n        case 'ADD_STATION':\r\n            newState = { ...state, stations: [...state.stations, action.newStation] };\r\n            break\r\n        // case ''\r\n        default:\r\n    }\r\n    return newState\r\n\r\n}\r\n","\r\nconst initialState = {\r\n    //user: userService.getLoggedinUser(),\r\n    user: null,\r\n    users: [],\r\n}\r\n\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: { ...action.user } }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: [...action.users] }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            let users = state.users.map(user => (user._id === action.user._id) ? action.user : user);\r\n            newState = { ...state, users, user: { ...action.user } }\r\n            break;\r\n        case 'ADD_LIKE_TO_TRACK':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, likedStations: [...state.user.likedStations, action.trackId] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, likedTracks: [...state.user.likedTracks, action.trackId] } }\r\n            }\r\n            break;\r\n        case 'REMOVE_LIKE_FROM_TRACK':\r\n\r\n            if (action.stationOrTrack === 'station') {\r\n                var likedStations = state.user.likedStations.filter(currStationId => currStationId !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedStations: likedStations } }\r\n            }\r\n            else {\r\n                var likedTracks = state.user.likedTracks.filter(currTrack => currTrack.id !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedTracks: likedTracks } }\r\n            }\r\n            break;\r\n        case 'SET_USERֹ_PREF':\r\n            newState = { ...state, user: { ...state.user, userPref: action.userPref } }\r\n            break;\r\n        case 'ADD_TO_RECENTLY_PLAYED':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedStations: [...state.user.recentlyPlayedStations, action.track] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedSongs: [...state.user.recentlyPlayedSongs, action.track] } }\r\n            }\r\n            break;\r\n        default:\r\n\r\n    }\r\n    return newState;\r\n\r\n}\r\n\r\n","const initialState = {\r\n    trackAndUsers: [],\r\n}\r\nexport function friendReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'SET_FRIEND_CURR_TRACK':\r\n            //if not following\r\n            debugger\r\n            //if (!action.currLoginUser.following?.length) {\r\n            //    newState = { ...state, trackAndUsers: [] }\r\n            //    break\r\n            //}\r\n            //else {\r\n            //    if (!action.currLoginUser.following.includes(action.user._id)) {\r\n            //        let trackAndUsers = state.trackAndUsers.filter(trackAndUser => trackAndUser.user._id !== action.user._id)\r\n            //        newState = { ...state, trackAndUsers }\r\n            //        break\r\n            //    }\r\n            //}\r\n            const trackAndUserIdx = state.trackAndUsers?.findIndex(trackAndUser => trackAndUser.user._id === action.user._id)\r\n            if (trackAndUserIdx !== -1) {\r\n                let trackAndUsers = [...state.trackAndUsers];\r\n                let trackAndUser = { ...trackAndUsers[trackAndUserIdx] };\r\n                trackAndUser.track = action.track;\r\n                trackAndUsers[trackAndUserIdx] = trackAndUser\r\n                newState = { ...state, trackAndUsers }\r\n            }\r\n            else {\r\n                newState = { ...state, trackAndUsers: [...state.trackAndUsers, ({ track: action.track, user: { ...action.user } })] }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stationReducer } from './station.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { friendReducer } from './friend.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    stationMoudle: stationReducer,\r\n    userMoudle: userReducer,\r\n    friendMoudle: friendReducer,\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/gramophone-svgrepo-com.db7a0ac8.svg\";","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showNotificationMsg(txt) {\r\n    showUserMsg(txt, 'notification')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\nimport { eventBusService } from '../services/event-bus.service'\r\n\r\nclass _MainNav extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      links: [\r\n        {\r\n          id: 1,\r\n          name: \"Home\",\r\n          to: \"/\",\r\n          fa: 'fa-home'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Search\",\r\n          to: \"/search\",\r\n          fa: 'fa-search'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"My Stations\",\r\n          to: \"/stations\",\r\n          fa: 'fa-library'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Liked Songs\",\r\n          to: \"/station/likedTracks\",\r\n          fa: 'fa-heart'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Friends\",\r\n          to: \"/friends\",\r\n          fa: 'fa-user-friends'\r\n        }\r\n      ],\r\n      activLink: 1,\r\n      selectedStationId: null,\r\n      isMenuOpen: false\r\n\r\n    }\r\n\r\n    // Methods Binding:\r\n    // this.toggleMenu = this.toggleMenu.bind(this)\r\n\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(prevProps.stations?.length!==this.props.stations?.length){\r\n      this.setState(prevState=>({...prevState}))\r\n    }\r\n  }\r\n\r\n  handleClick = async (linkId) => {\r\n    if (this.state.isMenuOpen)\r\n      await this.toggleMenu(!this.state.isMenuOpen)\r\n    this.setState({ activLink: linkId })\r\n  }\r\n\r\n  setSelectedStationId = (stationId) => {\r\n    this.setState(prevState => ({ ...prevState, selectedStationId: stationId }))\r\n  }\r\n\r\n  toggleMenu = async (newIsMenuOpen) => {\r\n    this.setState({ isMenuOpen: newIsMenuOpen })\r\n  }\r\n\r\n  render() {\r\n    const { stations } = this.props\r\n    const { activLink, links, selectedStationId, isMenuOpen } = this.state\r\n    if (!links) {\r\n      return <div>loading.</div>\r\n    }\r\n    return (\r\n      <>\r\n        {/* {isMenuOpen && <div className=\"screen\" onClick={this.toggleMenu.bind(this, !isMenuOpen)}></div>} */}\r\n        <div className=\"hamburger-wrapper\">\r\n          <div className={`hamburger ${isMenuOpen ? \"active\" : \"\"}`} onClick={this.toggleMenu.bind(this, !isMenuOpen)}>\r\n            <div></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <nav className={isMenuOpen ? 'main-nav active' : 'main-nav'}>\r\n\r\n          <Link to='/Home'>\r\n            <div className=\"banner\">\r\n              {/* src\\assets\\img */}\r\n              <div className=\"logo-img-container\">\r\n                <img src={logo} alt=\"\" />\r\n              </div>\r\n              <h4>Lotify\r\n                <span>.</span>\r\n              </h4>\r\n            </div>\r\n          </Link>\r\n          <ul className=\"primary-nav\">\r\n            {/* {links.map(link => {\r\n              return <li key={link.id} onClick={() => this.handleClick(link.id)} className={link.id === activLink ? 'active' : ''}> */}\r\n            {links.map(link => {\r\n              return <li key={link.id} onClick={this.handleClick.bind(this, link.id)} className={link.id === activLink ? 'active' : ''}>\r\n\r\n                <NavLink to={link.to}>\r\n                  <span className={`nav-icon fas ${link.fa}`}></span>\r\n                  {link.name}</NavLink>\r\n              </li>\r\n            })}\r\n            <li onClick={() => { eventBusService.emit(\"create-playlist\") }} className=\"nav-create\">\r\n              <a>\r\n                <span className=\"nav-icon fas fa-plus-square\"></span>\r\n                Create Playlist\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"stations\">\r\n            {\r\n              stations.map(station => {\r\n                if(station.genre!==\"likedTracks\")\r\n                return <li key={station._id} onClick={() => this.setSelectedStationId(station._id)}>\r\n                  <NavLink to={`/station/${station._id}`}\r\n                    className={selectedStationId === station._id ? 'station-link selected-station' : 'station-link'}>\r\n                    {station.name}\r\n                  </NavLink></li>\r\n              })\r\n            }\r\n\r\n          </ul>\r\n        </nav>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nexport const MainNav = connect(mapStateToProps)(_MainNav)","export const MainLayout = ({ children }) => {\r\n     return <div className=\"main-container\">\r\n         {children}\r\n     </div>\r\n\r\n}","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n    localStorage.removeItem(key) \r\n}\r\n\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage,\r\n    removeFromStorage\r\n\r\n}","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\n\r\nexport function Duration({ className, seconds }) {\r\n    return (\r\n        <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n            {format(seconds)}\r\n        </time>\r\n    )\r\n}\r\n\r\nfunction format(seconds) {\r\n    const date = new Date(seconds * 1000)\r\n    const hh = date.getUTCHours()\r\n    const mm = date.getUTCMinutes()\r\n    const ss = pad(date.getUTCSeconds())\r\n    if (hh) {\r\n        return `${hh}:${pad(mm)}:${ss}`\r\n    }\r\n    return `${mm}:${ss}`\r\n}\r\n\r\nfunction pad(string) {\r\n    return ('0' + string).slice(-2)\r\n}\r\n\r\n\r\n","export const gPlaylists =\r\n    [\r\n        {\r\n            \"_id\": \"likedTracks\",\r\n            \"name\": \"Liked Songs\",\r\n            \"tags\": [],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\",\r\n            },\r\n            \"songs\": []\r\n        },\r\n        {\r\n            \"_id\": \"5c08\",\r\n            \"name\": \"arctic monkeys\",\r\n            \"tags\": [\"Funk\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"bpOSxM0rNPM\",\r\n                    \"title\": \"Arctic Monkeys - Do I Wanna Know?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/bpOSxM0rNPM/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M26S\"\r\n                },\r\n                {\r\n                    \"id\": \"6366dxFf-Os\",\r\n                    \"title\": \"Arctic Monkeys - Why`d You Only Call Me When You`re High?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/6366dxFf-Os/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M49S\"\r\n                },\r\n                {\r\n                    \"id\": \"VQH8ZTgna3Q\",\r\n                    \"title\": \"Arctic Monkeys - R U Mine?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/VQH8ZTgna3Q/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M44S\"\r\n                },\r\n                {\r\n                    \"id\": \"ma9I9VBKPiw\",\r\n                    \"title\": \"Arctic Monkeys - Fluorescent Adolescent\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M16S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"5c10\",\r\n            \"name\": \"chill\",\r\n            \"tags\": [\"Chill\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"MPbUaIZAaeA\",\r\n                    \"title\": \"Shawn Mendes, Justin Bieber - Monster\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/MPbUaIZAaeA/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M4S\"\r\n                },\r\n                {\r\n                    \"id\": \"tcYodQoapMg\",\r\n                    \"title\": \"Ariana Grande - positions (official video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/tcYodQoapMg/hqdefault.jpg\",\r\n                    \"duration\": \"PT2M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"U05fwua9-D4\",\r\n                    \"title\": \"Maroon 5 - Lost (Official Music Video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/U05fwua9-D4/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M8S\"\r\n                },\r\n                {\r\n                    \"id\": \"iX-QaNzd-0Y\",\r\n                    \"title\": \"Milky Chance - Stolen Dance\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M14S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n\r\n            \"_id\": \"5n250\",\r\n            \"name\": \"Rap\",\r\n            \"tags\": [\"rap\", \"beat\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"Yhyp-_hX2s\",\r\n                    \"title\": \"Eminem - Lose Yourself\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/_Yhyp-_hX2s/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M24S\"\r\n                },\r\n                {\r\n                    \"id\": \"YVkUvmDQ3HY\",\r\n                    \"title\": \"Eminem - Without Me\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/YVkUvmDQ3HY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"j5-yKhDd64s\",\r\n                    \"title\": \"Eminem - Not Afraid\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/j5-yKhDd64s/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M19S\"\r\n                },\r\n                {\r\n                    \"id\": \"XbGs_qK2PQA\",\r\n                    \"title\": \"Eminem - Rap God \",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/XbGs_qK2PQA/hqdefault.jpg\",\r\n                    \"duration\": \"PT6M10S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"p201\",\r\n            \"name\": \"shlomo artzi\",\r\n            \"tags\": [\"Israeli music\", \"Shlomo Artzi\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"puki ben david\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n\r\n                {\r\n                    \"id\": \"TWtbHxQMTqc\",\r\n                    \"title\": \"Shlomo Artzi - Menagev Lach Et Hadmaot (with subtitle)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/TWtbHxQMTqc/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M9S\"\r\n                },\r\n                {\r\n                    \"id\": \"fNThHjoimrY\",\r\n                    \"title\": \"שלמה ארצי - אבסורד\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/fNThHjoimrY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M2S\"\r\n                },\r\n                {\r\n                    \"id\": \"sDRSs2rrZ8o\",\r\n                    \"title\": \"שלמה ארצי - ירח (קליפ)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/sDRSs2rrZ8o/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M30S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"pop\",\r\n            \"name\": \"Top POP Hits 2021 – Biggest Pop Music Videos - Vevo\",\r\n            \"tags\": [\"pop\"],\r\n            \"createdBy\": { \"_id\": \"u101\", \"fullname\": \"app\", \"imgUrl\": \"http://some-photo\" },\r\n            \"songs\": [{ \"id\": \"XXYlFuWEuKI\", \"title\": \"The Weeknd - Save Your Tears (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/XXYlFuWEuKI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"RsEZmictANA\", \"title\": \"Taylor Swift - willow (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/RsEZmictANA/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"l0U7SxXHkPY\", \"title\": \"Future - Life Is Good (Official Music Video) ft. Drake\", \"imgUrl\": \"https://i.ytimg.com/vi/l0U7SxXHkPY/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"BSzSn-PRdtI\", \"title\": \"Maroon 5 - Beautiful Mistakes ft. Megan Thee Stallion (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/BSzSn-PRdtI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"TUVcZfQe-Kw\", \"title\": \"Dua Lipa - Levitating Featuring DaBaby (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/TUVcZfQe-Kw/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"6swmTBVI83k\", \"title\": \"Lil Nas X - MONTERO (Call Me By Your Name) (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/6swmTBVI83k/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"ssq6X6alZ3w\", \"title\": \"Ariana Grande - 34+35 (Remix) ft. Doja Cat, Megan Thee Stallion\", \"imgUrl\": \"https://i.ytimg.com/vi/ssq6X6alZ3w/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"r4P-WOOUPk4\", \"title\": \"Little Mix - Sweet Melody (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/r4P-WOOUPk4/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"tQ0yjYUFKAE\", \"title\": \"Justin Bieber - Peaches ft. Daniel Caesar, Giveon\", \"imgUrl\": \"https://i.ytimg.com/vi/tQ0yjYUFKAE/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"vMLk_T0PPbk\", \"title\": \"Black Eyed Peas, Shakira - GIRL LIKE ME (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/vMLk_T0PPbk/hqdefault.jpg\", \"duration\": \"PT4M26S\" }]\r\n        }\r\n    ]\r\n\r\n\r\n","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : 'http://localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http.service.js'\r\nimport Axios from 'axios'\r\nimport storageService from './storage.service.js';\r\nimport { userService } from './user.service.js';\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV === 'production')\r\n    ? '/api/station'\r\n    : 'http://localhost:3030/api/station';\r\n\r\nexport const stationServiceNew = {\r\n    query,\r\n    getStationById,\r\n    searchStation,\r\n    saveStation,\r\n    getStationByGenre,\r\n    getStationFromLocal,\r\n    getStationsByUser,\r\n    getGoodDay,\r\n    getHot\r\n}\r\n\r\nasync function query(filterBy = {}) {\r\n    //const res = await axios.get('http://localhost:3030/api/toy', { params: filterBy })\r\n    const res = await axios.get(`${BASE_URL}`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function getGoodDay() {\r\n    const res = await axios.get(`${BASE_URL}/goodDay`)\r\n    return res.data\r\n}\r\n\r\nasync function getHot() {\r\n    const res = await axios.get(`${BASE_URL}/hot`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationsByUser() {\r\n    const user = await userService.getLoggedinUser()\r\n    const res = await axios.get(`${BASE_URL}/station/${user._id}`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationById(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/${stationId}`)\r\n    console.log(\"🚀 ~ file: station.service.js ~ line 51 ~ getStationById ~ res.data\", res.data)\r\n    return res.data\r\n}\r\n\r\nasync function getStationFromLocal(stationId) {\r\n    const stations = await storageService.loadFromStorage('stations')\r\n    return stations.find((station) => station._id === stationId)\r\n}\r\n\r\nasync function getStationByGenre(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/genre/${stationId}`)\r\n    return res.data\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\nasync function _addStation(stationToEdit) {\r\n    const res = await axios.post(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\nasync function _updateStation(stationToEdit) {\r\n    const res = await axios.put(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\n\r\nasync function searchStation(keySearch) {\r\n    const stations = await query({ keySearch })\r\n    return stations\r\n}\r\n\r\n\r\n\r\n\r\n    //async function remove(toyId) {\r\n    //    await axios.delete(`${BASE_URL}/${toyId}`)\r\n    //}\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  console.log('Review about me!', review);\r\n})\r\n\r\n","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\nimport { gPlaylists } from \"./data\";\r\nimport Axios from 'axios'\r\nimport { update } from 'lodash';\r\nimport { stationServiceNew } from './station.service';\r\nimport { socketService } from '../services/socket.service'\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    getUserById,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    AddToRecentlyPlayed,\r\n    setUserPref,\r\n    isGuest,\r\n    updateUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    getUsers\r\n}\r\nconst STORAGE_KEY = \"user\"\r\nconst URL = (process.env.NODE_ENV === 'production') ?\r\n    '/api' :\r\n    'http://localhost:3030/api';\r\n\r\n\r\nasync function signup(user) {\r\n    let userToSave = await axios.post(`${URL}/auth/signup`, user)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function login(credentials) {\r\n    let userToSave = await axios.post(`${URL}/auth/login`, credentials)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function logout() {\r\n    const removed = await axios.post(`${URL}/auth/logout`)\r\n    storageService.removeFromStorage(STORAGE_KEY)\r\n    return removed\r\n}\r\n\r\n\r\nasync function updateUser(user) {\r\n    if (user.username !== \"guest\") {\r\n        let updatedUser = await axios.put(`${URL}/user/${user._id}`, user)\r\n        _saveUserToStorage(updatedUser.data)\r\n        return updatedUser.data\r\n\r\n    }\r\n    else {\r\n        _saveUserToStorage(user)\r\n        return user\r\n    }\r\n\r\n}\r\nasync function AddToRecentlyPlayed(track, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'track') {\r\n        let recentlyPlayedSongs = user.recentlyPlayedSongs\r\n        if (!recentlyPlayedSongs.length < 10)\r\n            recentlyPlayedSongs = recentlyPlayedSongs.slice(Math.max(recentlyPlayedSongs.length - 9, 0))\r\n        recentlyPlayedSongs.unshift(track)\r\n        user.recentlyPlayedSongs = recentlyPlayedSongs\r\n    }\r\n    else {\r\n        if (!track || track === null) return\r\n        let recentlyPlayedStations = user.recentlyPlayedStations\r\n        if (recentlyPlayedStations.some(stationIdx => stationIdx === track)) return\r\n        if (!recentlyPlayedStations.length < 10)\r\n            recentlyPlayedStations = recentlyPlayedStations.slice(Math.max(recentlyPlayedStations.length - 9, 0))\r\n\r\n        recentlyPlayedStations.unshift(track)\r\n        user.recentlyPlayedStations = recentlyPlayedStations\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function getLoggedinUser() {\r\n    let user = storageService.loadFromStorage(STORAGE_KEY)\r\n    console.log(user);\r\n    if (!user) {\r\n        await login({ username: \"guest\" })\r\n        getLoggedinUser()\r\n    }\r\n    return user\r\n}\r\n\r\nasync function isGuest() {\r\n    const user = await getLoggedinUser()\r\n    return user.username === \"guest\"\r\n}\r\n\r\nasync function addLikeToTrack(trackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        user.likedStations.unshift(trackId)\r\n        let stationToUpdate = await stationServiceNew.getStationFromLocal(trackId)//search in local storage\r\n        if (!stationToUpdate)\r\n            if (trackId.length === 24) {\r\n                stationToUpdate = await stationServiceNew.getStationById(trackId)\r\n                console.log('got by id', stationToUpdate);\r\n            } else {\r\n                stationToUpdate = await stationServiceNew.getStationByGenre(trackId)\r\n                console.log('got by genre', stationToUpdate);\r\n            }\r\n            socketService.emit('add like', { userIdliked: stationToUpdate.createdBy.id, currUser: user, stationName: stationToUpdate.name })\r\n\r\n        if (!stationToUpdate.likedByUsers) stationToUpdate.likedByUsers = []\r\n        if (!stationToUpdate.likedByUsers.some(likedByUser => likedByUser.id === user._id)) {\r\n            stationToUpdate.likedByUsers.push({ username: user.username, id: user._id })\r\n            await stationServiceNew.saveStation(stationToUpdate)\r\n        }\r\n    }\r\n    else {\r\n        user.likedTracks.unshift(trackId)\r\n    }\r\n    \r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function removeLikeFromTrack(currTrackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        let likedStations = user.likedStations.filter(trackId => trackId !== currTrackId)\r\n        user.likedStations = likedStations\r\n    }\r\n    else {\r\n        let likedTracks = user.likedTracks.filter(track => track.id !== currTrackId)\r\n        user.likedTracks = likedTracks\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\n\r\nasync function getUserById(userId) {\r\n    let user = await axios.get(`${URL}/user/${userId}`)\r\n    return user.data\r\n}\r\nasync function getUsers(filterBy) {\r\n    filterBy = { filterBy }\r\n    console.log(filterBy, 'filterBy');\r\n    let res = await axios.get(`${URL}/user`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function setUserPref(userPref) {\r\n    let user = await getLoggedinUser()\r\n    user.userPref = userPref\r\n    if (user.username !== \"guest\") {\r\n        updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    // let user = await axios.get(`${URL}/user/${user._id}`)\r\n    return user\r\n}\r\n\r\n\r\nfunction _saveUserToStorage(user) {\r\n    storageService.saveToStorage(STORAGE_KEY, user)\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService } from \"../services/socket.service.js\";\r\n//import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\nexport function loadUser() {\r\n    return async dispatch => {\r\n        try {\r\n            let user = await userService.getLoggedinUser()\r\n            if (!user) {\r\n                user = await userService.login({ username: 'guest' })\r\n            }\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            let users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function addLikeToTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.addLikeToTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'ADD_LIKE_TO_TRACK', trackId, stationOrTrack })\r\n\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function removeLikeFromTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.removeLikeFromTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'REMOVE_LIKE_FROM_TRACK', trackId, stationOrTrack })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function setUserPref(userPref) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.setUserPref(userPref)\r\n            dispatch({ type: 'SET_USERֹ_PREF', userPref })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n\r\n        } catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            loadUser()\r\n            socketService.emit('unset-user-socket');\r\n        }\r\n        catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updateUser(userToUpdate) {\r\n    return async dispatch => {\r\n        try {\r\n            let a = await userService.updateUser(userToUpdate)\r\n            dispatch({ type: 'UPDATE_USER', user: userToUpdate })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\n// import { gPlaylists } from \"./data\";\r\nimport axios from 'axios'\r\nexport const guestService = {\r\n    query,\r\n    saveStation,\r\n    deleteStation,\r\n    getStationById,\r\n    getNextStationId,\r\n    searchTrack,\r\n    addToStation,\r\n    removeFromStation,\r\n    getStationByTag,\r\n    searchStation\r\n}\r\nconst KEY = 'stations';\r\nvar gStations = [];\r\nlet songCache = []\r\n_createStations();\r\n\r\nfunction query(filterBy) {\r\n    return Promise.resolve(gStations)\r\n}\r\n\r\nfunction deleteStation(stationId) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return stationId === station.id\r\n    })\r\n    gStations.splice(stationIdx, 1)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\n\r\nfunction _addStation(stationToEdit) {\r\n    var station = _createStation(stationToEdit)\r\n    gStations.unshift(station)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve(station)\r\n}\r\n\r\nfunction _updateStation(stationToEdit) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return station.id === stationToEdit.id;\r\n    })\r\n    gStations[stationIdx] = stationToEdit\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\n\r\nfunction getStationById(stationId) {\r\n    var station = gStations.find(function (station) {\r\n        return stationId === station._id\r\n    })\r\n    return Promise.resolve(station)\r\n}\r\n\r\n\r\nfunction getNextStationId(stationId) {\r\n    const stationIdx = gStations.findIndex(station => station.id === stationId)\r\n    let nextStationIdx = stationIdx + 1\r\n    if (nextStationIdx === gStations.length) nextStationIdx = 0\r\n    return gStations[nextStationIdx].id\r\n}\r\n\r\nfunction _createStation(stationToEdit) {\r\n    stationToEdit._id = utilService.makeId()\r\n    return stationToEdit\r\n}\r\n\r\nfunction _createStations() {\r\n    var stations = storageService.loadFromStorage(KEY)\r\n    if (!stations || !stations.length) {\r\n        stations = []\r\n    }\r\n    gStations = stations;\r\n    _saveStationsToStorage();\r\n}\r\n\r\nfunction _saveStationsToStorage() {\r\n    storageService.saveToStorage(KEY, gStations)\r\n}\r\n\r\n\r\n\r\n//api \r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    //keySerch = keySerch.trim()\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\nasync function addToStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    currStation.songs.push(track)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function removeFromStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    const idx = currStation.songs.findIndex(currTrack => track.id === currTrack.id)\r\n    currStation.songs.splice(idx, 1)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function getStationByTag(tagName) {\r\n    //let songCache = gStations.find(station => station.ganer === tagName)\r\n    //if (songCache) {\r\n    //    console.log('No need to fetch, retrieving from Cache', songCache);\r\n    //    return [songCache]\r\n    //}\r\n    songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n            return {\r\n                ganer: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => ({\r\n                    id: track.snippet.resourceId.videoId,\r\n                    title: track.snippet.title,\r\n                    imgUrl: track.snippet.thumbnails.high.url,\r\n                    duration: \"PT4M26S\"\r\n                }))\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        //await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction searchStation(keySerch) {\r\n    return gStations.filter((station) => {\r\n        if (station.name.includes(keySerch) || station.tags.includes(keySerch)) {\r\n            return station\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { guestService } from \"../services/async-storage.service dont delete.js\";\r\nimport { stationServiceNew } from \"../services/station.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { AddToRecentlyPlayed } from \"./user.actions.js\";\r\n\r\nexport function loadStations() {\r\n    return async (dispatch) => {\r\n        try {\r\n            let stations = await stationServiceNew.getStationsByUser()\r\n            let guestStations = await guestService.query()\r\n            stations = stations.concat(guestStations)\r\n            console.log(stations);\r\n            dispatch({\r\n                type: 'SET_STATIONS',\r\n                stations\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(`Had Issues ${err}`)\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nexport function addStation(newStation) {\r\n    return async (dispatch) => {\r\n        if (await userService.isGuest()) {\r\n            console.log('is guest');\r\n            newStation = await guestService.saveStation(newStation)\r\n        } else {\r\n            console.log('not guest');\r\n            newStation = await stationServiceNew.saveStation(newStation)\r\n        }\r\n        dispatch({\r\n            type: 'ADD_STATION',\r\n            newStation\r\n        })\r\n        showSuccessMsg(\"Add to your Stations\")\r\n    }\r\n}\r\n\r\nexport function unshuffleQueue(playedStationId) {\r\n    return async (dispatch) => {\r\n        let queue = await stationServiceNew.getStationById(playedStationId)\r\n        queue = queue.songs\r\n        dispatch({\r\n            type: 'SET_QUEUE',\r\n            queue,\r\n            stationId: playedStationId\r\n        })\r\n    }\r\n}\r\n\r\n//without service\r\nexport function setCurrTrack(track, idx) {\r\n    return async (dispatch) => {\r\n        ////add track to recentlyPlayed\r\n        try {\r\n            dispatch({\r\n                type: 'SET_CURR_TRACK',\r\n                track,\r\n                idx,\r\n            })\r\n            //await userService.AddToRecentlyPlayed(track, 'track')\r\n            //dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'track', track })\r\n        }\r\n\r\n        catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function setQueue(queue, stationId = 0) {\r\n    queue = queue.filter(track => !track.nextQueue)\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: 'SET_QUEUE',\r\n                queue,\r\n                stationId\r\n            })\r\n            if (!stationId) return\r\n            await userService.AddToRecentlyPlayed(stationId, 'station')\r\n            dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'station', stationId })\r\n        }\r\n        catch (err) {\r\n            console.log('setQueue  error', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToNextQueue(track) {\r\n    return async (dispatch) => {\r\n        let newTrack = { ...track }\r\n        newTrack.nextQueue = true\r\n        dispatch({\r\n            type: 'ADD_TO_NEXT_QUEUE',\r\n            track: newTrack\r\n        })\r\n        showSuccessMsg('Added to queue')\r\n    }\r\n}\r\n\r\nexport function playNextTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'NEXT_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function playPrevTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'PREV_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleIsPlaying() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'TOGGLE_ISPLAYING',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setPlay() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_PLAY',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setCurrStation(station) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_CURR_STATION',\r\n                station\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport function shuffleQueue(queue) {\r\n    for (let i = queue.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const temp = queue[i];\r\n        queue[i] = queue[j];\r\n        queue[j] = temp;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SHUFFLE_QUEUE',\r\n            queue\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n//function deleteStation(stationId) {\r\n//    var stationIdx = gStations.findIndex(function (station) {\r\n//        return stationId === station.id\r\n//    })\r\n//    gStations.splice(stationIdx, 1)\r\n//    _saveStationsToStorage();\r\n//    return Promise.resolve()\r\n//}\r\n","export default __webpack_public_path__ + \"static/media/play.b7d47073.svg\";","export default __webpack_public_path__ + \"static/media/musicLa.65675a50.svg\";","import React, { Component } from 'react'\r\nimport Avatar from 'react-avatar';\r\nimport { connect } from 'react-redux'\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport play from '../assets/img/play.svg'\r\nimport musicLa from '../assets/img/musicLa.svg'\r\nclass _PrackByUserPreview extends Component {\r\n\r\n    playTrack = async (track, idx) => {\r\n        const { currStation } = this.props\r\n        let songs = [track]\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.track? 'user-preview order flex' :'user-preview  flex'}>\r\n                <div className='avatar'>\r\n                    <Avatar src={this.props.usersImgs.find(imgObj => this.props.currUserId === imgObj.id)?.url} size=\"70\" round={true} />\r\n                </div>\r\n                {this.props.users && <span >\r\n                    {this.props.users.find((user => user._id === this.props.currUserId))?.username}</span>}\r\n\r\n\r\n                {this.props.track &&\r\n                    <div className={\"track\"} onClick={() => { this.playTrack(this.props.track.track, 0) }}>\r\n                        <img src={musicLa} />\r\n                        <div><p> {this.props.track.track.title}</p></div>\r\n                    </div>\r\n                }\r\n          \r\n                {!this.props.track &&\r\n                    <div className={\"offline\"}>\r\n                        <div>offline</div>\r\n                    </div>\r\n                }\r\n                {this.props.track &&\r\n                    <>\r\n                        <img className='play' onClick={() => { this.playTrack(this.props.track.track, 0) }} src={play} />\r\n                        <span className=\"fas fa-volume-up\"></span>\r\n                    </>\r\n                }\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n}\r\n\r\n\r\nexport const PrackByUserPreview = connect(mapStateToProps, mapDispatchToProps)(_PrackByUserPreview)\r\n\r\n","import React, { Component } from 'react'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, updateUser } from '../store/user.actions';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { PrackByUserPreview } from './trackByUser-preview';\r\n//import streaming from '../assets/img/icon50.png'\r\n\r\nclass _TrackByUsers extends Component {\r\n    state = {\r\n        users: [],\r\n        userImg: [],\r\n        currTrack: null\r\n    }\r\n\r\n    getCurrTrack = (currUserId) => {\r\n        let trackAndUser = this.props.trackAndUsers?.filter(traclANdUser => {\r\n            if (traclANdUser.user._id === currUserId)\r\n                return traclANdUser.track\r\n        })\r\n        if (!trackAndUser?.length)\r\n            trackAndUser = false\r\n\r\n        else trackAndUser = trackAndUser[0]\r\n        return trackAndUser\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user, users } = this.props\r\n\r\n        if (!this.state.users || !this.props.user) return <div>loading</div>\r\n        return (\r\n            <>\r\n                <div className='streaming flex'>\r\n                    <h3>Streaming Now\r\n                    </h3>\r\n                    <span className=\"fas fa-compact-disc\"></span>\r\n                </div>\r\n                <div className='user-track'>\r\n                    {user && user.following.map((currUserId) => {\r\n                        return <PrackByUserPreview users={this.props.users}\r\n                            currUserId={currUserId} usersImgs={this.props.usersImgs} user={users.find((user => user._id === currUserId))?.username} track={this.getCurrTrack(currUserId)} />\r\n                    })}\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user,\r\n        //users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser\r\n}\r\nexport const TrackByUsers = connect(mapStateToProps, mapDispatchToProps)(_TrackByUsers)\r\n\r\n","import React, { Component } from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport { TrackByUsers } from '../cmps/trackByUsers';\r\nimport { eventBusService, showSuccessMsg } from '../services/event-bus.service'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, loadUser, updateUser } from '../store/user.actions';\r\nimport Avatar from 'react-avatar';\r\n\r\n\r\nvar _ = require('lodash');\r\nclass _Friends extends Component {\r\n    state = {\r\n        trackAndUsers: [],\r\n        usersImgs: [],\r\n        users: [],\r\n        onFollow: true\r\n    }\r\n    async componentDidMount() {\r\n\r\n        await this.props.loadUsers()\r\n        await this.props.loadUser()\r\n        socketService.setup()\r\n        this.setState({ trackAndUsers: this.props.trackAndUsers }, async () => {\r\n            await this.loadUsers('')\r\n            let usersImgs = this.state.users.map(user => {\r\n                return user.img ? { url: user.img, id: user._id } :\r\n                    { url: \"https://cdn-icons-png.flaticon.com/512/149/149071.png\", id: user._id }\r\n            })\r\n            this.setState({ usersImgs })\r\n        })\r\n    }\r\n\r\n    loadUsers = (keySearch = '') => {\r\n        if (!keySearch) {\r\n            let filterUsers = this.props.users.filter(user => {\r\n                if (user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user?._id) {\r\n                    return user\r\n                }\r\n            })\r\n            this.setState({ users: filterUsers })\r\n            return\r\n            //this.setState({ users: this.props.users })\r\n        }\r\n        else {\r\n            let filterUsers = this.props.users.filter(user => user.username.toUpperCase().includes(keySearch.toUpperCase()) && user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user._id)\r\n            this.setState({ users: filterUsers })\r\n        }\r\n    }\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.loadUsers(target.value)\r\n    }\r\n    onFollow = async (userIdToFollow, isFollow) => {\r\n        let user = { ...this.props.user }\r\n        if (isFollow) {\r\n            let following = user.following.filter(userId => userId !== userIdToFollow)\r\n            user.following = following\r\n        }\r\n        else {\r\n            user.following.push(userIdToFollow)\r\n            socketService.emit('following', { userIdToFollow, currUser: user })\r\n        }\r\n        await this.props.updateUser(user)\r\n    }\r\n\r\n    render() {\r\n        const trackAndUsers = this.props.trackAndUsers\r\n        const { user } = this.props\r\n        const { users, onFollow } = this.state\r\n        if (!users || !this.state.usersImgs) return <div>loading</div>\r\n        return (\r\n            <section className='friends-container'>\r\n                <MainLayout>\r\n                    <h1>Friends Activity</h1>\r\n                    <div className='friends-nav'>\r\n                        <a className={onFollow ? 'active' : ''} onClick={() => { this.setState({ onFollow: true }) }}>Follow</a>\r\n                        <a className={!onFollow ? 'active' : ''} onClick={() => { this.setState({ onFollow: false }) }}>Streaming now</a>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"friend-following flex\">\r\n                        {onFollow &&\r\n                            <div className='all-users-container'>\r\n                                <div><input type='text' onChange={this.handleChange} placeholder=\"Find Friends\" /></div>\r\n                                <div className='users-table'>\r\n                                    {users &&\r\n                                        users.map((currUser, idx) => {\r\n                                            return <div className='friend-following-preview flex'>\r\n                                                <div>\r\n                                                    <Avatar style={{}} src={this.state.usersImgs.find(imgObj => currUser._id === imgObj.id)?.url} size=\"70\" round={true} />\r\n                                                    <span>\r\n                                                        {currUser.username}\r\n                                                    </span>\r\n                                                </div>\r\n\r\n\r\n                                                <div>\r\n                                                    {user.following.includes(currUser._id) &&\r\n                                                        <button className='following' onClick={() => { this.onFollow(currUser._id, true) }}> Unfollow</button>\r\n                                                    }\r\n                                                    {!user.following.includes(currUser._id) &&\r\n                                                        <button className='follow' onClick={() => { this.onFollow(currUser._id, false) }} >Follow</button>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            !onFollow &&\r\n                            <section className='following-by-user-container flex column'>\r\n                                <TrackByUsers trackAndUsers={trackAndUsers} users={this.state.users} usersImgs={this.state.usersImgs} />\r\n                            </section>\r\n                        }\r\n\r\n                    </div>\r\n                </MainLayout >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        trackAndUsers: state.friendMoudle.trackAndUsers,\r\n        user: state.userMoudle.user,\r\n        users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUsers,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Friends = connect(mapStateToProps, mapDispatchToProps)(_Friends)\r\n\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport function FavoriteArtists({ artists }) {\r\n    return (\r\n        <div className=\"favorite-artists\">\r\n            {artists.map((artist, idx) => {\r\n                return (<Link to={`/station/${artist.artist}`} className=\"station-container\" key={idx}>\r\n                    <div className='img-container'>\r\n                        <img src={artist.img} alt={artist.artist} />\r\n                    </div>\r\n                    <h4>{artist.artist}</h4>\r\n                </Link >\r\n                )\r\n            })}\r\n        </div >\r\n    )\r\n}","export default \"data:image/jpeg;base64,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\"","import stationImg from '../assets/img/stationImg.jpg'\r\nimport { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\nimport PlayCircleIcon from '@material-ui/icons/PlayCircleFilledWhite';\r\nimport { ThemeProvider, createTheme } from '@material-ui/core'\r\n\r\nclass _StationPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        if (!currStation || station._id !== currStation._id) {\r\n            const songs = [...station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (station) => {\r\n        let stationId = station._id ? station._id : station.name\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div>loading...</div>\r\n        return (\r\n            <div className=\"station-preview\">\r\n                <div className=\"img-card\" onClick={() => this.navigateToStation(station)}>\r\n                    <div className=\"square-ratio station-img-container\">\r\n                        {station.songs?.length > 0 && station.songs[0]?.imgUrl &&\r\n                            <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                        }\r\n                        {!station.songs.length &&\r\n                            <img src={stationImg} />\r\n                        }\r\n\r\n                        <div className=\"play-icon-container\" onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            this.playRandTrack()\r\n\r\n                        }}>\r\n                            <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"station-name-header\">\r\n                        {station.name.length < 25 ? station.name : station.name.slice(0, 25) + '...'}\r\n                    </div>\r\n                    <p className=\"station-desc\">\r\n                        {!station.songs.length ? '' :\r\n                            station.songs.reduce((songStr, song) => {\r\n                                songStr += song.title\r\n                                return songStr;\r\n                            }, '').slice(0, 30) + '...'}\r\n                    </p>\r\n                </div>\r\n            </div >\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n        currStation: state.stationMoudle.currStation\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __StationPreview = connect(mapStateToProps, mapDispatchToProps)(_StationPreview)\r\nexport const StationPreview = withRouter(__StationPreview);","export default __webpack_public_path__ + \"static/media/loader.fd44eeee.svg\";","import React from 'react';\r\nimport loader from '../assets/img/loader.svg'\r\nexport function Loading() {\r\n    return (\r\n\r\n        <img src={loader} style={{ margin: '250px auto' }} alt=\"loading\" />\r\n\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\n\r\nexport class LoginSignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isLogin: this.props.isLogin\r\n      // facebookUserId: null,\r\n      // img: null\r\n      // }\r\n    };\r\n  }\r\n\r\n  responseFacebook = async response => {\r\n\r\n    try {\r\n\r\n      const newCredentials = {\r\n        username: response.email,\r\n        password: response.userID,\r\n        fullname: response.name,\r\n        facebookUserId: response.userID,\r\n        img: response.picture.data.url\r\n      }\r\n      this.props.onSubmit(newCredentials)\r\n    }\r\n    catch (e) {\r\n      console.log('err:', e);\r\n    }\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState(ps => ({ ...ps, [target.name]: target.value }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const credentials = this.state\r\n    this.props.onSubmit(credentials)\r\n  }\r\n\r\n  resetCredentials = () => {\r\n    this.setState({ username: '', fullname: '', password: '', facebookUserId: null, img: null })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.resetCredentials()\r\n    this.props.closeForm()\r\n  }\r\n\r\n  handleSignIn = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: false }))\r\n  }\r\n\r\n  handleLogin = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: true }))\r\n  }\r\n\r\n  render() {\r\n    const { username, fullname, password, isLogin } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"screen\" onClick={this.handleClose}></div>\r\n        <section className=\"form-wrapper\">\r\n          <span className=\"close-form\" onClick={this.handleClose}>X</span>\r\n          <div className=\"form-logo flex column align-center\">\r\n            <img src={logo} alt=\"\" />\r\n            <div className=\"brand-name\"><span>Lotify</span><span>.</span></div>\r\n\r\n          </div>\r\n          <h2 className=\"form-header\">{isLogin ? 'Sign in to continue' : 'Signup to continue'}</h2>\r\n          <form action=\"\" className=\"login-signup-form flex column align-center\" onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your username\" value={username}\r\n              onChange={this.handleChange} />\r\n\r\n            {!isLogin && <input type=\"text\" name=\"fullname\" placeholder=\"Enter your fullName\"\r\n              value={fullname} onChange={this.handleChange} />}\r\n\r\n            <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password}\r\n              onChange={this.handleChange} />\r\n            {/* <div className=\"submit-btns flex\"> */}\r\n            <button type=\"submit\" className=\"login-signup-btn\">{isLogin ? 'Login' : 'Signup'}</button>\r\n\r\n            {/* <button className=\"facebook-login-btn-wrapper\" type=\"button\">\r\n              {isLogin ? 'Login with Facebook' : 'Signup with Facebook'}\r\n\r\n              <FacebookLogin\r\n                className=\"facebook-login-btn\"\r\n                appId=\"992060094973798\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                isSdkLoaded={false}\r\n                onClick={this.facebookComponentClicked}\r\n                callback={this.responseFacebook} />\r\n            </button> */}\r\n            {isLogin && <div className=\"to-sign-in flex\"><span>Dont have an acount?</span>\r\n              <span onClick={this.handleSignIn}>Sign here</span>\r\n            </div>}\r\n            {!isLogin && <span className=\"back-to-login\" onClick={this.handleLogin}>Back to Login</span>}\r\n            {/* </div> */}\r\n          </form>\r\n        </section>\r\n      </>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, onSignup, onLogin, onLogout } from '../store/user.actions';\r\nimport { loadStations } from '../store/station.actions';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport Avatar from 'react-avatar';\r\nimport { LoginSignupForm } from './login-signup-form';\r\n\r\n\r\nclass _UserPrifile extends Component {\r\n    state = {\r\n        loginOrSignup: null,\r\n        isLoggedIn: false,\r\n        credentials: {\r\n            username: null,\r\n            password: null,\r\n            fullname: null,\r\n            facebookUserId: null,\r\n            img: null\r\n            // facebookEmail: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n    getInitialCredentials = () => {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            fullname: '',\r\n            facebookUserId: null,\r\n            img: null\r\n        }\r\n    }\r\n    setLoginOrSignup = (loginOrSignup) => {\r\n\r\n        this.setState(prevState => ({ ...prevState, credentials: this.getInitialCredentials(), loginOrSignup }))\r\n        // this.setState({ loginOrSignup })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, credentials: { ...prevState.credentials, [key]: val } }))\r\n    }\r\n    closeForm = () => {\r\n        this.setLoginOrSignup(null)\r\n    }\r\n    onSubmit = async (credentials) => {\r\n        // let credentials = this.state.credentials\r\n        if (this.state.loginOrSignup === \"Login\") {\r\n            // if (!isFacebookLogin)\r\n            // credentials = { username: this.state.credentials.username, password: this.state.credentials.password }\r\n            await this.props.onLogin(credentials)\r\n        } else {\r\n            // credentials = { ...this.state.credentials, userPref: this.props.user.userPref }\r\n            credentials.userPref = this.props.user.userPref\r\n            await this.props.onSignup(credentials)\r\n        }\r\n        this.setLoginOrSignup(null)\r\n        await this.props.loadUser()\r\n        await this.props.loadStations()\r\n    }\r\n\r\n    facebookComponentClicked = () => {\r\n    }\r\n\r\n    responseFacebook = async response => {\r\n        try {\r\n\r\n            const newCredentials = {\r\n                username: response.email,\r\n                password: response.userID,\r\n                fullname: response.name,\r\n                facebookUserId: response.userID,\r\n                img: response.picture.data.url\r\n            }\r\n            this.setLoginOrSignup(null)\r\n            this.setState(prevState => ({ ...prevState, credentials: newCredentials }),\r\n                () => this.onSubmit(true))\r\n        }\r\n        catch {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loginOrSignup, credentials } = this.state\r\n        const { user } = this.props\r\n        if (!user) return <></>\r\n        return (\r\n            <>\r\n                <div className=\"profiler\">\r\n                    <Menu menuButton={\r\n                        <MenuButton title={user.username}>\r\n                            <Avatar size=\"50\"  src={user.img ? user.img : \"https://cdn-icons-png.flaticon.com/512/149/149071.png\"} round={true} />\r\n                        </MenuButton>}>\r\n                        {user.username === \"guest\" &&\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Login\")}>Login</MenuItem>\r\n                        }\r\n                        {user.username === \"guest\" ?\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Signup\")}>Signup</MenuItem> :\r\n                            <MenuItem onClick={async () => {\r\n                                await this.props.onLogout()\r\n                                await this.props.loadUser()\r\n                                this.props.loadStations()\r\n                            }\r\n                            }>Logout</MenuItem>\r\n                        }\r\n                    </Menu>\r\n\r\n                    {/* ori */}\r\n\r\n                </div>\r\n                {loginOrSignup && <LoginSignupForm onSubmit={this.onSubmit}\r\n                    isLogin={loginOrSignup === 'Login' ? true : false}\r\n                    closeForm={this.closeForm} />}\r\n\r\n\r\n                {/* <div className={`create-playlist ${loginOrSignup ? \"on\" : \"off\"}`} >\r\n                    <div className=\"header\">\r\n                        <h1>{loginOrSignup}</h1>\r\n                        <button onClick={() => this.setLoginOrSignup(null)}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"username\"\r\n                                label=\"Username\"\r\n                                value={credentials.username}\r\n                                name=\"username\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            {loginOrSignup === \"Signup\" &&\r\n                                <TextField\r\n                                    className=\"fullname\"\r\n                                    label=\"Full Name\"\r\n                                    value={credentials.fullname}\r\n                                    name=\"fullname\"\r\n                                    autoComplete=\"off\"\r\n                                    onChange={this.handleChange}\r\n                                />}\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Password\"\r\n                                ref='password'\r\n                                hintText=\"Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                type=\"password\"\r\n                                value={credentials.password}\r\n                                name=\"password\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"40px\", background: '#1db954' }} variant=\"contained\"\r\n                                    onClick={this.onSubmit}>\r\n                                    {loginOrSignup}\r\n                                </Button>\r\n                                <Button style={{ height: \"40px\", background: '#1E90EA' }} variant=\"contained\"\r\n                                    className=\"facebook-login-btn-wrapper-ddd\"\r\n                                    onClick={(e) => e.preventDefault()} >\r\n                                    {loginOrSignup === \"Signup\" ? 'Signup with facebook' : 'Login with facebook'}\r\n\r\n                                    <FacebookLogin\r\n                                        className=\"facebook-login-btn\"\r\n                                        appId=\"992060094973798\"\r\n                                        autoLoad={true}\r\n                                        fields=\"name,email,picture\"\r\n                                        onClick={this.facebookComponentClicked}\r\n                                        callback={this.responseFacebook} />\r\n\r\n                                </Button>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/** Ori - I've uncomment this */}\r\n                {/* <div className={`body-modal ${loginOrSignup ? \"on\" : \"off\"}`} onClick={() => this.setLoginOrSignup(null)}></div> */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onSignup,\r\n    onLogin,\r\n    onLogout,\r\n    loadStations\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserPrifile)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { FavoriteArtists } from '../cmps/favorite-artists.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\nimport { UserProfile } from '../cmps/profile.jsx';\r\n\r\nclass _Home extends Component {\r\n    state = {\r\n        goodDayStations: [],\r\n        hotStations: [],\r\n        likedStations: '',\r\n        recentlyPlayedStations: '',\r\n        numOfPreviews: 5\r\n    }\r\n\r\n    resizer\r\n    handleRisize = (entries) => {\r\n        const viewPortWidth = entries[0].contentRect.width\r\n        if (viewPortWidth > 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 7 }))\r\n        else if (viewPortWidth >= 1560 && viewPortWidth < 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 6 }))\r\n        else if (viewPortWidth >= 1360 && viewPortWidth < 1560)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 5 }))\r\n        else if (viewPortWidth >= 1160 && viewPortWidth < 1360)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 4 }))\r\n        else if (viewPortWidth >= 960 && viewPortWidth < 1160)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth >= 760 && viewPortWidth < 960)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else if (viewPortWidth >= 685 && viewPortWidth < 760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth < 685 && viewPortWidth >= 475)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else {\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n\r\n        }\r\n        // else if (viewPortWidth >= 562)\r\n        //     this.setState(prevState => ({ ...prevState, numOfPreviews: 1 }))\r\n\r\n    }\r\n    async componentDidMount() {\r\n    console.log(\"🚀 ~ file: Home.jsx ~ line 50 ~ _Home ~ componentDidMount ~ componentDidMount\")\r\n        await this.props.loadUser();\r\n        await this.props.loadStations();\r\n        await this.getLikedStation()\r\n        const goodDayStations = await stationServiceNew.getGoodDay()\r\n        const hotStations = await stationServiceNew.getHot()\r\n        this.setState({ goodDayStations, hotStations })\r\n        this.resizer = new ResizeObserver(this.handleRisize)\r\n        this.resizer.observe(document.querySelector('.main-app'))\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps.user?._id !== this.props.user?._id) {\r\n            //await this.props.loadUser();\r\n            await this.props.loadStations();\r\n            await this.getLikedStation()\r\n        }\r\n    }\r\n\r\n    getTime = () => {\r\n        var today = new Date()\r\n        var curHr = today.getHours()\r\n\r\n        if (curHr < 12) {\r\n            return 'Good morning'\r\n        } else if (curHr < 18) {\r\n            return 'Good afternoon'\r\n        } else {\r\n            return 'Good evening'\r\n        }\r\n    }\r\n    getLikedStation = async () => {\r\n        console.log(this.props.user);\r\n        let unresolvedPromisesLike = await this.props.user.likedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let unresolvedPromisesStation = await this.props.user.recentlyPlayedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let a = await Promise.all(unresolvedPromisesLike)\r\n        let b = await Promise.all(unresolvedPromisesStation)\r\n        const results = await Promise.all([a, b]);\r\n        this.setState({ likedStations: results[0], recentlyPlayedStations: results[1] })\r\n        //this.props.user.likedStations.map((station => <StationPreview key={station._id} station={station} />))\r\n    }\r\n\r\n    render() {\r\n        let { stations, user } = this.props\r\n        stations = stations.filter(station => station.genre !== 'likedTracks')\r\n        const { likedStations, numOfPreviews, recentlyPlayedStations, goodDayStations, hotStations } = this.state\r\n        // console.log(goodDayStations)\r\n        if (!stations || !this.props.user || !likedStations || !recentlyPlayedStations) return <Loading />\r\n        return (\r\n\r\n            <div className=\"home-page\">\r\n                <UserProfile />\r\n                <div className=\"shadow\">\r\n                    <div className=\"hero\">\r\n                        <h1>Listen to your favorite music on <span className=\"logo\">Lotify<span>.</span></span></h1>\r\n                    </div>\r\n                </div>\r\n                <section className='station-container'>\r\n                    <div className='card card-top'>\r\n                        <div className='card-header'>\r\n                            <h1>{this.getTime()}</h1>\r\n                        </div>\r\n                        {\r\n                            user.userPref ?\r\n                                <FavoriteArtists artists={user.userPref.slice(0, 6)} /> :\r\n                                <FavoriteArtists artists={[{ artist: 'justin bieber', img: 'https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'michael jackson', img: 'https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo' }]} />\r\n                        }\r\n                    </div>\r\n                    <MainLayout>\r\n                        {\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Good day</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {goodDayStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(goodDayStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Hot right now</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {hotStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(hotStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Stations you liked</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {likedStations &&\r\n                                    likedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(likedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Recently played</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {recentlyPlayedStations &&\r\n                                    recentlyPlayedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(recentlyPlayedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                    </MainLayout>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/heart-regular.a71c24fa.svg\";","\r\nimport { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService, showSuccessMsg, showErrorMsg } from '../services/event-bus.service';\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport isPlying from '../assets/img/isPlaying.gif'\r\nimport { stationServiceNew } from '../services/station.service';\r\n\r\nclass _TrackPreview extends Component {\r\n    state = {\r\n        isLike: false\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //to get Stations from store to the AddToPlaylist render\r\n        let user = await this.props.user\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = await this.props.user\r\n        }\r\n        //track save as object\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        if (trackIdxs.includes(this.props.track.id)) {\r\n\r\n            this.setState({ isLike: true })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if ((prevProps.track.id !== this.props.track.id) || (this.props.user?.likedTracks?.length !== prevProps.user?.likedTracks?.length)) {\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n            if (trackIdxs.includes(this.props.track.id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    getTimeFromDuration = (duration) => {\r\n        var hours = 0;\r\n        var minutes = 0;\r\n        var seconds = 0;\r\n        duration = duration.replace('PT', '');\r\n        if (duration.indexOf('H') > -1) {\r\n            var hours_split = duration.split('H');\r\n            hours = parseInt(hours_split[0]);\r\n            duration = hours_split[1];\r\n        }\r\n        if (duration.indexOf('M') > -1) {\r\n            var minutes_split = duration.split('M');\r\n            minutes = parseInt(minutes_split[0]);\r\n            duration = minutes_split[1];\r\n        }\r\n        if (duration.indexOf('S') > -1) {\r\n            var seconds_split = duration.split('S');\r\n            seconds = parseInt(seconds_split[0]);\r\n        }\r\n        var str = \"\";\r\n        if (hours != 0) { str += hours + \":\"; }\r\n        if (minutes == 0) { str += \"00\" + \":\"; }\r\n        else if (minutes < 10) { str += \"0\" + minutes + \":\"; }\r\n        else if (minutes > 10) { str += minutes + \":\"; }\r\n        else if (minutes == 0) { str += \"00:\" }\r\n        if (seconds > 0 && seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds > 10) { str += seconds; }\r\n        else if (seconds == 0) { str += \"00\" }\r\n        return str;\r\n    }\r\n\r\n    onAddToStation = async (track, stationId = null) => {\r\n        if (!stationId) {\r\n            stationId = this.props.currStation\r\n        }\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        if (stationToUpdate.songs.some(song => song.id === track.id)) {\r\n            showErrorMsg('This Track already exists in this station ')\r\n            return\r\n        }\r\n\r\n        stationToUpdate.songs.push(track)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        showSuccessMsg('Add to station')\r\n    }\r\n\r\n    onRemoveFromStation = async (track, stationId) => {\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        const trackIdx = stationToUpdate.songs.findIndex(song => track.id === song.id)\r\n        stationToUpdate.songs.splice(trackIdx, 1)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        if (this.props.currStation) {\r\n            this.props.loadStation()\r\n        }\r\n        showErrorMsg('Removed from Station')\r\n    }\r\n\r\n    playTrack = async (track, idx) => {\r\n        \r\n        const { currStation, queue, currTrack, playNextQueue } = this.props\r\n        let songs\r\n        if (currStation) {//only if clicking on station details not from queue!\r\n            songs = [...currStation.songs];\r\n        } else {\r\n            if (queue.length && queue.some(trackFromQueue => track.id === trackFromQueue.id)) {//From Queue\r\n                songs = [...queue, currTrack]\r\n            } else {//from search\r\n                if (playNextQueue.length && playNextQueue.some(trackFromQueue => track.id === trackFromQueue.id)) {\r\n                    songs = [...queue, currTrack]\r\n                }\r\n                else {\r\n                    songs = [track]\r\n                }\r\n            }\r\n\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLike: !this.state.isLike }, () => {\r\n            if (this.state.isLike) {\r\n                this.props.addLikeToTrack(this.props.track, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.track.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { track, idx, currStation, stations, user } = this.props\r\n        return (\r\n            // onClick={this.playTrack(track, idx)}\r\n            //button-cell\r\n            <div className=\"track-container flex\" onClick={() => this.playTrack(track, idx)}>\r\n                {this.props.currTrack && this.props.currTrack?.id === track.id && this.props.isPlaying &&\r\n                    <div className=\"track-num\"> < img className='isPlaying' src={isPlying} /></div>\r\n                }\r\n                {(!this.props.currTrack || this.props.currTrack.id !== track.id || !this.props.isPlaying) &&\r\n                    <div className=\"track-num\">{idx + 1}</div>}\r\n                <div className=\"track-img\"><img src={track.imgUrl} alt=\"\" /></div>\r\n                <div className=\"track-title\">{track.title}</div>\r\n                <div className=\"track-duration\">{this.getTimeFromDuration(track.duration)}</div>\r\n                {!this.props?.isOnDeatils && <div className='likes'>\r\n                    {\r\n                        //this.state.isLike && <img className='islike' src={heartChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                        this.state.isLike && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} className=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        !this.state.isLike && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                    }\r\n                </div>}\r\n                {\r\n\r\n                    !this.props?.isOnDeatils &&\r\n                    <div className=\"button-cell track-actions\" onClick={(ev) => { ev.stopPropagation() }}>\r\n                        <Menu menuButton={\r\n                            <MenuButton><i className=\"fas fa-ellipsis-h\"></i></MenuButton>}>\r\n                            <MenuItem onClick={() => this.props.addToNextQueue(track)}>Add To queue</MenuItem>\r\n                            {currStation && <MenuItem onClick={() => {\r\n                                this.onRemoveFromStation(track, currStation._id)\r\n\r\n                            }\r\n                            }>Remove from Playlist</MenuItem>}\r\n                            <SubMenu label=\"Add to playlist\">\r\n                                {stations.map((station) => {\r\n                                    return (<MenuItem onClick={() => { this.onAddToStation(track, station._id) }}>{station.name}</MenuItem>)\r\n                                })\r\n                                }\r\n                                <MenuItem onClick={() => eventBusService.emit(\"create-playlist\", track)}>Create playlist</MenuItem>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.props?.isOnDeatils &&\r\n                    <div className=\"add-track-wrapper\">\r\n                        <button className='add-track-btn' onClick={async (ev) => {\r\n                            ev.stopPropagation()\r\n                            await this.onAddToStation(track, this.props.stationId)\r\n                            await this.props.loadStation()\r\n                        }}>Add</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack\r\n}\r\n\r\nexport const TrackPreview = connect(mapStateToProps, mapDispatchToProps)(_TrackPreview)","export default \"data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++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\"","import { SortableElement } from 'react-sortable-hoc';\r\nimport { TrackPreview } from './track-preview';\r\n\r\n\r\nexport const DraggableTrackPreview = SortableElement(({ track, idx, currStation, loadStation, key }) => {\r\n  return (\r\n    <TrackPreview key={key} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n  )\r\n});","import React from 'react';\r\nimport { SortableContainer } from 'react-sortable-hoc';\r\nimport { DraggableTrackPreview } from './draggable-track-preview';\r\n\r\n\r\n\r\n\r\nexport const DraggableTrackList = SortableContainer(({ songs, currStation, loadStation, \r\n}) => {\r\n  \r\n  //const sliceNum = isShowAll ? songs.length : 7\r\n  //sliceNum = songs.length>10 \r\n  return (\r\n    <div className=\"station-track-list flex column\">\r\n      <div className=\"list-headers flex\">\r\n        <div className=\"track-num-header\">#</div>\r\n        <div className=\"track-img-header\"></div>\r\n        <div className=\"track-title-header\">Title</div>\r\n        <div className=\"duration-header\">◷</div>\r\n        <div className=\"likes-header\"></div>\r\n        <div className=\"actions-header\">actions</div>\r\n      </div>\r\n      {\r\n\r\n        songs.map((track, idx) => {\r\n          return <DraggableTrackPreview key={track.id} index={idx} track={track} idx={idx}\r\n            currStation={currStation} loadStation={loadStation} />\r\n        })\r\n\r\n      }\r\n\r\n    </div>\r\n  )\r\n});\r\n","export default __webpack_public_path__ + \"static/media/mood-search.5f7ab9d0.jpg\";","export default __webpack_public_path__ + \"static/media/pop-search.b2ca6b17.jpg\";","export default __webpack_public_path__ + \"static/media/chill-search.8a0cf644.jpg\";","export default __webpack_public_path__ + \"static/media/summer-search.82683c03.jpeg\";","export default __webpack_public_path__ + \"static/media/latin-search.98aae0b0.jpg\";","export default __webpack_public_path__ + \"static/media/jazz-search.1a2264a3.jpg\";","export default __webpack_public_path__ + \"static/media/indie-search.68a13156.jpg\";","export default __webpack_public_path__ + \"static/media/wellness-search.9ebcb4b9.jpg\";","export default __webpack_public_path__ + \"static/media/sleep-search.44c526f7.jpg\";","export default __webpack_public_path__ + \"static/media/decades-search.677f0d60.jpg\";","export default __webpack_public_path__ + \"static/media/workout-search.1349d7b6.jpg\";","export default __webpack_public_path__ + \"static/media/party-search.eb2ad37f.jpg\";","export default __webpack_public_path__ + \"static/media/focus-search.4c8a3730.jpg\";","export default __webpack_public_path__ + \"static/media/alternativ-search.11db08a9.jpg\";","export default __webpack_public_path__ + \"static/media/travel-search.2ded0578.jpg\";","export default __webpack_public_path__ + \"static/media/soul-search.34659cee.jpg\";","export default __webpack_public_path__ + \"static/media/funk-search.b77d7780.jpg\";","export default __webpack_public_path__ + \"static/media/metal-search.8c9b428e.jpg\";","export default __webpack_public_path__ + \"static/media/classical-search.2e798a07.jpg\";","export default __webpack_public_path__ + \"static/media/blues-search.94b8b153.jpg\";","import React from 'react'\r\n\r\nimport { TrackPreview } from './track-preview'\r\n\r\nexport function TrackList({ loadStation, songs, stationId, currStation, isOnDeatils }) {\r\n    return (<>\r\n        {songs.map((track, idx) => {\r\n            return <TrackPreview  stationId={stationId} isOnDeatils={isOnDeatils} key={track._id} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n        }\r\n        )}\r\n    </>\r\n    )\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultTrack extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n\r\n                <div className='grid-search-result-container'>\r\n                    <span className='title'>songs</span>\r\n                    {trackResult.length  &&\r\n                                <TrackList songs={trackResult.slice(0, 5)} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n                    }\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\nimport { StationPreview } from './station-preview';\r\n\r\nexport class SearchResultStation extends React.Component {\r\n    state = {\r\n        stationResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { stationResult } = this.props\r\n        this.setState({ stationResult })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.stationResult !== prevProps.stationResult) {\r\n            const { stationResult } = this.props\r\n            this.setState({ stationResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { stationResult } = this.state\r\n        if (!stationResult || !stationResult.length) return <div>No station found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <h1 className='title'>Station</h1>\r\n                <div className='playlist-container flex'>\r\n                    <div className=\"flex genre\">\r\n                        {stationResult.map((station => <StationPreview key={station._id} station={station} />))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultStationDetails extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <TrackList loadStation={this.props.loadStation} stationId={this.props.stationId} isOnDeatils={true} songs={trackResult} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import storageService from './storage.service'\r\nimport axios from 'axios'\r\nimport { stationServiceNew } from './station.service';\r\nconst KEY = 'stations';\r\nlet songCache = []\r\nexport const youtubeApiService = {\r\n    searchTrack,\r\n    getStationByTag,\r\n}\r\n\r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function getStationByTag(tagName) {\r\n    let songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n            return {\r\n                genre: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => {\r\n                    if(track.snippet.title===\"Private video\")return\r\n                    return {\r\n                        id: track.snippet.resourceId.videoId,\r\n                        title: track.snippet.title,\r\n                        imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                        duration: \"PT4M26S\"\r\n                    }\r\n                    }).filter(track=>track)\r\n                    \r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        //stations = await stationServiceNew.saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport mood from '../assets/img/mood-search.jpg';\r\nimport pop from '../assets/img/pop-search.jpg';\r\nimport chill from '../assets/img/chill-search.jpg';\r\nimport summer from '../assets/img/summer-search.jpeg';\r\nimport latin from '../assets/img/latin-search.jpg';\r\nimport jazz from '../assets/img/jazz-search.jpg';\r\nimport indie from '../assets/img/indie-search.jpg';\r\nimport wellness from '../assets/img/wellness-search.jpg';\r\nimport sleep from '../assets/img/sleep-search.jpg';\r\nimport decades from '../assets/img/decades-search.jpg';\r\nimport workout from '../assets/img/workout-search.jpg';\r\nimport party from '../assets/img/party-search.jpg';\r\nimport focus from '../assets/img/focus-search.jpg';\r\nimport alternativ from '../assets/img/alternativ-search.jpg';\r\nimport travel from '../assets/img/travel-search.jpg';\r\nimport soul from '../assets/img/soul-search.jpg';\r\nimport funk from '../assets/img/funk-search.jpg';\r\nimport metal from '../assets/img/metal-search.jpg';\r\nimport classical from '../assets/img/classical-search.jpg';\r\nimport blues from '../assets/img/blues-search.jpg';\r\n//import { debounce, throttle } from 'lodash';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setCurrTrack, addToNextQueue, setQueue, playNextTrack } from '../store/station.actions.js';\r\nimport { SearchResultTrack } from '../cmps/searchResultTrack';\r\nimport { SearchResultStation } from '../cmps/searchResultStation';\r\nimport { SearchResultStationDetails } from '../cmps/searchResultStationDetails';\r\nimport { stationServiceNew } from '../services/station.service';\r\nimport { apiService, youtubeApiService } from '../services/youtubeApi.service';\r\nvar _ = require('lodash');\r\n\r\n\r\nclass _Search extends React.Component {\r\n    state = {\r\n        keySearch: null,\r\n        isOnSearch: false,\r\n        trackResult: null,\r\n        stationResult: null\r\n\r\n    }\r\n\r\n    //delayedHandleChange = _.debounce(eventData => stationService.searchTrack(eventData), 700);\r\n\r\n\r\n\r\n    delayedHandleChange = _.debounce(async () => {\r\n        if (!this.state.keySearch) return\r\n        if (this.props?.isOnDeatils) {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = []\r\n        }\r\n        else {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = await stationServiceNew.searchStation(this.state.keySearch);\r\n            var stationResultApi = await youtubeApiService.getStationByTag(this.state.keySearch);\r\n            if (stationResultApi)\r\n                if (!stationResult.some(result => result.name === stationResultApi[0].name))\r\n                    stationResult = stationResult.concat(stationResultApi)\r\n        }\r\n        if (!trackResult) {\r\n            trackResult = []\r\n        }\r\n        // if (trackResult.length === 0) return\r\n        // else {\r\n        this.setState({ trackResult, stationResult }, () => {\r\n            this.setState({ isOnSearch: true });\r\n\r\n        })\r\n        // }\r\n    }, 700);\r\n\r\n\r\n    moveScrollDwon = _.debounce(async () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        if (homePage)\r\n            homePage.scrollTop = homePage.scrollHeight - 700\r\n    }, 800)\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.setState({ keySearch: target.value }, () => {\r\n            if (this.state.keySearch === '' || this.state.keySearch === ' ') {\r\n                this.setState({ isOnSearch: false })\r\n                return\r\n            }\r\n            this.delayedHandleChange(this.state.keySearch)\r\n            this.moveScrollDwon()\r\n        })\r\n\r\n    }\r\n\r\n    onPlayTrack = async (track = null, idx = null) => {\r\n        if (!track && !idx) {\r\n            this.setState(prevState => ({ ...prevState }))\r\n            return\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([track], idx)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { trackResult, isOnSearch, stationResult } = this.state\r\n        return (\r\n            <section className='search'>\r\n                <MainLayout>\r\n                    <form onSubmit={(ev) => ev.stopPropagation()}>\r\n                        <input type='text' placeholder='Artists, songs or podcasts ' onChange={this.handleChange} />\r\n                    </form>\r\n                    {!this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultTrack trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStation stationResult={stationResult.slice(0,2)} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    {this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStationDetails loadStation={this.props.loadStation} stationId={this.props.stationId} trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    <div className='title'>Browse all</div>\r\n                    <div className='grid-container-search'>\r\n                        <Link to=\"station/pop\">\r\n                            <div className=\"grid-element-1\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>pop</span>\r\n                                <img src={pop} />\r\n                            </div>\r\n                        </Link>\r\n                        <Link to=\"station/chill\">\r\n                            <div className=\"div3\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>chill</span> <img src={chill} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/party\">\r\n                            <div className=\"div4\" style={{ backgroundColor: 'rgb(175, 40, 150)' }} ><span>party</span><img src={party} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/focus\">\r\n                            <div className=\"div5\" style={{ backgroundColor: 'rgb(80, 55, 80)' }}><span>focus</span><img src={focus} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/alternative\">\r\n                            <div className=\"div6\" style={{ backgroundColor: 'rgb(180, 155, 200)' }}><span>alternativ</span><img src={alternativ} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/summer\">\r\n                            <div className=\"div14\" style={{ backgroundColor: 'rgb(255, 200, 100)' }}><span>summer</span><img src={summer} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/indie\">\r\n                            <div className=\"div7\" style={{ backgroundColor: 'rgb(96, 129, 8)' }}><span>indie</span><img src={indie} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/latin\">\r\n                            <div className=\"div19\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>latin</span><img src={latin} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/wellness\">\r\n                            <div className=\"div8\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>wellness</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/sleep\">\r\n                            <div className=\"div9\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>sleep</span><img src={sleep} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/decade\">\r\n                            <div className=\"div10\" style={{ backgroundColor: 'rgb(186, 93, 7)' }}><span>decades</span><img src={decades} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/workout\">\r\n                            <div className=\"div11\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>workOut</span><img src={workout} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/at-home\">\r\n                            <div className=\"div12\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>at Home</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/travel\">\r\n                            <div className=\"div13\" style={{ backgroundColor: 'rgb(45, 70, 185)' }}><span>travel</span><img src={travel} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/souls\">\r\n                            <div className=\"div15\" style={{ backgroundColor: 'rgb(220, 20, 140)' }}><span>soul</span><img src={soul} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/jazz\">\r\n                            <div className=\"div16\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>jazz</span><img src={jazz} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/funk\">\r\n                            <div className=\"div17\" style={{ backgroundColor: 'rgb(230, 30, 50)' }}><span>funk</span><img src={funk} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/mood\">\r\n                            <div className=\"grid-element-2\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>mood</span><img src={mood} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/metal\">\r\n                            <div className=\"div18\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>metal</span><img src={metal} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/classical\">\r\n                            <div className=\"div20\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>classical</span><img src={classical} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/blues\">\r\n                            <div className=\"div21\" style={{ backgroundColor: 'rgb(13, 115, 236)' }}><span>blues</span><img src={blues} /></div>\r\n                        </Link>\r\n\r\n                    </div>\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue,\r\n    setQueue\r\n}\r\n\r\n\r\nexport const Search = connect(mapStateToProps, mapDispatchToProps)(_Search)","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setCurrTrack, addToNextQueue, setQueue, loadStations, toggleIsPlaying } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport stationImg from '../assets/img/stationImg.jpg'\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport { DraggableTrackList } from '../cmps/draggable-track-list.jsx';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { Search } from './search.jsx';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { youtubeApiService } from '../services/youtubeApi.service.js';\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\n\r\nclass _StationDetails extends Component {\r\n    state = {\r\n        stationId: null,\r\n        station: null,\r\n        isPlaying: false,\r\n        songs: null,\r\n        isLike: false,\r\n        isFindMore: false,\r\n        isShowAll: false\r\n    }\r\n    async componentDidMount() {\r\n        await this.loadStation()\r\n        let { user } = this.props\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = this.props.user\r\n        }\r\n        if (this.state.station && this.state.station._id) {\r\n            if (user.likedStations.includes(this.state.station._id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        const { stationId } = this.props.match.params\r\n        if (prevProps.user?.likedTracks.length !== this.props.user?.likedTracks.length) return this.loadStation()\r\n        if (stationId !== this.state.station?._id && stationId !== this.state.station?.genre) {\r\n            await this.loadStation()\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (this.state.station) {\r\n                if (user.likedStations.includes(this.state.station._id)) {\r\n                    this.setState({ isLike: true })\r\n                }\r\n                else this.setState({ isLike: false })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    loadStation = async () => {\r\n        const { stationId } = this.props.match.params;\r\n        let station\r\n        try {\r\n            //only for guest\r\n            station = await stationServiceNew.getStationFromLocal(stationId)//search in local storage\r\n            if (!station)\r\n                if (stationId.length === 24) {\r\n                    station = await stationServiceNew.getStationById(stationId)\r\n                    console.log('got by id', station);\r\n                } else {\r\n                    station = await stationServiceNew.getStationByGenre(stationId)\r\n                    console.log('got by genre', station);\r\n                }\r\n            if (!station) {\r\n                station = await youtubeApiService.getStationByTag(stationId)\r\n                if (station)\r\n                    station = station[0]\r\n                console.log('got from api', station);\r\n            }\r\n            let user;\r\n            if (stationId === 'likedTracks') {\r\n                user = await this.props.user\r\n                if (!user) {\r\n                    await this.props.loadUser();\r\n                    user = await this.props.user\r\n                }\r\n                if (user.likedTracks) {\r\n                    station.songs = [...user.likedTracks]\r\n                }\r\n                else {\r\n                    console.log('no liked tracks');\r\n                }\r\n            }\r\n            if (station) {\r\n                this.setState({ station, stationId: station._id, songs: station.songs })\r\n            }\r\n            else this.setState({ station: [] })\r\n        }\r\n        catch {\r\n            console.log('had issues');\r\n        }\r\n    }\r\n\r\n    playRandTrack = async () => {\r\n        if (!this.props.currTrack || this.props.playedStation !== this.state.station._id) {\r\n            const songs = [...this.state.station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], this.state.stationId);\r\n        }\r\n        this.props.toggleIsPlaying()\r\n    }\r\n\r\n\r\n    onSortEnd = ({ oldIndex, newIndex }) => {\r\n        const { station } = this.state\r\n        station.songs = arrayMoveImmutable(station.songs, oldIndex, newIndex)\r\n        this.setState((prevState) => ({ ...prevState, station }), () => {\r\n            if (this.props.currTrack && this.props.playedStation === this.state.stationId) {\r\n                this.props.setQueue([...station.songs], this.state.stationId)\r\n            }\r\n        })\r\n    }\r\n\r\n    toggleLike = async (ev, stationOrTrack) => {\r\n        ev.stopPropagation()\r\n        this.setState(prevState => {\r\n            return { ...prevState, isLike: !this.state.isLike }\r\n        }, () => this.handleToggleLike(stationOrTrack))\r\n    }\r\n\r\n    handleToggleLike = async (stationOrTrack) => {\r\n        if (this.state.isLike) {\r\n            //if the station is from the search\r\n            if (!this.state.station._id) {\r\n                const stationToSave = await stationServiceNew.saveStation(this.state.station)\r\n                this.setState({ station: stationToSave })\r\n                await this.props.addLikeToTrack(stationToSave._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n            else {\r\n                this.props.addLikeToTrack(this.state.station._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n        }\r\n        else {\r\n            this.props.removeLikeFromTrack(this.state.station._id, stationOrTrack)\r\n            showErrorMsg('Removed from Your Library')\r\n        }\r\n        const { stationId } = this.state\r\n        this.loadStation()\r\n\r\n    }\r\n\r\n\r\n    handleFindMore = () => {\r\n        this.setState({ isFindMore: !this.state.isFindMore }, () => {\r\n            this.moveSrollDown()\r\n        });\r\n\r\n    }\r\n\r\n    moveSrollDown = () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        homePage.scrollTop = homePage.scrollHeight\r\n    }\r\n\r\n    render() {\r\n        const { station, isFindMore } = this.state\r\n        const { user } = this.props\r\n        const { stationId } = this.props.match.params;\r\n        if (!station) return <Loading />\r\n        return (\r\n            <section className='station-details'>\r\n                <div className=\"station-head flex\">\r\n                    {station.songs?.length > 0 &&\r\n                        <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                    }\r\n                    {!station.songs.length &&\r\n                        <img src={stationImg} />\r\n                    }\r\n                    <div className=\"title-details\">\r\n                        <p>Playlist</p>\r\n                        <h1>{station.name}</h1>\r\n                        <ul className=\"clean-list flex\">\r\n                            <li>{station.createdBy?.fullname}</li>\r\n                            <li>{station.songs.length} songs</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <Link className=\"fas back fa-chevron-left\" to=\"/\"></Link>\r\n                <div className='bar-action flex'>\r\n                    <button className=\"play-rand\" onClick={this.playRandTrack}>\r\n                        <i className={this.props.isPlaying && this.props.playedStation === station._id ? \"fas fa-pause\" : \"fas fa-play\"}></i>\r\n                    </button>\r\n\r\n                    {\r\n                        (stationId !== 'likedTracks' && this.state.isLike) && <span className='isLike' style={{ fontSize: \"32px\" }} onClick={(ev) => { this.toggleLike(ev, 'station') }} className=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        (stationId !== 'likedTracks' && !this.state.isLike)\r\n                        && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev, 'station') }} />\r\n                    }\r\n                </div>\r\n                <MainLayout>\r\n\r\n                    <DraggableTrackList songs={station.songs} currStation={station}\r\n                        axis='xy' loadStation={this.loadStation} onSortEnd={this.onSortEnd}\r\n                        distance={20} />\r\n                    <div className='show-btn flex'>\r\n                        {<div className={`find-more ${!isFindMore ? \"green\" : \"\"}`} onClick={this.handleFindMore}>\r\n                            {isFindMore ? 'Find less' : 'Find more tracks!'}\r\n                        </div>}\r\n                    </div>\r\n                    {isFindMore &&\r\n                        <>\r\n                            <span>Let's find something to your station</span>\r\n                            <Search loadStation={this.loadStation} stationId={this.state.stationId} isOnDeatils={true}\r\n                            />\r\n                        </>\r\n                    }\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    loadStations,\r\n    addToNextQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack,\r\n    toggleIsPlaying,\r\n}\r\n\r\n\r\nexport const StationDetails = connect(mapStateToProps, mapDispatchToProps)(_StationDetails)","import React from 'react'\r\nimport { StationDetails } from './station-details'\r\nimport { connect } from 'react-redux'\r\nimport { TrackList } from '../cmps/trackList'\r\nimport { setCurrTrack, addToNextQueue } from '../store/station.actions.js';\r\nimport { TrackPreview } from '../cmps/track-preview';\r\nimport { Link } from 'react-router-dom'\r\nimport { MainLayout } from '../cmps/layout/MainLayout';\r\n\r\nclass _Queue extends React.Component {\r\n    componentDidMount() {\r\n        document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n    }\r\n\r\n\r\n\r\n    onAddToNextQueue = (track) => {\r\n        this.props.addToNextQueue(track)\r\n    }\r\n    render() {\r\n\r\n        const songs = this.props.queue\r\n        if (!songs.length && !this.props.playNextQueue) return <div><span>Add to your queue</span>\r\n            <span>Tap \"Add to queue\" from a trackws menu to see it here</span>\r\n            <Link to='/search'>\r\n                <button>FIND SOMETHING TO PLAY</button>\r\n            </Link>\r\n        </div>\r\n\r\n\r\n        return (\r\n            <div className='queue-page'>\r\n                <MainLayout>\r\n                    <div className='station-track-list flex column'>\r\n                        <div className=\"queue-header\">\r\n                            <h2>Queue</h2>\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>New Playing</h4>\r\n                        </div>\r\n                        <div className=\"now-playing-container\">\r\n                            {\r\n                                this.props.currTrack &&\r\n                                <TrackPreview track={this.props.currTrack} idx={0} playTrack={() => { }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Playing Next Queue</h4>\r\n                        </div>\r\n                        <div className=\"playing-next-queue-container\">\r\n                            {\r\n                                this.props.playNextQueue &&\r\n                                <TrackList songs={this.props.playNextQueue} onAddToNextQueue={this.onAddToNextQueue} idx={0} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} />\r\n                            }\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Queue</h4>\r\n                        </div>\r\n                        <div className=\"queue-container\">\r\n\r\n                            {\r\n                                songs &&\r\n                                <TrackList songs={songs} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </MainLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        queue: state.stationMoudle.queue,\r\n        playNextQueue: state.stationMoudle.playNextQueue\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue\r\n}\r\n\r\n\r\nexport const Queue = connect(mapStateToProps, mapDispatchToProps)(_Queue)\r\n\r\n","export default __webpack_public_path__ + \"static/media/enter.bc102390.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport enter from '../assets/img/enter.png'\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Lotify      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\n\r\nclass _Signin extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    }\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      }\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onLogin = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onLogin(this.state.credentials)\r\n    this.clearState()\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n              <img style={{ height: \"30px\" }} src={enter} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={this.onLogin} noValidate sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"username\"\r\n                label=\"username\"\r\n                type=\"password\"\r\n                id=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={this.handleChange}\r\n                value={username}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={this.handleChange}\r\n                value={password}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href=\"/signup\" variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 8, mb: 4 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signin = connect(mapStateToProps, mapDispatchToProps)(_Signin)\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.0a7c2920.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport user from '../assets/img/user.png'\r\n\r\n\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        mister toy</Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\nclass _Signup extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    },\r\n    isSignup: false,\r\n    isLogin: false\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      },\r\n      isSignup: false\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onSignup = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onSignup(this.state.credentials);\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n    this.clearState()\r\n  }\r\n\r\n\r\n  render() {\r\n    const { username, password, fullname } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <img style={{ height: \"28px\" }} src={user} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign up\r\n            </Typography>\r\n            <Box component=\"form\" noValidate onSubmit={this.onSignup} sx={{ mt: 3 }}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    autoComplete=\"fullname\"\r\n                    name=\"fullname\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"fullname\"\r\n                    label=\"fullname\"\r\n                    autoFocus\r\n                    value={fullname}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    id=\"username\"\r\n                    label=\"username\"\r\n                    name=\"username\"\r\n                    autoComplete=\"username\"\r\n                    value={username}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"new-password\"\r\n                    value={password}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <FormControlLabel\r\n                    control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                    label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Link href=\"/\" variant=\"body2\">\r\n                    Already have an account? Sign in\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 5 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    //user: state.userModule.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signup = connect(mapStateToProps, mapDispatchToProps)(_Signup)\r\n\r\n","import { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass _LikedSongsPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        let songs;\r\n        if (!currStation || station._id !== currStation._id) {\r\n\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (user.likedTracks) {\r\n                songs = [...user.likedTracks]\r\n            }\r\n            else {\r\n                console.log('no liked tracks');\r\n            }\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (stationId) => {\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div> not found</div>\r\n        return (\r\n            <div className=\"station-preview liked-songs-link\" onClick={() => this.navigateToStation(station.genre)}>\r\n                <div className=\"station-name-header\">\r\n                    <h3>{station.name}</h3>\r\n                    <span>{`${station.songs.length} liked songs`}</span>\r\n                </div>\r\n                <p className=\"station-desc\">\r\n                    {station.songs.reduce((songStr, song) => {\r\n                        songStr += song.title\r\n                        return songStr;\r\n                    }, '')}\r\n\r\n                    {/* .slice(0, 30) + '...'} */}\r\n                </p>\r\n                <div className=\"liked-songs-play-icon-container\" onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    this.playRandTrack()\r\n                }}>\r\n                    <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        currStation: state.stationMoudle.currStation,\r\n        user: state.userMoudle.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    loadUser,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __LikedSongsPreview = connect(mapStateToProps, mapDispatchToProps)(_LikedSongsPreview)\r\nexport const LikedSongsPreview = withRouter(__LikedSongsPreview);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { LikedSongsPreview } from '../cmps/liked-songs-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\n\r\nclass _Stations extends Component {\r\n  state = {\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadStations();\r\n    document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n\r\n  }\r\n\r\n\r\n  getLikedSongsStation = (stations) => {\r\n    return stations.find(station => station.genre === 'likedTracks')\r\n  }\r\n\r\n  render() {\r\n    let { stations } = this.props\r\n    if (!stations) return <h1>loading...</h1>\r\n    const likedSongsStation = this.getLikedSongsStation(stations)\r\n    stations = stations.filter(station => station.genre !== 'likedTracks')\r\n    return (\r\n      <div className=\"stations-page\">\r\n        <MainLayout>\r\n          <div className=\"stations-container-new\">\r\n            <header className=\"stations-header\">\r\n              <h1>Playlists</h1>\r\n            </header>\r\n            <section className='stations-cards'>\r\n              {/* <div className=\"flex\"> */}\r\n              <LikedSongsPreview station={likedSongsStation} />\r\n              {stations.map(station => <StationPreview key={station._id} station={station} />)}\r\n              {/* </div> */}\r\n            </section>\r\n            {/* </div> */}\r\n          </div>\r\n        </MainLayout >\r\n\r\n      </div>\r\n    )\r\n\r\n\r\n    return (\r\n      <div className=\"stations-wrapper\">\r\n        <MainLayout>\r\n          <header>\r\n            <h1>Playlists</h1>\r\n          </header>\r\n          <section className='stationss-container card-grid'>\r\n\r\n            {stations.map((station, idx) => {\r\n              return idx === 0 ?\r\n                <LikedSongsPreview key={station._id} station={station} /> :\r\n                <StationPreview key={station._id} station={station} />\r\n\r\n            })\r\n            }\r\n          </section>\r\n          {/* </div> */}\r\n        </MainLayout >\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadStations,\r\n}\r\n\r\n\r\nexport const Stations = connect(mapStateToProps, mapDispatchToProps)(_Stations)","export default __webpack_public_path__ + \"static/media/gramophone.fe94f89c.png\";","import React, { Component } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setUserPref, loadUser } from '../store/user.actions'\r\nimport { userService } from '../services/user.service.js';\r\nimport logo from '../assets/img/gramophone.png'\r\n\r\n\r\n\r\nclass _UserPref extends Component {\r\n    state = {\r\n        artists: [{ artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' },\r\n        { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n\r\n    selectArtist = ({ target }, artist) => {\r\n        if (target.parentElement.classList.contains('selected')) return\r\n        target.parentElement.classList.add('selected')\r\n        const img = target.parentElement.children[0].src;\r\n        this.setState((prevState) => ({ artists: [...prevState.artists, { artist, img }] }), () => {\r\n            if (this.state.artists.length >= 6) {\r\n                this.props.setUserPref([...this.state.artists, { artist, img }])\r\n            }\r\n        })\r\n        // this.props.loadUser()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { stations, user } = this.props\r\n        if (!stations || !user) return <h1>loading...</h1>\r\n        if (user.userPref?.length >= 5) {\r\n            return <Redirect to='/home' />\r\n        }\r\n        return (\r\n            <div className=\"user-pref\">\r\n                <header>\r\n                    <h1>Choose at least 4 of your favorite artists</h1>\r\n                    <p>Improve your experience</p>\r\n                </header>\r\n                <MainLayout>\r\n                    <div className=\"artists\">\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kaleo')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrZSbWTyBAENocILL6FsPxL0FcSRdA0XNnDExc8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kaleo</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'donald glover')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR54qbXPUrgKCf0tmiquuqTiYDElO_Cekw-pSCs_g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Donald Glover</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'sia')}>\r\n                            <img src=\"https://yt3.ggpht.com/0xb0rVHF2QHhnmQA5xKQiqPPPuq0gQbHkM8zCvR4vEpvWDNhSSJYUuGXmWZHAjNHJYebQim2=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Sia</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'justin bieber')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Justin Bieber</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'led zepplin')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRfwQJh6x8tdSDOPuMENrMgWxp6c9Wyi4k5dL3QeA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Led Zeppelin</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'eminem')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSk-AeebphZllYPnC6dyL4Ebaufx9EfWWcpWi5kvw=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Eminem</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ed sheeran')}>\r\n                            <img src=\"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ed Sheeran</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ariana grande')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrULhlsqTk0LW6WZ4ufoPC2vRrI-Hv7iQMcwALzA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ariana Grande</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'nirvana')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTcKOFg-V_beC58driCSWsjY01b2yASCkXpLo6z=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Nirvana</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'avicii')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRxjYtdXH5SpVo0Hbgj-MV9iSYOZkPnyGBPX3dBtQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Avicii</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'motzart')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR-UxFlle0Li25HB_1AmFLgE1EZ5oF5lsGIojom=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Motzart</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beyonce')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSYFl86h5I9oWxAlUCb9ujyZVYus_NrMBnLnQZq=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beyoncé</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'taylor swift')}>\r\n                            <img src=\"https://yt3.ggpht.com/MqKm9xyjonzkICKA78ir0AM-WUR47ntkBeJlgHeIk_rUnPuukiWtzOEmU7UjO8cFoPrBatCh3As=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Taylor Swift</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'blink 182')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLS9wSSSch2T5RCOqeWes0CQPq6CuE7n6BH6SGqp9g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Blink-182</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'twenty one pilots')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLShoAv85PyHPQZXkdEYAirEFkVlHT7QL0SO4jnLPQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Twenty one pilots</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'coldplay')}>\r\n                            <img src=\"https://yt3.ggpht.com/gDGaWA0ykI0RuD-x0tOtlZQp_pmfqXMastg2rAJhCoGXeG7a44LL0BlSOZ1nQpuaj5apqzjxa4Y=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Coldplay</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'imagine dragons')}>\r\n                            <img src=\"https://yt3.ggpht.com/aXBmHKABw-J-0ZMxj39wkXpLDEHViOdL5UD71cDG2s5vbeQBWk9mdX3rRxT5U6Wfkvm6o8Uu-dU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Imagine Dragons</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'AC-DC')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR5p4C0mvYOySvgi0lcJEQ2b9GQ5RENU_js8bHV=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>AC/DC</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'martin garrix')}>\r\n                            <img src=\"https://yt3.ggpht.com/in7ji16oeon_ypiAMeH-ZdTWSaIC54yZqMsFg0X3uhTBk4MDCuIkRf6TIoQQCqjl20DSdakhSQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Martin Garrix</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'chainsmokers')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLReODCO_8A0kTfEi7hIofuikdVUmLtUI31Y3JTk8g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Chainsmokers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'stromae')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRmW311L8rsVEfFzaHyrhrSlxLBdMpzimz6IbmjFQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Stromae</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'billie eilish')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Billie Eilish</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'james arthur')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTBGfA-SCl13HK2wvNgIlYp4csR75r4iedoDbDQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>James Arthur</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'metallica')}>\r\n                            <img src=\"https://yt3.ggpht.com/cZ87jDcUyng8WCTC_FZIZhtjd0VQIoyla_GLOCqCJwiePKbnsgMFAoJlJXO3JUdIDiG0U-W-Q-U=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Metallica</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beartooth')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTrxAVj8B25pE4f3QOevhtu2aQPCeu9s6JSqR9hOg=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beartooth</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'michael jackson')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Michael Jackson</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'lily allen')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSlQDVT6TciEB3aqI4j98pAANAN37aLz6TIUCVX1g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Lily Allen</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the lumineers')}>\r\n                            <img src=\"https://yt3.ggpht.com/JeSo37nuDNtXpYeRCXkdSd0BY1EBwOX3DjsoI7h5qS8qtURwdacx87aGyLsW-Zt_xHst5YN0j2A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Lumineers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the neighbourhood')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLQuDzCsZ6o-eJrE-VN4V6hEvVasPCudmbpW1etVWQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Neighbourhood</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'aerosmith')}>\r\n                            <img src=\"https://yt3.ggpht.com/GVz2Q0BOmqNFKQvNXSoC5rVJWqvsajttYdF0VN6lYfwK2Misv-NJr_5akFEHxc8YkyGquGoZ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Aerosmith</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'earth wind and fire')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSluhlgTQdg-VPnftxDahd5w3uqU7gZzQ2HN2Ocig=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Earth ,wind and fire </h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'MGMT')}>\r\n                            <img src=\"https://yt3.ggpht.com/uAFVZ2fFM7MshpUPfUxDWC_zZoXS9LYYKVu9WtmERQsei97F7oG0EJxLKZpmIxCBk-ZO6I2FiQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>MGMT</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'bruno mars')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRRqICmdfNojkf55KFwEqi1A2Yh0dcSyIsXxkOWmFM=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Bruno Mars</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kanye west')}>\r\n                            <img src=\"https://yt3.ggpht.com/OZ6-K14IWCEu6rgIgmox9cID8hTUObJ9uPn_BRwr4O1CNyB_u6N3BqpaztggGYfKVv4rdR0zPYU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kanye West</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'tash sultana')}>\r\n                            <img src=\"https://yt3.ggpht.com/iWAic-fKa7o7IGIzND9MiSKPqjL6Kb3fkd4gr_jRX7tKkjOMgZ5Ems3COKImBF8-szRTswzU8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Tash Sultana</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'milky chance')}>\r\n                            <img src=\"https://yt3.ggpht.com/rxuJTmm-nGWtgvPdVyePl4PdDIwhEopv78WM7jyj6UI3ChJYjCOMd7c_AbuYSdzYMs2AMCu1WQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Milky Chance</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                    </div>\r\n                </MainLayout >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setUserPref,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const UserPref = connect(mapStateToProps, mapDispatchToProps)(_UserPref)","//import {HomePage} from './pages/home-page.jsx'\r\n//import {AboutUs} from './pages/about-us.jsx'\r\n//import {CarApp} from './pages/car-app.jsx'\r\n\r\nimport {Friends} from \"./pages/friends\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Queue } from \"./pages/queue\";\r\nimport { Search } from \"./pages/search\";\r\nimport { Signin } from \"./pages/signin\";\r\nimport { Signup } from \"./pages/signup\";\r\nimport { StationDetails } from \"./pages/station-details\";\r\nimport { Stations } from \"./pages/stations\";\r\nimport { UserPref } from \"./pages/user-pref\";\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: UserPref,\r\n    },\r\n\r\n    {\r\n        path: '/home',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/station/:stationId',\r\n        component: StationDetails,\r\n    },\r\n    {\r\n        path: '/queue',\r\n        component: Queue,\r\n    },\r\n    {\r\n        path: '/friends',\r\n        component: Friends,\r\n    },\r\n    {\r\n        path: '/search',\r\n        component: Search\r\n    },\r\n    {\r\n        path: '/stations',\r\n        component: Stations\r\n    }\r\n\r\n\r\n]\r\n\r\nexport default routes;","import React, { Component } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Slider from '@mui/material/Slider';\r\nimport ReactPlayer from 'react-player'\r\nimport { connect } from 'react-redux'\r\nimport { setFriendCurrTrack } from '../store/friends.actions.js'\r\n\r\nimport {\r\n    setPlay, playNextTrack, playPrevTrack, shuffleQueue, toggleIsPlaying,\r\n    setCurrTrack, setQueue, unshuffleQueue, setCurrStation\r\n} from '../store/station.actions.js';\r\nimport { Duration } from '../services/util.service';\r\nimport { withRouter } from \"react-router\";\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { addLikeToTrack,  loadUsers, removeLikeFromTrack } from '../store/user.actions';\r\nimport { showErrorMsg, showNotificationMsg, showSuccessMsg } from '../services/event-bus.service.js';\r\nimport { socketService } from '../services/socket.service'\r\n\r\n\r\n\r\nclass _AppFooter extends Component {\r\n    state = {\r\n        volume: 30,\r\n        isPlayedTrack: false,\r\n        played: 0,\r\n        loaded: 0,\r\n        duration: 0,\r\n        inQueue: false,\r\n        isShuffle: false,\r\n        isLiked: false,\r\n        trackAndUsers: [],\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        socketService.setup()\r\n        socketService.on('send notification', (obj) => {\r\n            showNotificationMsg(obj.username + ' liked your playlist: ' + obj.stationName)\r\n            //eventBusService.emit(obj.username)\r\n        })\r\n        socketService.on('send follow notification', (username) => {\r\n\r\n            showNotificationMsg(username + ' followd you')\r\n            //eventBusService.emit(username)\r\n        })\r\n        socketService.on('user track', ({ track, user }) => {\r\n            this.props.setFriendCurrTrack({ track, user, currLoginUser: this.props.user })\r\n        })\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevstate) {\r\n        if (this.props.currTrack !== prevProps.currTrack) {\r\n            socketService.emit('play track', { track: this.props.currTrack, user: this.props.user })\r\n            this.isTrackLiked()\r\n            //this.props.toggleIsPlaying();\r\n            this.props.setPlay()\r\n            this.setState({ played: 0, duration: 0 })\r\n        }\r\n        if (!this.props.user || !prevProps.user) return\r\n        if (this.props.user.likedTracks.length !== prevProps.user.likedTracks.length) {\r\n            this.isTrackLiked()\r\n        }\r\n    }\r\n\r\n    isTrackLiked = () => {\r\n        if (!this.props.currTrack) return\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        const isLiked = trackIdxs.includes(this.props.currTrack.id)\r\n        this.setState({ isLiked })\r\n        return isLiked\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        this.setState({ volume: newValue });\r\n    }\r\n\r\n    playRandTrack = async (stations) => {\r\n        let randIdx = Math.floor(Math.random() * (stations.length))\r\n        let station = stations[randIdx]\r\n        while (station.genre === 'likedTracks') {\r\n            randIdx = Math.floor(Math.random() * (stations.length))\r\n            station = stations[randIdx]\r\n        }\r\n        const songs = [...station.songs];\r\n        const idx = Math.floor(Math.random() * (songs.length))\r\n        const track = songs[idx]\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([...songs], station._id);\r\n        this.props.setCurrStation(station)\r\n        this.props.setPlay()\r\n    }\r\n\r\n    togglePlay = async () => {\r\n        if (!this.props.currTrack) {\r\n            await this.playRandTrack(this.props.stations)\r\n        }\r\n        else if (this.state.isLoaded)\r\n            this.props.toggleIsPlaying();\r\n\r\n        // original code\r\n        // if (this.state.isLoaded)\r\n        // this.props.toggleIsPlaying();\r\n    }\r\n\r\n\r\n    handleSeekMouseDown = e => {\r\n        if (!this.props.currTrack) return\r\n        this.setState({ seeking: true })\r\n    }\r\n\r\n    handleSeekChange = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ played: parseFloat(e.target.value) },\r\n        )\r\n    }\r\n\r\n    handleSeekMouseUp = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ seeking: false })\r\n        this.player.seekTo(parseFloat(e.target.value))\r\n    }\r\n\r\n    handleProgress = state => {\r\n        // We only want to update time slider if we are not currently seeking\r\n        if (!this.state.seeking) {\r\n            this.setState(state)\r\n        }\r\n    }\r\n\r\n\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    ref = player => {\r\n        this.player = player\r\n    }\r\n\r\n\r\n    goNext = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    goShuffle = () => {\r\n        if (this.state.isShuffle) {\r\n            this.props.unshuffleQueue(this.props.playedStation)\r\n        } else {\r\n            this.props.shuffleQueue([...this.props.queue])\r\n        }\r\n        this.setState({ isShuffle: !this.state.isShuffle })\r\n    }\r\n\r\n    goPrev = () => {\r\n        this.props.playPrevTrack()\r\n    }\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    handleEnded = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    inQueue = async () => {\r\n        this.setState({ inQueue: !this.state.inQueue }, () => {\r\n            if (this.state.inQueue)\r\n                this.props.history.push(`/queue`)\r\n            else {\r\n                this.props.history.goBack()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLiked: !this.state.isLiked }, () => {\r\n            if (this.state.isLiked) {\r\n\r\n                this.props.addLikeToTrack(this.props.currTrack, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.currTrack.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    onGoToplaylist = () => {\r\n        if (!this.props.playedStation) return\r\n        this.props.history.push(`/station/${this.props.playedStation}`)\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { played, duration, volume, isShuffle} = this.state\r\n        const { isPlaying } = this.props\r\n        const track = this.props.currTrack\r\n        return (\r\n            <div className=\"player-container\">\r\n                {\r\n                    track &&\r\n                    <div className='player'>\r\n                        <ReactPlayer\r\n                            ref={this.ref}\r\n                            playing={isPlaying}\r\n                            url={`https://www.youtube.com/watch?v=${track.id}`}\r\n                            onDuration={this.onDuration}\r\n                            onProgress={this.onProgress}\r\n                            width='0px'\r\n                            heigth='0px'\r\n                            volume={volume / 100}\r\n                            onProgress={this.handleProgress}\r\n                            onDuration={this.handleDuration}\r\n                            onReady={() => { this.setState({ isLoaded: true }) }}\r\n                            controls={false}\r\n                            onEnded={this.handleEnded}\r\n                            muted={false}\r\n                        />\r\n                    </div>\r\n                }\r\n                <div className='playing-bar'>\r\n                    <div className='song-name-bar'>\r\n                        <div className='img-container-player'>\r\n                            {\r\n                                track &&\r\n                                <img onClick={this.onGoToplaylist} className='track-img' src={track.imgUrl} alt=\"track\"/>\r\n                            }\r\n                        </div>\r\n                        <div onClick={this.onGoToplaylist} className=\"song-name\">\r\n                            <p>\r\n                                {track ? track.title : \"\"}\r\n                            </p>\r\n                        </div>\r\n                        {track && <div className=\"like-heart\">\r\n                            {\r\n                                this.state.isLiked && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} class=\"fas fa-heart\"></span>\r\n                            }\r\n                            {\r\n                                !this.state.isLiked && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} alt=\"like\"/>\r\n                            }\r\n                        </div>}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"player-controls\">\r\n                        <div className=\"player-controls-btn flex\">\r\n                            <span className={isShuffle ? \"fas fa-random green\" : \"fas fa-random\"} onClick={this.goShuffle}></span>\r\n\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goPrev}></span>\r\n\r\n                            {\r\n                                isPlaying &&\r\n                                <span className=\"fas fa-pause\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            {\r\n                                !isPlaying &&\r\n                                <span className=\"fas fa-play\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goNext}></span>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <div className='played-input flex'>\r\n                            <Duration seconds={duration * played} />\r\n                            <input\r\n                                type='range' min={0} max={0.999999} step='any'\r\n                                value={played}\r\n                                onMouseDown={this.handleSeekMouseDown}\r\n                                onChange={(ev) => this.handleSeekChange(ev)}\r\n                                onMouseUp={this.handleSeekMouseUp}\r\n                            />\r\n                            <Duration seconds={duration} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"volume\">\r\n                        <div className='queue-btn'>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <Box sx={{ width: 200 }}>\r\n                            <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n                                {volume === 0 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-mute\"></span>}\r\n                                {volume > 0 && volume < 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-down\"></span>}\r\n                                {volume > 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-up\"></span>}\r\n                                <Slider aria-label=\"Volume\" value={volume} onChange={this.handleChange} style={{ color: '#1db954', width: \"150px\" }} />\r\n                            </Stack>\r\n                        </Box>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        queue: state.stationMoudle.queue,\r\n        user: state.userMoudle.user,\r\n        stations: state.stationMoudle.stations,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    playNextTrack,\r\n    playPrevTrack,\r\n    shuffleQueue,\r\n    unshuffleQueue,\r\n    toggleIsPlaying,\r\n    setPlay,\r\n    setCurrStation,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    setCurrTrack,\r\n    setQueue,\r\n    setFriendCurrTrack,\r\n    loadUsers\r\n}\r\n\r\n\r\nconst __AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(__AppFooter);\r\n","\r\n\r\nexport function setFriendCurrTrack({ track, user, currLoginUser }) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_FRIEND_CURR_TRACK',\r\n                track,\r\n                user,\r\n                currLoginUser\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { addStation } from '../store/station.actions.js';\r\n\r\nclass _CreateStation extends Component {\r\n    state = {\r\n        station: {\r\n            name: \"\",\r\n            tags: [],\r\n        },\r\n        songs: [],\r\n        isCreate: false\r\n    }\r\n\r\n    labelOptions = [\r\n        { value: \"happy\", label: \"happy\" },\r\n        { value: \"pop\", label: \"Pop\" },\r\n        { value: \"sad\", label: \"Sad\" },\r\n        { value: \"alternative\", label: \"Alternative\" },\r\n        { value: \"Rock\", label: \"Rock\" },\r\n        { value: \"rap\", label: \"Rap\" },]\r\n\r\n    componentDidMount() {\r\n        eventBusService.on(\"create-playlist\", this.create)\r\n    }\r\n\r\n    create = (track) => {\r\n        const songs = track ? [track] : []\r\n        this.setState({ isCreate: !this.state.isCreate, songs, station: { name: \"\", tags: [] } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        if (Array.isArray(target)) {\r\n            let tags = target.map(option => option.value)\r\n            this.setState(prevState => ({ ...prevState, station: { ...prevState.station, tags } }))\r\n            return\r\n        }\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, station: { ...prevState.station, [key]: val } }))\r\n    }\r\n\r\n\r\n    onAddStation = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.station.name) { }\r\n        const newStation = {\r\n            name: this.state.station.name ? this.state.station.name : 'Playlist',\r\n            tags: this.state.station.tags,\r\n            likedByUsers: [],\r\n            songs: this.state.songs\r\n        }\r\n        this.props.addStation(newStation)\r\n        this.create()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isCreate, station } = this.state\r\n        return (\r\n            <>\r\n                <div className={`create-playlist ${isCreate ? \"on\" : \"off\"}`} onSubmit={(ev) => { this.onAddStation(ev) }}>\r\n                    <div className=\"header\">\r\n                        <h1>Create Playlist</h1>\r\n                        <button className=\"create-close-btn\" onClick={this.create}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Name\"\r\n                                value={station.name}\r\n                                name=\"name\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <CreatableSelect\r\n                                onChange={(e) => this.handleChange({ 'target': e })}\r\n                                name='label'\r\n                                className=\"select\"\r\n                                closeMenuOnSelect={false}\r\n                                options={this.labelOptions}\r\n                                isMulti\r\n                                value={this.state.station.tags.map(tag => ({ value: tag, label: tag }))}\r\n                                placeholder=\"Tags...\"\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"33px\", background: '#1db954' }} variant=\"contained\" onClick={this.onAddStation}>\r\n                                    Create\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className={`body-modal ${isCreate ? \"on\" : \"off\"}`} onClick={this.create}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addStation\r\n}\r\n\r\n\r\nexport const CreateStation = connect(mapStateToProps, mapDispatchToProps)(_CreateStation)","export default __webpack_public_path__ + \"static/media/ringing.482c1707.png\";","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\nimport ringing from '../assets/img/ringing.png'\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 5000)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <></>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <div id={`toast`} className={`show  ${msgClass}`}><div id=\"img\"><img style={{ height: '20px', width: \"20px\" }} src={ringing} /></div><div id=\"desc\"> {this.state.msg.txt}</div></div>\r\n      //<section className={'user-msg ' + msgClass}>\r\n      //  <button onClick={() => {\r\n      //    this.setState({ msg: null })\r\n      //  }}>x</button>\r\n      //  {this.state.msg.txt}\r\n      //</section>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport { MainNav } from './cmps/main-nav.jsx'\r\nimport routes from './routes.js'\r\nimport { AppFooter } from './cmps/app-footer.jsx'\r\nimport { CreateStation } from './cmps/create-playlist.jsx'\r\nimport { UserProfile } from './cmps/profile'\r\nimport { UserMsg } from './cmps/user-msg.jsx'\r\nimport { Signin } from './pages/signin.jsx'\r\nimport { Signup } from './pages/signup.jsx'\r\n\r\nexport class RootCmp extends React.Component {\r\n    // componentDidMount() {\r\n\r\n    //     return new Promise(resolve => {\r\n\r\n    //         window.fbAsyncInit = function () {\r\n    //             window.FB.init({\r\n    //                 appId: '992060094973798',\r\n    //                 cookie: true,\r\n    //                 xfbml: true,\r\n    //                 version: 'v12.0'\r\n    //             });\r\n\r\n    //             window.FB.AppEvents.logPageView();\r\n\r\n    //         };\r\n\r\n    //         (function (d, s, id) {\r\n    //             var js, fjs = d.getElementsByTagName(s)[0];\r\n    //             if (d.getElementById(id)) { return; }\r\n    //             js = d.createElement(s); js.id = id;\r\n    //             js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    //             fjs.parentNode.insertBefore(js, fjs);\r\n    //         }(document, 'script', 'facebook-jssdk'));\r\n\r\n    //     })\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {/*<Route exact component={Signin} path=\"/\" />\r\n                <Route exact component={Signup} path='/signup' />*/}\r\n                <main className=\"main-app\">\r\n                    <CreateStation />\r\n                    <MainNav />\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                    <UserMsg />\r\n                    <AppFooter />\r\n                </main>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/styles.scss'\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorkerRegistration.register()\r\n\r\n // If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n "],"sourceRoot":""}