{"version":3,"sources":["store/station.reducer.js","store/user.reducer.js","store/friend.reducer.js","store/store.js","assets/img/gramophone-svgrepo-com.svg","assets/img/logo.jpg","services/event-bus.service.js","services/socket.service.js","cmps/main-nav.jsx","cmps/layout/MainLayout.jsx","services/storage.service.js","services/util.service.js","services/data.js","services/http.service.js","services/station.service.js","services/user.service.js","store/user.actions.js","services/async-storage.service dont delete.js","store/station.actions.js","cmps/trackByUser-preview.jsx","cmps/trackByUsers.jsx","pages/friends.jsx","assets/img/stationImg.jpg","cmps/favorite-artists.jsx","cmps/station-preview.jsx","assets/img/loader.svg","cmps/Loading.jsx","cmps/login-signup-form.jsx","cmps/profile.jsx","pages/Home.jsx","assets/img/heart-regular.svg","cmps/track-preview.jsx","assets/img/isPlaying.gif","cmps/draggable-track-preview.jsx","cmps/draggable-track-list.jsx","assets/img/mood-search.jpg","assets/img/pop-search.jpg","assets/img/chill-search.jpg","assets/img/summer-search.jpeg","assets/img/latin-search.jpg","assets/img/jazz-search.jpg","assets/img/indie-search.jpg","assets/img/wellness-search.jpg","assets/img/sleep-search.jpg","assets/img/decades-search.jpg","assets/img/workout-search.jpg","assets/img/party-search.jpg","assets/img/focus-search.jpg","assets/img/alternativ-search.jpg","assets/img/travel-search.jpg","assets/img/soul-search.jpg","assets/img/funk-search.jpg","assets/img/metal-search.jpg","assets/img/classical-search.jpg","assets/img/blues-search.jpg","cmps/trackList.jsx","cmps/searchResultTrack.jsx","cmps/searchResultStation.jsx","cmps/searchResultStationDetails.jsx","services/youtubeApi.service.js","pages/search.jsx","pages/station-details.jsx","pages/queue.jsx","assets/img/enter.png","pages/signin.jsx","assets/img/user.png","pages/signup.jsx","cmps/liked-songs-preview.jsx","pages/stations.jsx","assets/img/gramophone.png","pages/user-pref.jsx","routes.js","cmps/app-footer.jsx","store/friends.actions.js","cmps/create-playlist.jsx","cmps/user-msg.jsx","root-cmp.jsx","serviceWorkerRegistration.js","index.js"],"names":["initialState","stations","queue","playNextQueue","currTrack","isPlaying","playedStation","currStation","user","users","trackAndUsers","notificationMsg","rootReducer","combineReducers","stationMoudle","state","action","newState","newQueue","newPlayNextQueue","nextTrack","type","track","nextQueue","splice","idx","push","findIndex","id","befores","shift","concat","stationId","length","pop","unshift","station","newStation","userMoudle","count","diff","filter","_id","userId","map","stationOrTrack","likedStations","trackId","likedTracks","currStationId","userPref","recentlyPlayedStations","recentlyPlayedSongs","friendMoudle","currLoginUser","following","includes","trackAndUser","trackAndUserIdx","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showNotificationMsg","showErrorMsg","myBus","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","review","console","log","_MainNav","props","handleClick","linkId","a","toggleMenu","isMenuOpen","setState","activLink","setSelectedStationId","prevState","selectedStationId","newIsMenuOpen","links","name","to","fa","this","className","onClick","bind","src","logo","alt","link","React","Component","MainNav","connect","ownProps","MainLayout","children","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","removeFromStorage","removeItem","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","Duration","seconds","dateTime","round","format","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","pad","getUTCSeconds","string","slice","Axios","create","withCredentials","axios","BASE_URL","stationServiceNew","query","getStationById","searchStation","saveStation","stationToEdit","_updateStation","_addStation","getStationByGenre","getStationFromLocal","getStationsByUser","getGoodDay","getHot","filterBy","get","params","res","userService","getLoggedinUser","storageService","find","post","put","keySearch","getUserById","addLikeToTrack","removeLikeFromTrack","AddToRecentlyPlayed","setUserPref","isGuest","updateUser","signup","login","logout","getUsers","STORAGE_KEY","URL","userToSave","credentials","removed","username","_saveUserToStorage","updatedUser","some","stationIdx","stationToUpdate","userIdliked","createdBy","currUser","stationName","likedByUsers","likedByUser","currTrackId","loadUser","dispatch","loadUsers","onLogin","onSignup","onLogout","gStations","guestService","Promise","resolve","deleteStation","_saveStationsToStorage","getNextStationId","nextStationIdx","searchTrack","addToStation","removeFromStation","getStationByTag","keySerch","tags","KEY","songCache","_createStation","idxs","items","videoId","join","duration","contentDetails","trackResult","title","snippet","imgUrl","thumbnails","high","url","songs","tagName","playlistId","ganer","fullname","resourceId","all","loadStations","guestStations","setCurrTrack","err","setQueue","addToNextQueue","newTrack","toggleIsPlaying","setPlay","setCurrStation","_createStations","_PrackByUserPreview","playTrack","usersImgs","imgObj","currUserId","mapDispatchToProps","PrackByUserPreview","_TrackByUsers","userImg","getCurrTrack","traclANdUser","TrackByUsers","_Friends","require","filterUsers","toUpperCase","handleChange","target","value","onFollow","userIdToFollow","isFollow","img","onChange","placeholder","userToUpdate","Friends","FavoriteArtists","artists","artist","_StationPreview","playRandTrack","navigateToStation","history","stationImg","e","stopPropagation","reduce","songStr","song","__StationPreview","StationPreview","withRouter","Loading","loader","style","margin","LoginSignupForm","responseFacebook","response","newCredentials","email","password","userID","facebookUserId","picture","onSubmit","ps","handleSubmit","preventDefault","resetCredentials","handleClose","closeForm","handleSignIn","isLogin","handleLogin","_UserPrifile","loginOrSignup","isLoggedIn","getInitialCredentials","setLoginOrSignup","facebookComponentClicked","menuButton","UserProfile","_Home","goodDayStations","hotStations","numOfPreviews","handleRisize","entries","viewPortWidth","contentRect","width","getTime","curHr","getHours","getLikedStation","unresolvedPromisesLike","unresolvedPromisesStation","b","results","resizer","ResizeObserver","observe","document","querySelector","prevProps","genre","Home","_TrackPreview","isLike","componentDidMount","getTimeFromDuration","hours","minutes","replace","indexOf","hours_split","split","parseInt","minutes_split","seconds_split","str","onAddToStation","onRemoveFromStation","trackIdx","loadStation","trackFromQueue","toggleLike","ev","isOnDeatils","heartNotChecked","label","TrackPreview","DraggableTrackPreview","SortableElement","DraggableTrackList","SortableContainer","index","TrackList","SearchResultTrack","onAddToNextQueue","SearchResultStation","stationResult","SearchResultStationDetails","youtubeApiService","_","_Search","isOnSearch","delayedHandleChange","debounce","stationResultApi","result","moveScrollDwon","homePage","scrollTop","scrollHeight","onPlayTrack","backgroundColor","chill","party","focus","alternativ","summer","indie","latin","wellness","sleep","decades","workout","travel","soul","jazz","funk","mood","metal","classical","blues","Search","_StationDetails","isFindMore","isShowAll","match","onSortEnd","oldIndex","newIndex","arrayMoveImmutable","handleToggleLike","stationToSave","handleFindMore","moveSrollDown","class","fontSize","axis","distance","StationDetails","_Queue","body","backgroundImage","Queue","Copyright","Typography","variant","color","align","Link","href","getFullYear","theme","createTheme","_Signin","isAdmin","clearState","clearTemplate","field","loginUser","ThemeProvider","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","height","enter","noValidate","mt","TextField","required","fullWidth","autoComplete","FormControlLabel","control","Checkbox","Button","mb","Grid","container","item","xs","_Signup","isSignup","spacing","sm","autoFocus","justifyContent","_LikedSongsPreview","__LikedSongsPreview","LikedSongsPreview","_Stations","getLikedSongsStation","likedSongsStation","Stations","_UserPref","selectArtist","parentElement","classList","contains","add","onError","onerror","routes","path","_AppFooter","volume","isPlayedTrack","played","loaded","inQueue","isShuffle","isLiked","isTrackLiked","event","newValue","randIdx","togglePlay","isLoaded","handleSeekMouseDown","seeking","handleSeekChange","parseFloat","handleSeekMouseUp","player","seekTo","handleProgress","handleDuration","ref","goNext","playNextTrack","goShuffle","unshuffleQueue","shuffleQueue","goPrev","playPrevTrack","handleEnded","goBack","onGoToplaylist","obj","setFriendCurrTrack","prevstate","isGetNotification","playing","onDuration","onProgress","heigth","step","onMouseDown","onMouseUp","Stack","direction","Slider","j","temp","playedStationId","__AppFooter","AppFooter","_CreateStation","isCreate","labelOptions","Array","isArray","option","onAddStation","addStation","classNam","closeMenuOnSelect","options","isMulti","tag","background","CreateStation","UserMsg","msg","removeEvent","setTimeout","msgClass","RootCmp","route","exact","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","getElementById","process","origin","fetch","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.74328c6b.chunk.js","sourcesContent":["const initialState = {\r\n    stations: [],\r\n    queue: [],\r\n    playNextQueue: [],\r\n    currTrack: null,\r\n    isPlaying: false,\r\n    playedStation: null,\r\n    currStation: null\r\n}\r\nexport function stationReducer(state = initialState, action) {\r\n    var newState = state\r\n    const newQueue = [...state.queue]\r\n    const newPlayNextQueue = [...state.playNextQueue]\r\n    let nextTrack = {}\r\n    switch (action.type) {\r\n        case 'SET_STATIONS':\r\n            newState = { ...state, stations: action.stations }\r\n            break\r\n        case 'SET_CURR_TRACK':\r\n            if (action.track.nextQueue) {\r\n                if (state.currTrack) newPlayNextQueue.splice(action.idx, 1)\r\n            }\r\n            if (!state.currTrack?.nextQueue) {\r\n                newQueue.push(state.currTrack)\r\n            }\r\n            newState = { ...state, currTrack: action.track, queue: newQueue, playNextQueue: newPlayNextQueue }\r\n            break\r\n        case 'SET_QUEUE':\r\n            let idx = action.queue.findIndex((track) => state.currTrack.id === track.id)\r\n            const befores = action.queue.splice(0, idx)\r\n            action.queue.shift()\r\n            action.queue = action.queue.concat(befores)\r\n            newState = { ...state, queue: action.queue, playedStation: action.stationId };\r\n            break\r\n        case 'ADD_TO_NEXT_QUEUE':\r\n            if (!state.currTrack) {\r\n                newState = { ...state, currTrack: action.track };\r\n                break\r\n            }\r\n            newPlayNextQueue.push(action.track)\r\n            newState = { ...state, playNextQueue: newPlayNextQueue };\r\n            break\r\n        case 'SHUFFLE_QUEUE':\r\n            newState = { ...state, queue: action.queue };\r\n            break\r\n        case 'TOGGLE_ISPLAYING':\r\n            newState = { ...state, isPlaying: !state.isPlaying };\r\n            break\r\n        case 'SET_PLAY':\r\n            newState = { ...state, isPlaying: true };\r\n            break\r\n        case 'NEXT_TRACK':\r\n            if (state.playNextQueue.length > 0) {\r\n                nextTrack = newPlayNextQueue.shift();\r\n\r\n            } else {\r\n                nextTrack = newQueue.shift();\r\n            }\r\n            if (!state.currTrack.nextQueue) newQueue.push(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n                playNextQueue: newPlayNextQueue\r\n            };\r\n\r\n            break\r\n        case 'PREV_TRACK':\r\n            nextTrack = newQueue.pop();\r\n            newQueue.unshift(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n            };\r\n            break\r\n        case 'SET_CURR_STATION':\r\n            newState = { ...state, currStation: action.station }\r\n            break;\r\n        case 'ADD_STATION':\r\n            newState = { ...state, stations: [...state.stations, action.newStation] };\r\n            break\r\n        // case ''\r\n        default:\r\n    }\r\n    return newState\r\n\r\n}\r\n","\r\nconst initialState = {\r\n    //user: userService.getLoggedinUser(),\r\n    user: null,\r\n    users: [],\r\n}\r\n\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: { ...action.user } }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: [...action.users] }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            let users = state.users.map(user => (user._id === action.user._id) ? action.user : user);\r\n            newState = { ...state, users, user: { ...action.user } }\r\n            break;\r\n        case 'ADD_LIKE_TO_TRACK':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, likedStations: [...state.user.likedStations, action.trackId] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, likedTracks: [...state.user.likedTracks, action.trackId] } }\r\n            }\r\n            break;\r\n        case 'REMOVE_LIKE_FROM_TRACK':\r\n\r\n            if (action.stationOrTrack === 'station') {\r\n                var likedStations = state.user.likedStations.filter(currStationId => currStationId !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedStations: likedStations } }\r\n            }\r\n            else {\r\n                var likedTracks = state.user.likedTracks.filter(currTrack => currTrack.id !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedTracks: likedTracks } }\r\n            }\r\n            break;\r\n        case 'SET_USER_PREF':\r\n            newState = { ...state, user: { ...state.user, userPref: action.userPref } }\r\n            break;\r\n        case 'ADD_TO_RECENTLY_PLAYED':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedStations: [...state.user.recentlyPlayedStations, action.track] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedSongs: [...state.user.recentlyPlayedSongs, action.track] } }\r\n            }\r\n            break;\r\n        default:\r\n\r\n    }\r\n    return newState;\r\n\r\n}\r\n\r\n","const initialState = {\r\n    trackAndUsers: [],\r\n    notificationMsg: []\r\n}\r\nexport function friendReducer(state = initialState, action) {\r\n    var newState = state;\r\n\r\n    switch (action.type) {\r\n        case 'SET_FRIEND_CURR_TRACK':\r\n            if (!action.currLoginUser.following?.length) return []\r\n            else {\r\n                if (!action.currLoginUser.following.includes(action.user._id)) {\r\n                    let trackAndUsers = state.trackAndUsers.filter(trackAndUser => trackAndUser.user._id !== action.user._id)\r\n                    newState = { ...state, trackAndUsers }\r\n                    break\r\n                }\r\n            }\r\n            const trackAndUserIdx = state.trackAndUsers.findIndex(trackAndUser => trackAndUser.user._id === action.user._id)\r\n            if (trackAndUserIdx !== -1) {\r\n                let trackAndUsers = [...state.trackAndUsers];\r\n                let trackAndUser = { ...trackAndUsers[trackAndUserIdx] };\r\n                trackAndUser.track = action.track;\r\n                trackAndUsers[trackAndUserIdx] = trackAndUser\r\n                newState = { ...state, trackAndUsers }\r\n            }\r\n            else {\r\n                newState = { ...state, trackAndUsers: [...state.trackAndUsers, ({ track: action.track, user: {...action.user} })] }\r\n            }\r\n            break\r\n    }\r\n    return newState\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stationReducer } from './station.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { friendReducer } from './friend.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    stationMoudle: stationReducer,\r\n    userMoudle: userReducer,\r\n    friendMoudle: friendReducer,\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/gramophone-svgrepo-com.db7a0ac8.svg\";","export default __webpack_public_path__ + \"static/media/logo.f9b1b07e.jpg\";","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showNotificationMsg(txt) {\r\n    showUserMsg(txt, 'notification')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  console.log('Review about me!', review);\r\n})\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport logoImg from '../assets/img/logo.jpg'\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\n// '../icons/liked.svg'\r\nimport { eventBusService } from '../services/event-bus.service'\r\nimport { socketService } from '../services/socket.service'\r\nclass _MainNav extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      links: [\r\n        {\r\n          id: 1,\r\n          name: \"Home\",\r\n          to: \"/\",\r\n          fa: 'fa-home'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Search\",\r\n          to: \"/search\",\r\n          fa: 'fa-search'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"My Stations\",\r\n          to: \"/stations\",\r\n          fa: 'fa-library'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Liked Songs\",\r\n          to: \"/station/likedTracks\",\r\n          fa: 'fa-heart'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Friends\",\r\n          to: \"/friends\",\r\n          fa: 'fa-user-friends'\r\n        }\r\n      ],\r\n      activLink: 1,\r\n      selectedStationId: null,\r\n      isMenuOpen: false\r\n\r\n    }\r\n\r\n    // Methods Binding:\r\n    // this.toggleMenu = this.toggleMenu.bind(this)\r\n\r\n  }\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleClick = async (linkId) => {\r\n    await this.toggleMenu(!this.state.isMenuOpen)\r\n    this.setState({ activLink: linkId })\r\n  }\r\n\r\n  setSelectedStationId = (stationId) => {\r\n    this.setState(prevState => ({ ...prevState, selectedStationId: stationId }))\r\n  }\r\n\r\n  toggleMenu = async (newIsMenuOpen) => {\r\n    // console.log('newIsMenuOpen', newIsMenuOpen);\r\n    this.setState({ isMenuOpen: newIsMenuOpen })\r\n  }\r\n\r\n  render() {\r\n    const { stations } = this.props\r\n    const { activLink, links, selectedStationId, isMenuOpen } = this.state\r\n    if (!links) {\r\n      return <div>loading.</div>\r\n    }\r\n    return (\r\n      <>\r\n        {/* {isMenuOpen && <div className=\"screen\" onClick={this.toggleMenu.bind(this, !isMenuOpen)}></div>} */}\r\n        <div className=\"hamburger-wrapper\">\r\n          <div className={`hamburger ${isMenuOpen ? \"active\" : \"\"}`} onClick={this.toggleMenu.bind(this, !isMenuOpen)}>\r\n            <div></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <nav className={isMenuOpen ? 'main-nav active' : 'main-nav'}>\r\n          {/* <div className=\"humb\" onClick={() => this.toggleMenu()}>\r\n            <div className=\"humb-strip\"></div>\r\n            <div className=\"humb-strip\"></div>\r\n            <div className=\"humb-strip\"></div>\r\n          </div> */}\r\n\r\n          <Link to='/Home'>\r\n            <div className=\"banner\">\r\n              {/* src\\assets\\img */}\r\n              <div className=\"logo-img-container\">\r\n                <img src={logo} alt=\"\" />\r\n              </div>\r\n              <h4>Lotify\r\n                <span>.</span>\r\n              </h4>\r\n            </div>\r\n          </Link>\r\n          <ul className=\"primary-nav\">\r\n            {links.map(link => {\r\n              return <li key={link.id} onClick={() => this.handleClick(link.id)} className={link.id === activLink ? 'active' : ''}>\r\n\r\n                <NavLink to={link.to}>\r\n                  <span className={`nav-icon fas ${link.fa}`}></span>\r\n                  {link.name}</NavLink>\r\n              </li>\r\n            })}\r\n            <li onClick={() => { eventBusService.emit(\"create-playlist\") }} className=\"nav-create\">\r\n              <a>\r\n                <span className=\"nav-icon fas fa-plus-square\"></span>\r\n                Create Playlist\r\n              </a>\r\n            </li>\r\n            {/*<li>\r\n              <NavLink to={'/station/likedTracks'}>\r\n                {/* <span>\r\n                  <img src={likedSongsSvg} alt=\"\" className=\"liked-songs-svg\" />\r\n                </span> */}\r\n            {/*<span className={`nav-icon fas fa-heart`}></span>\r\n                Liked Songs</NavLink>\r\n\r\n            </li>*/}\r\n            {/*<li>\r\n              <NavLink to={'/friends'}>\r\n                {/* <span>\r\n                  <img src={likedSongsSvg} alt=\"\" className=\"liked-songs-svg\" />\r\n                </span> */}\r\n            {/*<span className={`nav-icon fas fa-user-friends`}></span>\r\n                Friends</NavLink>\r\n\r\n            </li>*/}\r\n          </ul>\r\n          <ul className=\"stations\">\r\n            {\r\n              stations.map(station => {\r\n                return <li key={station._id} onClick={() => this.setSelectedStationId(station._id)}>\r\n                  <NavLink to={`/station/${station._id}`}\r\n                    className={selectedStationId === station._id ? 'station-link selected-station' : 'station-link'}>\r\n                    {station.name}\r\n                    {/* {station.name.length < 28 ? station.name : station.name.slice(0, 28) + '...'} */}\r\n                  </NavLink></li>\r\n              })\r\n            }\r\n\r\n          </ul>\r\n        </nav>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nexport const MainNav = connect(mapStateToProps)(_MainNav)","export const MainLayout = ({ children }) => {\r\n     return <div className=\"main-container\">\r\n         {children}\r\n     </div>\r\n\r\n}","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n    localStorage.removeItem(key) \r\n}\r\n\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage,\r\n    removeFromStorage\r\n\r\n}","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\n\r\nexport function Duration({ className, seconds }) {\r\n    return (\r\n        <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n            {format(seconds)}\r\n        </time>\r\n    )\r\n}\r\n\r\nfunction format(seconds) {\r\n    const date = new Date(seconds * 1000)\r\n    const hh = date.getUTCHours()\r\n    const mm = date.getUTCMinutes()\r\n    const ss = pad(date.getUTCSeconds())\r\n    if (hh) {\r\n        return `${hh}:${pad(mm)}:${ss}`\r\n    }\r\n    return `${mm}:${ss}`\r\n}\r\n\r\nfunction pad(string) {\r\n    return ('0' + string).slice(-2)\r\n}\r\n\r\n\r\n","export const gPlaylists =\r\n    [\r\n        {\r\n            \"_id\": \"likedTracks\",\r\n            \"name\": \"Liked Songs\",\r\n            \"tags\": [],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\",\r\n            },\r\n            \"songs\": []\r\n        },\r\n        {\r\n            \"_id\": \"5c08\",\r\n            \"name\": \"arctic monkeys\",\r\n            \"tags\": [\"Funk\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"bpOSxM0rNPM\",\r\n                    \"title\": \"Arctic Monkeys - Do I Wanna Know?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/bpOSxM0rNPM/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M26S\"\r\n                },\r\n                {\r\n                    \"id\": \"6366dxFf-Os\",\r\n                    \"title\": \"Arctic Monkeys - Why`d You Only Call Me When You`re High?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/6366dxFf-Os/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M49S\"\r\n                },\r\n                {\r\n                    \"id\": \"VQH8ZTgna3Q\",\r\n                    \"title\": \"Arctic Monkeys - R U Mine?\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/VQH8ZTgna3Q/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M44S\"\r\n                },\r\n                {\r\n                    \"id\": \"ma9I9VBKPiw\",\r\n                    \"title\": \"Arctic Monkeys - Fluorescent Adolescent\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M16S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"5c10\",\r\n            \"name\": \"chill\",\r\n            \"tags\": [\"Chill\", \"Happy\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"MPbUaIZAaeA\",\r\n                    \"title\": \"Shawn Mendes, Justin Bieber - Monster\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/MPbUaIZAaeA/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M4S\"\r\n                },\r\n                {\r\n                    \"id\": \"tcYodQoapMg\",\r\n                    \"title\": \"Ariana Grande - positions (official video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/tcYodQoapMg/hqdefault.jpg\",\r\n                    \"duration\": \"PT2M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"U05fwua9-D4\",\r\n                    \"title\": \"Maroon 5 - Lost (Official Music Video)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/U05fwua9-D4/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M8S\"\r\n                },\r\n                {\r\n                    \"id\": \"iX-QaNzd-0Y\",\r\n                    \"title\": \"Milky Chance - Stolen Dance\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/ma9I9VBKPiw/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M14S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n\r\n            \"_id\": \"5n250\",\r\n            \"name\": \"Rap\",\r\n            \"tags\": [\"rap\", \"beat\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u102\",\r\n                \"fullname\": \"app\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n                {\r\n                    \"id\": \"Yhyp-_hX2s\",\r\n                    \"title\": \"Eminem - Lose Yourself\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/_Yhyp-_hX2s/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M24S\"\r\n                },\r\n                {\r\n                    \"id\": \"YVkUvmDQ3HY\",\r\n                    \"title\": \"Eminem - Without Me\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/YVkUvmDQ3HY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M58S\"\r\n                },\r\n                {\r\n                    \"id\": \"j5-yKhDd64s\",\r\n                    \"title\": \"Eminem - Not Afraid\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/j5-yKhDd64s/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M19S\"\r\n                },\r\n                {\r\n                    \"id\": \"XbGs_qK2PQA\",\r\n                    \"title\": \"Eminem - Rap God \",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/XbGs_qK2PQA/hqdefault.jpg\",\r\n                    \"duration\": \"PT6M10S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"p201\",\r\n            \"name\": \"shlomo artzi\",\r\n            \"tags\": [\"Israeli music\", \"Shlomo Artzi\"],\r\n            \"createdAt\": 1541652422,\r\n            \"createdBy\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"puki ben david\",\r\n                \"imgUrl\": \"http://some-photo/\"\r\n            },\r\n            \"likedByUsers\": [],\r\n            \"songs\": [\r\n\r\n                {\r\n                    \"id\": \"TWtbHxQMTqc\",\r\n                    \"title\": \"Shlomo Artzi - Menagev Lach Et Hadmaot (with subtitle)\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/TWtbHxQMTqc/hqdefault.jpg\",\r\n                    \"duration\": \"PT3M9S\"\r\n                },\r\n                {\r\n                    \"id\": \"fNThHjoimrY\",\r\n                    \"title\": \"  - \",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/fNThHjoimrY/hqdefault.jpg\",\r\n                    \"duration\": \"PT4M2S\"\r\n                },\r\n                {\r\n                    \"id\": \"sDRSs2rrZ8o\",\r\n                    \"title\": \"  -  ()\",\r\n                    \"imgUrl\": \"https://i.ytimg.com/vi/sDRSs2rrZ8o/hqdefault.jpg\",\r\n                    \"duration\": \"PT5M30S\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"_id\": \"pop\",\r\n            \"name\": \"Top POP Hits 2021  Biggest Pop Music Videos - Vevo\",\r\n            \"tags\": [\"pop\"],\r\n            \"createdBy\": { \"_id\": \"u101\", \"fullname\": \"app\", \"imgUrl\": \"http://some-photo\" },\r\n            \"songs\": [{ \"id\": \"XXYlFuWEuKI\", \"title\": \"The Weeknd - Save Your Tears (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/XXYlFuWEuKI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"RsEZmictANA\", \"title\": \"Taylor Swift - willow (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/RsEZmictANA/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"l0U7SxXHkPY\", \"title\": \"Future - Life Is Good (Official Music Video) ft. Drake\", \"imgUrl\": \"https://i.ytimg.com/vi/l0U7SxXHkPY/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"BSzSn-PRdtI\", \"title\": \"Maroon 5 - Beautiful Mistakes ft. Megan Thee Stallion (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/BSzSn-PRdtI/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"TUVcZfQe-Kw\", \"title\": \"Dua Lipa - Levitating Featuring DaBaby (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/TUVcZfQe-Kw/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"6swmTBVI83k\", \"title\": \"Lil Nas X - MONTERO (Call Me By Your Name) (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/6swmTBVI83k/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"ssq6X6alZ3w\", \"title\": \"Ariana Grande - 34+35 (Remix) ft. Doja Cat, Megan Thee Stallion\", \"imgUrl\": \"https://i.ytimg.com/vi/ssq6X6alZ3w/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"r4P-WOOUPk4\", \"title\": \"Little Mix - Sweet Melody (Official Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/r4P-WOOUPk4/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"tQ0yjYUFKAE\", \"title\": \"Justin Bieber - Peaches ft. Daniel Caesar, Giveon\", \"imgUrl\": \"https://i.ytimg.com/vi/tQ0yjYUFKAE/hqdefault.jpg\", \"duration\": \"PT4M26S\" },\r\n            { \"id\": \"vMLk_T0PPbk\", \"title\": \"Black Eyed Peas, Shakira - GIRL LIKE ME (Official Music Video)\", \"imgUrl\": \"https://i.ytimg.com/vi/vMLk_T0PPbk/hqdefault.jpg\", \"duration\": \"PT4M26S\" }]\r\n        }\r\n    ]\r\n\r\n\r\n","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : 'http://localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http.service.js'\r\nimport Axios from 'axios'\r\nimport storageService from './storage.service.js';\r\nimport { userService } from './user.service.js';\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV === 'production')\r\n    ? '/api/station'\r\n    : 'http://localhost:3030/api/station';\r\n\r\nexport const stationServiceNew = {\r\n    query,\r\n    getStationById,\r\n    searchStation,\r\n    saveStation,\r\n    getStationByGenre,\r\n    getStationFromLocal,\r\n    getStationsByUser,\r\n    getGoodDay,\r\n    getHot\r\n}\r\n\r\nasync function query(filterBy = {}) {\r\n    //const res = await axios.get('http://localhost:3030/api/toy', { params: filterBy })\r\n    const res = await axios.get(`${BASE_URL}`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function getGoodDay() {\r\n    const res = await axios.get(`${BASE_URL}/goodDay`)\r\n    return res.data\r\n}\r\n\r\nasync function getHot() {\r\n    const res = await axios.get(`${BASE_URL}/hot`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationsByUser() {\r\n    const user = await userService.getLoggedinUser()\r\n    const res = await axios.get(`${BASE_URL}/station/${user._id}`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationById(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/${stationId}`)\r\n    console.log(\" ~ file: station.service.js ~ line 51 ~ getStationById ~ res.data\", res.data)\r\n    return res.data\r\n}\r\n\r\nasync function getStationFromLocal(stationId) {\r\n    const stations = await storageService.loadFromStorage('stations')\r\n    return stations.find((station) => station._id === stationId)\r\n}\r\n\r\nasync function getStationByGenre(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/genre/${stationId}`)\r\n    return res.data\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\nasync function _addStation(stationToEdit) {\r\n    const res = await axios.post(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\nasync function _updateStation(stationToEdit) {\r\n    const res = await axios.put(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\n\r\nasync function searchStation(keySearch) {\r\n    const stations = await query({ keySearch })\r\n    return stations\r\n}\r\n\r\n\r\n\r\n\r\n    //async function remove(toyId) {\r\n    //    await axios.delete(`${BASE_URL}/${toyId}`)\r\n    //}\r\n","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\nimport { gPlaylists } from \"./data\";\r\nimport Axios from 'axios'\r\nimport { update } from 'lodash';\r\nimport { stationServiceNew } from './station.service';\r\nimport { socketService } from '../services/socket.service'\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    getUserById,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    AddToRecentlyPlayed,\r\n    setUserPref,\r\n    isGuest,\r\n    updateUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    getUsers\r\n}\r\nconst STORAGE_KEY = \"user\"\r\nconst URL = (process.env.NODE_ENV === 'production') ?\r\n    '/api' :\r\n    'http://localhost:3030/api';\r\n\r\n\r\nasync function signup(user) {\r\n    let userToSave = await axios.post(`${URL}/auth/signup`, user)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function login(credentials) {\r\n    let userToSave = await axios.post(`${URL}/auth/login`, credentials)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function logout() {\r\n    const removed = await axios.post(`${URL}/auth/logout`)\r\n    storageService.removeFromStorage(STORAGE_KEY)\r\n    return removed\r\n}\r\n\r\n\r\nasync function updateUser(user) {\r\n    if (user.username !== \"guest\") {\r\n        let updatedUser = await axios.put(`${URL}/user/${user._id}`, user)\r\n        _saveUserToStorage(updatedUser.data)\r\n        return updatedUser.data\r\n\r\n    }\r\n    else {\r\n        _saveUserToStorage(user)\r\n        return user\r\n    }\r\n\r\n}\r\nasync function AddToRecentlyPlayed(track, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'track') {\r\n        let recentlyPlayedSongs = user.recentlyPlayedSongs\r\n        if (!recentlyPlayedSongs.length < 10)\r\n            recentlyPlayedSongs = recentlyPlayedSongs.slice(Math.max(recentlyPlayedSongs.length - 9, 0))\r\n        recentlyPlayedSongs.unshift(track)\r\n        user.recentlyPlayedSongs = recentlyPlayedSongs\r\n    }\r\n    else {\r\n        if (!track || track === null) return\r\n        let recentlyPlayedStations = user.recentlyPlayedStations\r\n        if (recentlyPlayedStations.some(stationIdx => stationIdx === track)) return\r\n        if (!recentlyPlayedStations.length < 10)\r\n            recentlyPlayedStations = recentlyPlayedStations.slice(Math.max(recentlyPlayedStations.length - 9, 0))\r\n\r\n        recentlyPlayedStations.unshift(track)\r\n        user.recentlyPlayedStations = recentlyPlayedStations\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function getLoggedinUser() {\r\n    let user = storageService.loadFromStorage(STORAGE_KEY)\r\n    console.log(user);\r\n    if (!user) {\r\n        await login({ username: \"guest\" })\r\n        getLoggedinUser()\r\n    }\r\n    return user\r\n}\r\n\r\nasync function isGuest() {\r\n    const user = await getLoggedinUser()\r\n    return user.username === \"guest\"\r\n}\r\n\r\nasync function addLikeToTrack(trackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        user.likedStations.unshift(trackId)\r\n        let stationToUpdate = await stationServiceNew.getStationFromLocal(trackId)//search in local storage\r\n        if (!stationToUpdate)\r\n            if (trackId.length === 24) {\r\n                stationToUpdate = await stationServiceNew.getStationById(trackId)\r\n                console.log('got by id', stationToUpdate);\r\n            } else {\r\n                stationToUpdate = await stationServiceNew.getStationByGenre(trackId)\r\n                console.log('got by genre', stationToUpdate);\r\n            }\r\n            console.log(\" ~ file: user.service.js ~ line 120 ~ addLikeToTrack ~ stationToUpdate\", stationToUpdate)\r\n            socketService.emit('add like', { userIdliked: stationToUpdate.createdBy.id, currUser: user, stationName: stationToUpdate.name })\r\n\r\n        if (!stationToUpdate.likedByUsers) stationToUpdate.likedByUsers = []\r\n        if (!stationToUpdate.likedByUsers.some(likedByUser => likedByUser.id === user._id)) {\r\n            stationToUpdate.likedByUsers.push({ username: user.username, id: user._id })\r\n            await stationServiceNew.saveStation(stationToUpdate)\r\n        }\r\n    }\r\n    else {\r\n        user.likedTracks.unshift(trackId)\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function removeLikeFromTrack(currTrackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        let likedStations = user.likedStations.filter(trackId => trackId !== currTrackId)\r\n        user.likedStations = likedStations\r\n    }\r\n    else {\r\n        let likedTracks = user.likedTracks.filter(track => track.id !== currTrackId)\r\n        user.likedTracks = likedTracks\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\n\r\nasync function getUserById(userId) {\r\n    let user = await axios.get(`${URL}/user/${userId}`)\r\n    return user.data\r\n}\r\nasync function getUsers(filterBy) {\r\n    filterBy = { filterBy }\r\n    console.log(filterBy, 'filterBy');\r\n    let res = await axios.get(`${URL}/user`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function setUserPref(userPref) {\r\n    let user = await getLoggedinUser()\r\n    user.userPref = userPref\r\n    if (user.username !== \"guest\") {\r\n        updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    // let user = await axios.get(`${URL}/user/${user._id}`)\r\n    return user\r\n}\r\n\r\n\r\nfunction _saveUserToStorage(user) {\r\n    storageService.saveToStorage(STORAGE_KEY, user)\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService } from \"../services/socket.service.js\";\r\n//import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\nexport function loadUser() {\r\n    return async dispatch => {\r\n        try {\r\n            let user = await userService.getLoggedinUser()\r\n            if (!user) {\r\n                user = await userService.login({ username: 'guest' })\r\n            }\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            let users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function addLikeToTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.addLikeToTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'ADD_LIKE_TO_TRACK', trackId, stationOrTrack })\r\n\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function removeLikeFromTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.removeLikeFromTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'REMOVE_LIKE_FROM_TRACK', trackId, stationOrTrack })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function setUserPref(userPref) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.setUserPref(userPref)\r\n            dispatch({ type: 'SET_USER_PREF', userPref })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n\r\n        } catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            loadUser()\r\n            socketService.emit('unset-user-socket');\r\n        }\r\n        catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updateUser(userToUpdate) {\r\n    return async dispatch => {\r\n        try {\r\n            debugger\r\n            let a = await userService.updateUser(userToUpdate)\r\n            dispatch({ type: 'UPDATE_USER', user: userToUpdate })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\nimport { gPlaylists } from \"./data\";\r\nimport axios from 'axios'\r\nexport const guestService = {\r\n    query,\r\n    saveStation,\r\n    deleteStation,\r\n    getStationById,\r\n    getNextStationId,\r\n    searchTrack,\r\n    addToStation,\r\n    removeFromStation,\r\n    getStationByTag,\r\n    searchStation\r\n}\r\nconst KEY = 'stations';\r\nvar gStations;\r\nlet songCache = []\r\n_createStations();\r\n\r\nfunction query(filterBy) {\r\n    return Promise.resolve(gStations)\r\n}\r\n\r\nfunction deleteStation(stationId) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return stationId === station.id\r\n    })\r\n    gStations.splice(stationIdx, 1)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\n\r\nfunction _addStation(stationToEdit) {\r\n    var station = _createStation(stationToEdit)\r\n    gStations.unshift(station)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve(station)\r\n}\r\n\r\nfunction _updateStation(stationToEdit) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return station.id === stationToEdit.id;\r\n    })\r\n    gStations[stationIdx] = stationToEdit\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\n\r\nfunction getStationById(stationId) {\r\n    var station = gStations.find(function (station) {\r\n        return stationId === station._id\r\n    })\r\n    return Promise.resolve(station)\r\n}\r\n\r\n\r\nfunction getNextStationId(stationId) {\r\n    const stationIdx = gStations.findIndex(station => station.id === stationId)\r\n    let nextStationIdx = stationIdx + 1\r\n    if (nextStationIdx === gStations.length) nextStationIdx = 0\r\n    return gStations[nextStationIdx].id\r\n}\r\n\r\nfunction _createStation(stationToEdit) {\r\n    stationToEdit._id = utilService.makeId()\r\n    return stationToEdit\r\n}\r\n\r\nfunction _createStations() {\r\n    var stations = storageService.loadFromStorage(KEY)\r\n    if (!stations || !stations.length) {\r\n        stations = []\r\n    }\r\n    gStations = stations;\r\n    _saveStationsToStorage();\r\n}\r\n\r\nfunction _saveStationsToStorage() {\r\n    storageService.saveToStorage(KEY, gStations)\r\n}\r\n\r\n\r\n\r\n//api \r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    //keySerch = keySerch.trim()\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\nasync function addToStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    currStation.songs.push(track)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function removeFromStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    const idx = currStation.songs.findIndex(currTrack => track.id === currTrack.id)\r\n    currStation.songs.splice(idx, 1)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function getStationByTag(tagName) {\r\n    //let songCache = gStations.find(station => station.ganer === tagName)\r\n    //if (songCache) {\r\n    //    console.log('No need to fetch, retrieving from Cache', songCache);\r\n    //    return [songCache]\r\n    //}\r\n    songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n            return {\r\n                ganer: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => ({\r\n                    id: track.snippet.resourceId.videoId,\r\n                    title: track.snippet.title,\r\n                    imgUrl: track.snippet.thumbnails.high.url,\r\n                    duration: \"PT4M26S\"\r\n                }))\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        //await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction searchStation(keySerch) {\r\n    return gStations.filter((station) => {\r\n        if (station.name.includes(keySerch) || station.tags.includes(keySerch)) {\r\n            return station\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { guestService } from \"../services/async-storage.service dont delete.js\";\r\nimport { stationServiceNew } from \"../services/station.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { AddToRecentlyPlayed } from \"./user.actions.js\";\r\n\r\nexport function loadStations() {\r\n    return async (dispatch) => {\r\n        try {\r\n            let stations = await stationServiceNew.getStationsByUser()\r\n            let guestStations = await guestService.query()\r\n            stations = stations.concat(guestStations)\r\n            console.log(stations);\r\n            dispatch({\r\n                type: 'SET_STATIONS',\r\n                stations\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(`Had Issues ${err}`)\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nexport function addStation(newStation) {\r\n    return async (dispatch) => {\r\n        if (await userService.isGuest()) {\r\n            console.log('is guest');\r\n            newStation = await guestService.saveStation(newStation)\r\n        } else {\r\n            console.log('not guest');\r\n            newStation = await stationServiceNew.saveStation(newStation)\r\n        }\r\n        dispatch({\r\n            type: 'ADD_STATION',\r\n            newStation\r\n        })\r\n        showSuccessMsg(\"Add to your Stations\")\r\n    }\r\n}\r\n\r\nexport function unshuffleQueue(playedStationId) {\r\n    return async (dispatch) => {\r\n        let queue = await stationServiceNew.getStationById(playedStationId)\r\n        queue = queue.songs\r\n        dispatch({\r\n            type: 'SET_QUEUE',\r\n            queue,\r\n            stationId: playedStationId\r\n        })\r\n    }\r\n}\r\n\r\n//without service\r\nexport function setCurrTrack(track, idx) {\r\n    return async (dispatch) => {\r\n        ////add track to recentlyPlayed\r\n        try {\r\n            dispatch({\r\n                type: 'SET_CURR_TRACK',\r\n                track,\r\n                idx,\r\n            })\r\n            //await userService.AddToRecentlyPlayed(track, 'track')\r\n            //dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'track', track })\r\n        }\r\n\r\n        catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function setQueue(queue, stationId = 0) {\r\n    queue = queue.filter(track => !track.nextQueue)\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: 'SET_QUEUE',\r\n                queue,\r\n                stationId\r\n            })\r\n            if (!stationId) return\r\n            await userService.AddToRecentlyPlayed(stationId, 'station')\r\n            dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'station', stationId })\r\n        }\r\n        catch (err) {\r\n            console.log('setQueue  error', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToNextQueue(track) {\r\n    return async (dispatch) => {\r\n        let newTrack = { ...track }\r\n        newTrack.nextQueue = true\r\n        dispatch({\r\n            type: 'ADD_TO_NEXT_QUEUE',\r\n            track: newTrack\r\n        })\r\n        showSuccessMsg('Added to queue')\r\n    }\r\n}\r\n\r\nexport function playNextTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'NEXT_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function playPrevTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'PREV_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleIsPlaying() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'TOGGLE_ISPLAYING',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setPlay() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_PLAY',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setCurrStation(station) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_CURR_STATION',\r\n                station\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport function shuffleQueue(queue) {\r\n    for (let i = queue.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const temp = queue[i];\r\n        queue[i] = queue[j];\r\n        queue[j] = temp;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SHUFFLE_QUEUE',\r\n            queue\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n//function deleteStation(stationId) {\r\n//    var stationIdx = gStations.findIndex(function (station) {\r\n//        return stationId === station.id\r\n//    })\r\n//    gStations.splice(stationIdx, 1)\r\n//    _saveStationsToStorage();\r\n//    return Promise.resolve()\r\n//}\r\n","import React, { Component } from 'react'\r\nimport Avatar from 'react-avatar';\r\nimport { connect } from 'react-redux'\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nclass _PrackByUserPreview extends Component {\r\n\r\n    playTrack = async (track, idx) => {\r\n        const { currStation } = this.props\r\n        let songs = [track]\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'user-preview flex'}>\r\n                <div>\r\n                    <Avatar size=\"100\"  src={this.props.usersImgs.find(imgObj => this.props.currUserId === imgObj.id)?.url} size=\"60\" round={true} />\r\n                    {this.props.users && <span >\r\n                        {this.props.users.find((user => user._id === this.props.currUserId))?.username}</span>}\r\n                </div>\r\n                {this.props.track &&\r\n                    <span className='is-active'>is active </span>\r\n                }\r\n                {this.props.track &&\r\n                    <div className={\"track\"} onClick={() => { this.playTrack(this.props.track.track, 0) }}>\r\n                        {<img src={this.props.track.track.imgUrl} />}\r\n                        <div><p> {this.props.track.track.title}</p></div>\r\n                    </div>\r\n                }\r\n                {!this.props.track && <div>\r\n                    <span className='is-active'> User is not active</span></div>}\r\n                {!this.props.track && <div>\r\n                    <span></span></div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n}\r\n\r\n\r\nexport const PrackByUserPreview = connect(mapStateToProps, mapDispatchToProps)(_PrackByUserPreview)\r\n\r\n","import React, { Component } from 'react'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, updateUser } from '../store/user.actions';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { PrackByUserPreview } from './trackByUser-preview';\r\n\r\n\r\nclass _TrackByUsers extends Component {\r\n    state = {\r\n        users: [],\r\n        userImg: [],\r\n    }\r\n\r\n    getCurrTrack = (currUserId) => {\r\n        let trackAndUser = this.props.trackAndUsers?.filter(traclANdUser => {\r\n            if (traclANdUser.user._id === currUserId)\r\n                return traclANdUser.track\r\n        })\r\n        if (!trackAndUser.length)\r\n            trackAndUser = false\r\n\r\n        else trackAndUser = trackAndUser[0]\r\n        return trackAndUser\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user, users } = this.props\r\n\r\n        if (!this.state.users || !this.props.user) return <div>loading</div>\r\n        return (\r\n            <>\r\n                <div className='flex header'>\r\n                    <span>Username</span>\r\n                    <span className='is-active'>status</span>\r\n                    <span>Listening to</span>\r\n                </div>\r\n                <div className='user-track'>\r\n\r\n\r\n                    {user && user.following.map((currUserId) => {\r\n                        console.log(user.following, 'user.following');\r\n                        return <PrackByUserPreview users={this.props.users}\r\n                            currUserId={currUserId} usersImgs={this.props.usersImgs} user={users.find((user => user._id === currUserId))?.username} track={this.getCurrTrack(currUserId)} />\r\n                    })}\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user,\r\n        //users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser\r\n}\r\nexport const TrackByUsers = connect(mapStateToProps, mapDispatchToProps)(_TrackByUsers)\r\n\r\n","import React, { Component } from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport { TrackByUsers } from '../cmps/trackByUsers';\r\nimport { eventBusService, showSuccessMsg } from '../services/event-bus.service'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers,loadUser, updateUser } from '../store/user.actions';\r\nimport Avatar from 'react-avatar';\r\n\r\n\r\nvar _ = require('lodash');\r\nclass _Friends extends Component {\r\n    state = {\r\n        trackAndUsers: [],\r\n        usersImgs: [],\r\n        users: [],\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        await this.props.loadUser()\r\n        socketService.setup()\r\n        this.setState({ trackAndUsers: this.props.trackAndUsers })\r\n        console.log(this.state.trackAndUsers, 'trackAndUsers');\r\n        await this.loadUsers('')\r\n        let usersImgs = this.state.users.map(user => {\r\n            return user.img ? { url: user.img, id: user._id } :\r\n                { url: \"https://cdn-icons-png.flaticon.com/512/149/149071.png\", id: user._id }\r\n        })\r\n        this.setState({ usersImgs })\r\n    }\r\n\r\n    loadUsers = (keySearch = '') => {\r\n        if (!keySearch) {\r\n            let filterUsers = this.props.users.filter(user => {\r\n                if (user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user?._id) {\r\n                    return user\r\n                }\r\n            })\r\n            this.setState({ users: filterUsers })\r\n            //this.setState({ users: this.props.users })\r\n        }\r\n        else {\r\n            let filterUsers = this.props.users.filter(user => user.username.toUpperCase().includes(keySearch.toUpperCase()) && user._id !== '615b1395706f019209666d5d' && user._id !== this.props.user._id)\r\n            this.setState({ users: filterUsers })\r\n        }\r\n    }\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.loadUsers(target.value)\r\n    }\r\n    onFollow = async (userIdToFollow, isFollow) => {\r\n        let user = { ...this.props.user }\r\n        if (isFollow) {\r\n            let following = user.following.filter(userId => userId !== userIdToFollow)\r\n            user.following = following\r\n        }\r\n        else {\r\n            user.following.push(userIdToFollow)\r\n            socketService.emit('following', { userIdToFollow, currUser: user })\r\n        }\r\n        await this.props.updateUser(user)\r\n    }\r\n\r\n    render() {\r\n        const trackAndUsers = this.props.trackAndUsers\r\n        const { user } = this.props\r\n        const { users } = this.state\r\n        if (!users || !this.state.usersImgs) return <div>loading</div>\r\n        return (\r\n            <MainLayout>\r\n                <section className='friends-container'>\r\n                    <h1> Follow your friends!</h1>\r\n                    <div className=\"friend-following flex\">\r\n                        <div className='all-users-container'>\r\n                            <div><input type='text' onChange={this.handleChange} placeholder=\"Search you friends\" /></div>\r\n                            <div className='users-table'>\r\n                                {users &&\r\n                                    users.map((currUser, idx) => {\r\n                                        return <div className='friend-following-preview flex'>\r\n                                            <div>\r\n                                                <Avatar size=\"100\"  src={this.state.usersImgs.find(imgObj => currUser._id === imgObj.id)?.url} size=\"60\" round={true} />\r\n                                                <span>\r\n                                                    {currUser.username}\r\n                                                </span>\r\n                                            </div>\r\n\r\n\r\n                                            <div>\r\n                                                {user.following.includes(currUser._id) &&\r\n                                                    <button className='following' onClick={() => { this.onFollow(currUser._id, true) }}> Unfollow</button>\r\n                                                }\r\n                                                {!user.following.includes(currUser._id) &&\r\n                                                    <button className='follow' onClick={() => { this.onFollow(currUser._id, false) }} >Follow</button>\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <section className='following-by-user-container flex column'>\r\n                            <TrackByUsers trackAndUsers={trackAndUsers} users={this.state.users} usersImgs={this.state.usersImgs} />\r\n                        </section>\r\n\r\n                    </div>\r\n                </section>\r\n            </MainLayout>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        trackAndUsers: state.friendMoudle.trackAndUsers,\r\n        user: state.userMoudle.user,\r\n        users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUsers,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Friends = connect(mapStateToProps, mapDispatchToProps)(_Friends)\r\n\r\n","export default \"data:image/jpeg;base64,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\"","import { Link } from 'react-router-dom';\r\nimport stationImg from '../assets/img/stationImg.jpg';\r\n\r\nexport function FavoriteArtists({ artists }) {\r\n    return (\r\n        <div className=\"favorite-artists\">\r\n            {artists.map((artist, idx) => {\r\n                return (<Link to={`/station/${artist.artist}`} className=\"station-container\" key={idx}>\r\n                    <div className='img-container'>\r\n                        <img src={artist.img} />\r\n                    </div>\r\n                    <h4>{artist.artist}</h4>\r\n                </Link >\r\n                )\r\n            })}\r\n        </div >\r\n    )\r\n}","import stationImg from '../assets/img/stationImg.jpg'\r\nimport { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\nimport PlayCircleIcon from '@material-ui/icons/PlayCircleFilledWhite';\r\nimport { ThemeProvider, createTheme } from '@material-ui/core'\r\n\r\nclass _StationPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        if (!currStation || station._id !== currStation._id) {\r\n            const songs = [...station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (station) => {\r\n        let stationId = station._id ? station._id : station.name\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div>loading...</div>\r\n        return (\r\n            <div className=\"station-preview\">\r\n                <div className=\"img-card\" onClick={() => this.navigateToStation(station)}>\r\n                    <div className=\"square-ratio station-img-container\">\r\n                        {station.songs?.length > 0 && station.songs[0]?.imgUrl &&\r\n                            <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                        }\r\n                        {!station.songs.length &&\r\n                            <img src={stationImg} />\r\n                        }\r\n\r\n                        <div className=\"play-icon-container\" onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            this.playRandTrack()\r\n\r\n                        }}>\r\n                            <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"station-name-header\">\r\n                        {station.name.length < 25 ? station.name : station.name.slice(0, 25) + '...'}\r\n                    </div>\r\n                    <p className=\"station-desc\">\r\n                        {!station.songs.length ? '' :\r\n                            station.songs.reduce((songStr, song) => {\r\n                                songStr += song.title\r\n                                return songStr;\r\n                            }, '').slice(0, 30) + '...'}\r\n                    </p>\r\n                </div>\r\n            </div >\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n        currStation: state.stationMoudle.currStation\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __StationPreview = connect(mapStateToProps, mapDispatchToProps)(_StationPreview)\r\nexport const StationPreview = withRouter(__StationPreview);","export default __webpack_public_path__ + \"static/media/loader.b84ba084.svg\";","import React from 'react';\r\nimport loader from '../assets/img/loader.svg'\r\nexport function Loading() {\r\n    return (\r\n\r\n        <img src={loader} style={{ margin: '250px auto' }} />\r\n\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\n\r\nexport class LoginSignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isLogin: this.props.isLogin\r\n      // facebookUserId: null,\r\n      // img: null\r\n      // }\r\n    };\r\n  }\r\n\r\n  responseFacebook = async response => {\r\n\r\n    try {\r\n\r\n      const newCredentials = {\r\n        username: response.email,\r\n        password: response.userID,\r\n        fullname: response.name,\r\n        facebookUserId: response.userID,\r\n        img: response.picture.data.url\r\n      }\r\n      this.props.onSubmit(newCredentials)\r\n    }\r\n    catch (e) {\r\n      console.log('err:', e);\r\n    }\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    console.log('here');\r\n    this.setState(ps => ({ ...ps, [target.name]: target.value }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const credentials = this.state\r\n    this.props.onSubmit(credentials)\r\n  }\r\n\r\n  resetCredentials = () => {\r\n    this.setState({ username: '', fullname: '', password: '', facebookUserId: null, img: null })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.resetCredentials()\r\n    this.props.closeForm()\r\n  }\r\n\r\n  handleSignIn = () => {\r\n    // console.log('signing');\r\n    this.setState(ps => ({ ...ps, isLogin: false }))\r\n  }\r\n\r\n  handleLogin = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: true }))\r\n  }\r\n\r\n  render() {\r\n    const { username, fullname, password, isLogin } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"screen\" onClick={this.handleClose}></div>\r\n        <section className=\"form-wrapper\">\r\n          <span className=\"close-form\" onClick={this.handleClose}>X</span>\r\n          <div className=\"form-logo flex column align-center\">\r\n            <img src={logo} alt=\"\" />\r\n            <div className=\"brand-name\"><span>Lotify</span><span>.</span></div>\r\n\r\n          </div>\r\n          <h2 className=\"form-header\">{isLogin ? 'Sign in to continue' : 'Signup to continue'}</h2>\r\n          <form action=\"\" className=\"login-signup-form flex column align-center\" onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your username\" value={username}\r\n              onChange={this.handleChange} />\r\n\r\n            {!isLogin && <input type=\"text\" name=\"fullname\" placeholder=\"Enter your fullName\"\r\n              value={fullname} onChange={this.handleChange} />}\r\n\r\n            <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password}\r\n              onChange={this.handleChange} />\r\n            {/* <div className=\"submit-btns flex\"> */}\r\n            <button type=\"submit\" className=\"login-signup-btn\">{isLogin ? 'Login' : 'Signup'}</button>\r\n\r\n            {/* <button className=\"facebook-login-btn-wrapper\" type=\"button\">\r\n              {isLogin ? 'Login with Facebook' : 'Signup with Facebook'}\r\n\r\n              <FacebookLogin\r\n                className=\"facebook-login-btn\"\r\n                appId=\"992060094973798\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                isSdkLoaded={false}\r\n                onClick={this.facebookComponentClicked}\r\n                callback={this.responseFacebook} />\r\n            </button> */}\r\n            {isLogin && <div className=\"to-sign-in flex\"><span>Dont have an acount?</span>\r\n              <span onClick={this.handleSignIn}>Sign here</span>\r\n            </div>}\r\n            {!isLogin && <span className=\"back-to-login\" onClick={this.handleLogin}>Back to Login</span>}\r\n            {/* </div> */}\r\n          </form>\r\n        </section>\r\n      </>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, onSignup, onLogin, onLogout } from '../store/user.actions';\r\nimport { loadStations } from '../store/station.actions';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport Avatar from 'react-avatar';\r\nimport { LoginSignupForm } from './login-signup-form';\r\n\r\n\r\nclass _UserPrifile extends Component {\r\n    state = {\r\n        loginOrSignup: null,\r\n        isLoggedIn: false,\r\n        credentials: {\r\n            username: null,\r\n            password: null,\r\n            fullname: null,\r\n            facebookUserId: null,\r\n            img: null\r\n            // facebookEmail: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n    getInitialCredentials = () => {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            fullname: '',\r\n            facebookUserId: null,\r\n            img: null\r\n        }\r\n    }\r\n    setLoginOrSignup = (loginOrSignup) => {\r\n\r\n        this.setState(prevState => ({ ...prevState, credentials: this.getInitialCredentials(), loginOrSignup }))\r\n        // this.setState({ loginOrSignup })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, credentials: { ...prevState.credentials, [key]: val } }))\r\n    }\r\n    closeForm = () => {\r\n        this.setLoginOrSignup(null)\r\n    }\r\n    onSubmit = async (credentials) => {\r\n        // let credentials = this.state.credentials\r\n        if (this.state.loginOrSignup === \"Login\") {\r\n            // if (!isFacebookLogin)\r\n            // credentials = { username: this.state.credentials.username, password: this.state.credentials.password }\r\n            await this.props.onLogin(credentials)\r\n        } else {\r\n            // credentials = { ...this.state.credentials, userPref: this.props.user.userPref }\r\n            credentials.userPref = this.props.user.userPref\r\n            await this.props.onSignup(credentials)\r\n        }\r\n        this.setLoginOrSignup(null)\r\n        await this.props.loadUser()\r\n        await this.props.loadStations()\r\n    }\r\n\r\n    facebookComponentClicked = () => {\r\n        console.log('face soosh component clicked');\r\n    }\r\n\r\n    responseFacebook = async response => {\r\n        console.log('responseFacebook', response);\r\n\r\n        try {\r\n\r\n            const newCredentials = {\r\n                username: response.email,\r\n                password: response.userID,\r\n                fullname: response.name,\r\n                facebookUserId: response.userID,\r\n                img: response.picture.data.url\r\n            }\r\n            this.setLoginOrSignup(null)\r\n            this.setState(prevState => ({ ...prevState, credentials: newCredentials }),\r\n                () => this.onSubmit(true))\r\n        }\r\n        catch {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loginOrSignup, credentials } = this.state\r\n        const { user } = this.props\r\n        if (!user) return <></>\r\n        return (\r\n            <>\r\n                <div className=\"profiler\">\r\n                    <Menu menuButton={\r\n                        <MenuButton title={user.username}>\r\n                            <Avatar size=\"50\"  src={user.img ? user.img : \"https://cdn-icons-png.flaticon.com/512/149/149071.png\"} round={true} />\r\n                        </MenuButton>}>\r\n                        {user.username === \"guest\" &&\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Login\")}>Login</MenuItem>\r\n                        }\r\n                        {user.username === \"guest\" ?\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Signup\")}>Signup</MenuItem> :\r\n                            <MenuItem onClick={async () => {\r\n                                await this.props.onLogout()\r\n                                await this.props.loadUser()\r\n                                this.props.loadStations()\r\n                            }\r\n                            }>Logout</MenuItem>\r\n                        }\r\n                    </Menu>\r\n\r\n                    {/* ori */}\r\n\r\n                </div>\r\n                {loginOrSignup && <LoginSignupForm onSubmit={this.onSubmit}\r\n                    isLogin={loginOrSignup === 'Login' ? true : false}\r\n                    closeForm={this.closeForm} />}\r\n\r\n\r\n                {/* <div className={`create-playlist ${loginOrSignup ? \"on\" : \"off\"}`} >\r\n                    <div className=\"header\">\r\n                        <h1>{loginOrSignup}</h1>\r\n                        <button onClick={() => this.setLoginOrSignup(null)}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"username\"\r\n                                label=\"Username\"\r\n                                value={credentials.username}\r\n                                name=\"username\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            {loginOrSignup === \"Signup\" &&\r\n                                <TextField\r\n                                    className=\"fullname\"\r\n                                    label=\"Full Name\"\r\n                                    value={credentials.fullname}\r\n                                    name=\"fullname\"\r\n                                    autoComplete=\"off\"\r\n                                    onChange={this.handleChange}\r\n                                />}\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Password\"\r\n                                ref='password'\r\n                                hintText=\"Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                type=\"password\"\r\n                                value={credentials.password}\r\n                                name=\"password\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"40px\", background: '#1db954' }} variant=\"contained\"\r\n                                    onClick={this.onSubmit}>\r\n                                    {loginOrSignup}\r\n                                </Button>\r\n                                <Button style={{ height: \"40px\", background: '#1E90EA' }} variant=\"contained\"\r\n                                    className=\"facebook-login-btn-wrapper-ddd\"\r\n                                    onClick={(e) => e.preventDefault()} >\r\n                                    {loginOrSignup === \"Signup\" ? 'Signup with facebook' : 'Login with facebook'}\r\n\r\n                                    <FacebookLogin\r\n                                        className=\"facebook-login-btn\"\r\n                                        appId=\"992060094973798\"\r\n                                        autoLoad={true}\r\n                                        fields=\"name,email,picture\"\r\n                                        onClick={this.facebookComponentClicked}\r\n                                        callback={this.responseFacebook} />\r\n\r\n                                </Button>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/** Ori - I've uncomment this */}\r\n                {/* <div className={`body-modal ${loginOrSignup ? \"on\" : \"off\"}`} onClick={() => this.setLoginOrSignup(null)}></div> */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onSignup,\r\n    onLogin,\r\n    onLogout,\r\n    loadStations\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserPrifile)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { FavoriteArtists } from '../cmps/favorite-artists.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\nimport { UserProfile } from '../cmps/profile.jsx';\r\n\r\nclass _Home extends Component {\r\n    state = {\r\n        goodDayStations: [],\r\n        hotStations: [],\r\n        likedStations: '',\r\n        recentlyPlayedStations: '',\r\n        numOfPreviews: 5\r\n    }\r\n\r\n    resizer\r\n    handleRisize = (entries) => {\r\n        const viewPortWidth = entries[0].contentRect.width\r\n        if (viewPortWidth > 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 7 }))\r\n        else if (viewPortWidth >= 1560 && viewPortWidth < 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 6 }))\r\n        else if (viewPortWidth >= 1360 && viewPortWidth < 1560)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 5 }))\r\n        else if (viewPortWidth >= 1160 && viewPortWidth < 1360)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 4 }))\r\n        else if (viewPortWidth >= 960 && viewPortWidth < 1160)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth >= 760 && viewPortWidth < 960)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else if (viewPortWidth >= 685 && viewPortWidth < 760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth < 685 && viewPortWidth >= 475)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else {\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n\r\n        }\r\n        // else if (viewPortWidth >= 562)\r\n        //     this.setState(prevState => ({ ...prevState, numOfPreviews: 1 }))\r\n\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUser();\r\n        await this.props.loadStations();\r\n        await this.getLikedStation()\r\n        const goodDayStations = await stationServiceNew.getGoodDay()\r\n        const hotStations = await stationServiceNew.getHot()\r\n        this.setState({ goodDayStations, hotStations })\r\n        this.resizer = new ResizeObserver(this.handleRisize)\r\n        this.resizer.observe(document.querySelector('.main-app'))\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps.user?._id !== this.props.user?._id) {\r\n            //await this.props.loadUser();\r\n            await this.props.loadStations();\r\n            await this.getLikedStation()\r\n        }\r\n    }\r\n\r\n    getTime = () => {\r\n        var today = new Date()\r\n        var curHr = today.getHours()\r\n\r\n        if (curHr < 12) {\r\n            return 'Good morning'\r\n        } else if (curHr < 18) {\r\n            return 'Good afternoon'\r\n        } else {\r\n            return 'Good evening'\r\n        }\r\n    }\r\n    getLikedStation = async () => {\r\n        console.log(this.props.user);\r\n        let unresolvedPromisesLike = await this.props.user.likedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let unresolvedPromisesStation = await this.props.user.recentlyPlayedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let a = await Promise.all(unresolvedPromisesLike)\r\n        let b = await Promise.all(unresolvedPromisesStation)\r\n        const results = await Promise.all([a, b]);\r\n        this.setState({ likedStations: results[0], recentlyPlayedStations: results[1] })\r\n        //this.props.user.likedStations.map((station => <StationPreview key={station._id} station={station} />))\r\n    }\r\n\r\n    render() {\r\n        let { stations, user } = this.props\r\n        stations = stations.filter(station => station.genre !== 'likedTracks')\r\n        const { likedStations, numOfPreviews, recentlyPlayedStations, goodDayStations, hotStations } = this.state\r\n        // console.log(goodDayStations)\r\n        if (!stations || !this.props.user || !likedStations || !recentlyPlayedStations) return <Loading />\r\n        return (\r\n\r\n            <div className=\"home-page\">\r\n                <UserProfile />\r\n                <div className=\"shadow\">\r\n                    <div className=\"hero\">\r\n                        <h1>Listen to your favorite music on <span className=\"logo\">Lotify<span>.</span></span></h1>\r\n                    </div>\r\n                </div>\r\n                <section className='station-container'>\r\n                    <div className='card card-top'>\r\n                        <div className='card-header'>\r\n                            <h1>{this.getTime()}</h1>\r\n                        </div>\r\n                        {\r\n                            user.userPref ?\r\n                                <FavoriteArtists artists={user.userPref.slice(0, 6)} /> :\r\n                                <FavoriteArtists artists={[{ artist: 'justin bieber', img: 'https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'michael jackson', img: 'https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo' }]} />\r\n                        }\r\n                    </div>\r\n                    <MainLayout>\r\n                        {\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Good day</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {goodDayStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(goodDayStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Hot right now</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n\r\n                                    {hotStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(hotStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Stations you liked</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {likedStations &&\r\n                                    likedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(likedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Recently played</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {recentlyPlayedStations &&\r\n                                    recentlyPlayedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(recentlyPlayedStations.length, numOfPreviews))}\r\n                                {/*{likedStations.map((station => <StationPreview key={station._id} station={station} />))}*/}\r\n                            </div>\r\n                        </div>\r\n                    </MainLayout>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/heart-regular.a71c24fa.svg\";","// import { connect } from 'react-redux'\r\n// import React, { Component } from 'react'\r\n// import { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\n// import '@szhsin/react-menu/dist/index.css';\r\n// import '@szhsin/react-menu/dist/transitions/slide.css';\r\n// import { eventBusService } from '../services/event-bus.service';\r\n// import { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\n// import heartChecked from '../assets/img/heart-checked.png';\r\n// import heartNotChecked from '../assets/img/heart-notCheck.png';\r\n\r\nimport { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService, showSuccessMsg, showErrorMsg } from '../services/event-bus.service';\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport isPlying from '../assets/img/isPlaying.gif'\r\nimport { stationServiceNew } from '../services/station.service';\r\n\r\nclass _TrackPreview extends Component {\r\n    state = {\r\n        isLike: false\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //to get Stations from store to the AddToPlaylist render\r\n        await this.props.loadStations()\r\n        let user = await this.props.user\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = await this.props.user\r\n        }\r\n        //track save as object\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        if (trackIdxs.includes(this.props.track.id)) {\r\n\r\n            this.setState({ isLike: true })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if ((prevProps.track.id !== this.props.track.id) || (this.props.user?.likedTracks?.length !== prevProps.user?.likedTracks?.length)) {\r\n            await this.props.loadStations()\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n            if (trackIdxs.includes(this.props.track.id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    getTimeFromDuration = (duration) => {\r\n        var hours = 0;\r\n        var minutes = 0;\r\n        var seconds = 0;\r\n        duration = duration.replace('PT', '');\r\n        if (duration.indexOf('H') > -1) {\r\n            var hours_split = duration.split('H');\r\n            hours = parseInt(hours_split[0]);\r\n            duration = hours_split[1];\r\n        }\r\n        if (duration.indexOf('M') > -1) {\r\n            var minutes_split = duration.split('M');\r\n            minutes = parseInt(minutes_split[0]);\r\n            duration = minutes_split[1];\r\n        }\r\n        if (duration.indexOf('S') > -1) {\r\n            var seconds_split = duration.split('S');\r\n            seconds = parseInt(seconds_split[0]);\r\n        }\r\n        var str = \"\";\r\n        if (hours != 0) { str += hours + \":\"; }\r\n        if (minutes == 0) { str += \"00\" + \":\"; }\r\n        else if (minutes < 10) { str += \"0\" + minutes + \":\"; }\r\n        else if (minutes > 10) { str += minutes + \":\"; }\r\n        else if (minutes == 0) { str += \"00:\" }\r\n        if (seconds > 0 && seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds > 10) { str += seconds; }\r\n        else if (seconds == 0) { str += \"00\" }\r\n        return str;\r\n    }\r\n\r\n    onAddToStation = async (track, stationId = null) => {\r\n        if (!stationId) {\r\n            stationId = this.props.currStation\r\n        }\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        if (stationToUpdate.songs.some(song => song.id === track.id)) {\r\n            showErrorMsg('This Track already exists in this station ')\r\n            return\r\n        }\r\n\r\n        stationToUpdate.songs.push(track)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        showSuccessMsg('Add to station')\r\n    }\r\n\r\n    onRemoveFromStation = async (track, stationId) => {\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        const trackIdx = stationToUpdate.songs.findIndex(song => track.id === song.id)\r\n        stationToUpdate.songs.splice(trackIdx, 1)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        if (this.props.currStation) {\r\n            this.props.loadStation()\r\n        }\r\n        showErrorMsg('Removed from Station')\r\n    }\r\n\r\n    playTrack = async (track, idx) => {\r\n        \r\n        const { currStation, queue, currTrack, playNextQueue } = this.props\r\n        let songs\r\n        if (currStation) {//only if clicking on station details not from queue!\r\n            songs = [...currStation.songs];\r\n        } else {\r\n            if (queue.length && queue.some(trackFromQueue => track.id === trackFromQueue.id)) {//From Queue\r\n                songs = [...queue, currTrack]\r\n            } else {//from search\r\n                if (playNextQueue.length && playNextQueue.some(trackFromQueue => track.id === trackFromQueue.id)) {\r\n                    songs = [...queue, currTrack]\r\n                }\r\n                else {\r\n                    songs = [track]\r\n                }\r\n            }\r\n\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLike: !this.state.isLike }, () => {\r\n            if (this.state.isLike) {\r\n                this.props.addLikeToTrack(this.props.track, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.track.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { track, idx, currStation, stations, user } = this.props\r\n        return (\r\n            // onClick={this.playTrack(track, idx)}\r\n            //button-cell\r\n            <div className=\"track-container flex\" onClick={() => this.playTrack(track, idx)}>\r\n                {this.props.currTrack && this.props.currTrack?.id === track.id && this.props.isPlaying &&\r\n                    <div className=\"track-num\"> < img className='isPlaying' src={isPlying} /></div>\r\n                }\r\n                {(!this.props.currTrack || this.props.currTrack.id !== track.id || !this.props.isPlaying) &&\r\n                    <div className=\"track-num\">{idx + 1}</div>}\r\n                <div className=\"track-img\"><img src={track.imgUrl} alt=\"\" /></div>\r\n                <div className=\"track-title\">{track.title}</div>\r\n                <div className=\"track-duration\">{this.getTimeFromDuration(track.duration)}</div>\r\n                {!this.props?.isOnDeatils && <div className='likes'>\r\n                    {\r\n                        //this.state.isLike && <img className='islike' src={heartChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                        this.state.isLike && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} className=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        !this.state.isLike && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                    }\r\n                </div>}\r\n                {\r\n\r\n                    !this.props?.isOnDeatils &&\r\n                    <div className=\"button-cell track-actions\" onClick={(ev) => { ev.stopPropagation() }}>\r\n                        <Menu menuButton={\r\n                            <MenuButton><i className=\"fas fa-ellipsis-h\"></i></MenuButton>}>\r\n                            <MenuItem onClick={() => this.props.addToNextQueue(track)}>Add To queue</MenuItem>\r\n                            {currStation && <MenuItem onClick={() => {\r\n                                this.onRemoveFromStation(track, currStation._id)\r\n\r\n                            }\r\n                            }>Remove from Playlist</MenuItem>}\r\n                            <SubMenu label=\"Add to playlist\">\r\n                                {stations.map((station) => {\r\n                                    return (<MenuItem onClick={() => { this.onAddToStation(track, station._id) }}>{station.name}</MenuItem>)\r\n                                })\r\n                                }\r\n                                <MenuItem onClick={() => eventBusService.emit(\"create-playlist\", track)}>Create playlist</MenuItem>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.props?.isOnDeatils &&\r\n                    <div className=\"add-track-wrapper\">\r\n                        <button className='add-track-btn' onClick={async (ev) => {\r\n                            ev.stopPropagation()\r\n                            await this.onAddToStation(track, this.props.stationId)\r\n                            await this.props.loadStation()\r\n                        }}>Add</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack\r\n}\r\n\r\nexport const TrackPreview = connect(mapStateToProps, mapDispatchToProps)(_TrackPreview)","export default \"data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJAwABACwAAAAAGAAYAAACRowfoIDtvdibKNKbFqb2dfdBmjeCpahMYXWyKfmab7ce9HjP+K73Uv7jBX0GYFF4JGaUxuXwmYQ6o9SptYlFXrVZJvebKgAAIfkECQMAAQAsAQABABYAFwAAAkSMDwnH7bqcZHDWdp/SyW78cREVgp05olemfiwJnS8SyyUcG7NeR3vQ87mGNZ7tmAMShUUl0phcLaVPZ3QJpTK3Wii0AAAh+QQJAwABACwBAAIAFgAWAAACRIwPCceh215DasrpatSW04Rl4DZ2z3iZp5GSqwipV8ucGv29OGtDOzzz1Hq8kitoHNqKvhsRxmQim6jnVOqsanVZKqAAACH5BAkDAAEALAEAAQAWABcAAAJGjI95wKCfmoNUKvsw0rFdn4Gb2DGfGaKjWkoTt7oGvLgoPdsvGWN4oNuxeqBfMDes2ZCTkwzIUz59RR3zCl1mhVzqrcooAAAh+QQJAwABACwBAAEAFgAXAAACQYyPecCgn5qDVNLaLrRacfRFUhaE4MgY5oJOq9rC6dO6pBeXt4jKE97TzYAj3yb3EhaVx2CyZqQhSRwo82qtUhsFACH5BAkDAAEALAEAAAAWABgAAAJBjI95wKCfmoNU0toutFrxjkifJmZgyYABOnWsMYYobHrzWkd3vOy5XKKlHi/c0BY0tnRJnlD03PiGnGLVZMVqGQUAIfkECQMAAQAsAQABABYAFwAAAjmMj3nAoJ+ag1TS2i6UVhueeQHIiCNpkpOnpqjYwm+nxHQ0h3VePraOA32AiF9vJzz1OsYJk+cMSQoAIfkECQMAAQAsAQACABYAFgAAAjOMj3nAoJ+ag1RKGi3DSG9ueBMogqFnBqW5kij7ulracjW2Xk/eQPyn+02CLyKw2FMlJQUAIfkECQMAAQAsAQADABYAFQAAAjKEEanLetjie1FOU9vFeW3YJV/obKRonqOakqvbhq8cd7Ndl9xKBT1/QO1Sv6CPaCwaCgAh+QQJAwABACwBAAIAFgAWAAACOIQRqct62OJ6sgZqI85s5+dZ4MElo1FeZ3pCXMuuJTzLr92R6ihhdOPDTXS0IGoHMhGXPKTy+CgAACH5BAkDAAEALAEAAQAWABcAAAI6hBGpy3rY4nqyBmojzmxzd3xdKIJGaUKoZz1s5ZJcfH60Ota3hO0a6Wv0aDwg8ac7DpOxxBLiezoPBQAh+QQJAwABACwBAAAAFgAYAAACQYQRqct62OJ6sgZqI85sc3d8XSiCRmlCqCeyn5u48EVO9Xjiqh4/t53z/VI9oQQjzDWQySKEaaQFSckn9RqFWg0FACH5BAkDAAEALAEAAAAWABgAAAJDhBGpy3rY4nqyBmojzmxzd3xdKIJGaUKoN5HtqbmpxF7yq84xjNO3zRsFEzXirwiEPJCYJan5dCqjMOm0Sl0asVxAAQAh+QQJAwABACwBAAAAFgAYAAACQ4QRqct62OJ6sgZqI85sc3d8XSiCRmlCjZew6UrC5zjL6qvFuM3n9U67tXQT4sU4/CUhGFeT9HzMokzpFIq1LrdHQwEAIfkECQMAAQAsAQABABYAFwAAAkCEEanLetjierIGaiPObHN3fF0ogobkJakJTWSzrurLovR8ave1422ty7lymBipuEMSk8emEKiEPKI+H5W3NBQAACH5BAkDAAEALAEAAgAWABYAAAJAhBGpy3rY4nqyBmojzmxzd0heMoJGU5Jht6KtCbknO8sxLL7qjJX96gMKa7jL8LaD/IjJppH5VB6TSynvMY0mCwAh+QQJAwABACwBAAQAFgAUAAACOYQRqct62OJ6sgZqI27bHdkloWdwn3ZOJzaya0pCbsnMMiy+dKvftLrrmYJECNCHHCYvPVuu6GQWCwAh+QQJAwABACwBAAgAFgAQAAACMoyPBgsZ3NxjDio6V8U2R9SFGMiVWiKeHama35FGK+xeJyvXqD7beQuE/Ia+mK/IcxUAACH5BAkDAAEALAEABwAWABEAAAI0jI8GC+nP2kNRsUlvqNguL3Ucl32bRh4jqpXSarrgnMBvq7JmStugf9pFdDfhsIj8EXuMAgAh+QQJAwABACwBAAYAFgASAAACNIyPBgvpz9pDUbFJb6jYLi91HCdqJDZq5bepqOmCcstmbHpHcM7rM+6jSYDAn65nPCaHjAIAIfkECQMAAQAsAQAEABYAFAAAAjeMjwYL6c/am4pRGm9dW94cgJ8VkiNXoqckYmQ7gTD01uoh2x6ud06OigBZuqEvJTwOjcgOc1gAACH5BAkDAAEALAEAAwAWABUAAAI4jI8GC+nP2puKURrvzJrz61md+GGkCJ5LtSZhW7LSKyG07NxBvKszetDxhBEfrlf8wXzEZfJIKwAAIfkEBQMAAQAsAQACABYAFgAAAj2MjwYL6c/am4pRGu/M2vHLfZgViBsZkki6VG3CSmaJ1u9qy+oRuxL+6sFyPg+RduMdZ8JIM/cMOqVU3aIAACH5BAUDAAEALAcAAQAQAAkAAAIOjA8Jx+0Po5x0qlUzvQUAIfkEBQMAAQAsAQAAABYAFQAAAhqMjwYL6Q+jnLTaS1nDvOsOhuJIluaJch9XAAAh+QQJAwABACwHAAAACgAGAAACCoyPqcsIDxSMqQAAIfkECQMAAQAsAQABABAAEwAAAh2MjwYL6cFaioo5Cu3U+PkPhuJIluaJpmq2iN1XAAAh+QQJAwABACwBAAIAEAASAAACK4wPCaZ7rGB60jUabo5U6+dxIPchpGhOmzqqZQV3J5taaNyEbr73Oc6z+QoAIfkECQMAAQAsAQABABYAEwAAAjeMDwnH7bqcZNDUiZTVeCcfddclciNHmSh2fl3Qhqzqli6Z3bQM9vDqiz12vpTuyPshi7mIsFEAACH5BAUDAAEALAEAAAAWABQAAAI3jA8Jx+26nGRw2lCvzLrxjijTZ2Sm6KFn8qgum8IrFM0lLb81vuc+ffsFgRjd0Fb8IWdLXfNXAAA7\"","import { SortableElement } from 'react-sortable-hoc';\r\nimport { TrackPreview } from './track-preview';\r\n\r\n\r\nexport const DraggableTrackPreview = SortableElement(({ track, idx, currStation, loadStation, key }) => {\r\n  return (\r\n    <TrackPreview key={key} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n  )\r\n});","import React from 'react';\r\nimport { SortableContainer } from 'react-sortable-hoc';\r\nimport { DraggableTrackPreview } from './draggable-track-preview';\r\n\r\n\r\n\r\n\r\nexport const DraggableTrackList = SortableContainer(({ songs, currStation, loadStation, \r\n}) => {\r\n  \r\n  //const sliceNum = isShowAll ? songs.length : 7\r\n  //sliceNum = songs.length>10 \r\n  return (\r\n    <div className=\"station-track-list flex column\">\r\n      <div className=\"list-headers flex\">\r\n        <div className=\"track-num-header\">#</div>\r\n        <div className=\"track-img-header\"></div>\r\n        <div className=\"track-title-header\">Title</div>\r\n        <div className=\"duration-header\"></div>\r\n        <div className=\"likes-header\"></div>\r\n        <div className=\"actions-header\">actions</div>\r\n      </div>\r\n      {\r\n\r\n        songs.map((track, idx) => {\r\n          return <DraggableTrackPreview key={track.id} index={idx} track={track} idx={idx}\r\n            currStation={currStation} loadStation={loadStation} />\r\n        })\r\n\r\n      }\r\n\r\n    </div>\r\n  )\r\n});\r\n","export default __webpack_public_path__ + \"static/media/mood-search.5f7ab9d0.jpg\";","export default __webpack_public_path__ + \"static/media/pop-search.b2ca6b17.jpg\";","export default __webpack_public_path__ + \"static/media/chill-search.8a0cf644.jpg\";","export default __webpack_public_path__ + \"static/media/summer-search.82683c03.jpeg\";","export default __webpack_public_path__ + \"static/media/latin-search.98aae0b0.jpg\";","export default __webpack_public_path__ + \"static/media/jazz-search.1a2264a3.jpg\";","export default __webpack_public_path__ + \"static/media/indie-search.68a13156.jpg\";","export default __webpack_public_path__ + \"static/media/wellness-search.9ebcb4b9.jpg\";","export default __webpack_public_path__ + \"static/media/sleep-search.44c526f7.jpg\";","export default __webpack_public_path__ + \"static/media/decades-search.677f0d60.jpg\";","export default __webpack_public_path__ + \"static/media/workout-search.1349d7b6.jpg\";","export default __webpack_public_path__ + \"static/media/party-search.eb2ad37f.jpg\";","export default __webpack_public_path__ + \"static/media/focus-search.4c8a3730.jpg\";","export default __webpack_public_path__ + \"static/media/alternativ-search.11db08a9.jpg\";","export default __webpack_public_path__ + \"static/media/travel-search.2ded0578.jpg\";","export default __webpack_public_path__ + \"static/media/soul-search.34659cee.jpg\";","export default __webpack_public_path__ + \"static/media/funk-search.b77d7780.jpg\";","export default __webpack_public_path__ + \"static/media/metal-search.8c9b428e.jpg\";","export default __webpack_public_path__ + \"static/media/classical-search.2e798a07.jpg\";","export default __webpack_public_path__ + \"static/media/blues-search.94b8b153.jpg\";","import React from 'react'\r\n\r\nimport { TrackPreview } from './track-preview'\r\n\r\nexport function TrackList({ loadStation, songs, stationId, currStation, isOnDeatils }) {\r\n    return (<>\r\n        {songs.map((track, idx) => {\r\n            return <TrackPreview  stationId={stationId} isOnDeatils={isOnDeatils} key={track._id} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n        }\r\n        )}\r\n    </>\r\n    )\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultTrack extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n\r\n                <div className='grid-search-result-container'>\r\n                    <span className='title'>songs</span>\r\n                    {trackResult.length  &&\r\n                                <TrackList songs={trackResult.slice(0, 5)} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n                    }\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\nimport { StationPreview } from './station-preview';\r\n\r\nexport class SearchResultStation extends React.Component {\r\n    state = {\r\n        stationResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { stationResult } = this.props\r\n        this.setState({ stationResult })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.stationResult !== prevProps.stationResult) {\r\n            const { stationResult } = this.props\r\n            this.setState({ stationResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { stationResult } = this.state\r\n        if (!stationResult || !stationResult.length) return <div>No station found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <h1 className='title'>Station</h1>\r\n                <div className='playlist-container flex'>\r\n                    <div className=\"flex genre\">\r\n                        {stationResult.map((station => <StationPreview key={station._id} station={station} />))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\nimport { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultStationDetails extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <TrackList loadStation={this.props.loadStation} stationId={this.props.stationId} isOnDeatils={true} songs={trackResult} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import storageService from './storage.service'\r\nimport axios from 'axios'\r\nimport { stationServiceNew } from './station.service';\r\nconst KEY = 'stations';\r\nlet songCache = []\r\nexport const youtubeApiService = {\r\n    searchTrack,\r\n    getStationByTag,\r\n}\r\n\r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function getStationByTag(tagName) {\r\n    let songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n            return {\r\n                genre: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => ({\r\n                    id: track.snippet.resourceId.videoId,\r\n                    title: track.snippet.title,\r\n                    imgUrl: track.snippet.thumbnails.high.url,\r\n                    duration: \"PT4M26S\"\r\n                }))\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        //stations = await stationServiceNew.saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport mood from '../assets/img/mood-search.jpg';\r\nimport pop from '../assets/img/pop-search.jpg';\r\nimport chill from '../assets/img/chill-search.jpg';\r\nimport summer from '../assets/img/summer-search.jpeg';\r\nimport latin from '../assets/img/latin-search.jpg';\r\nimport jazz from '../assets/img/jazz-search.jpg';\r\nimport indie from '../assets/img/indie-search.jpg';\r\nimport wellness from '../assets/img/wellness-search.jpg';\r\nimport sleep from '../assets/img/sleep-search.jpg';\r\nimport decades from '../assets/img/decades-search.jpg';\r\nimport workout from '../assets/img/workout-search.jpg';\r\nimport party from '../assets/img/party-search.jpg';\r\nimport focus from '../assets/img/focus-search.jpg';\r\nimport alternativ from '../assets/img/alternativ-search.jpg';\r\nimport travel from '../assets/img/travel-search.jpg';\r\nimport soul from '../assets/img/soul-search.jpg';\r\nimport funk from '../assets/img/funk-search.jpg';\r\nimport metal from '../assets/img/metal-search.jpg';\r\nimport classical from '../assets/img/classical-search.jpg';\r\nimport blues from '../assets/img/blues-search.jpg';\r\n//import { debounce, throttle } from 'lodash';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setCurrTrack, addToNextQueue, setQueue, playNextTrack } from '../store/station.actions.js';\r\nimport { SearchResultTrack } from '../cmps/searchResultTrack';\r\nimport { SearchResultStation } from '../cmps/searchResultStation';\r\nimport { SearchResultStationDetails } from '../cmps/searchResultStationDetails';\r\nimport { stationServiceNew } from '../services/station.service';\r\nimport { apiService, youtubeApiService } from '../services/youtubeApi.service';\r\nvar _ = require('lodash');\r\n\r\n\r\nclass _Search extends React.Component {\r\n    state = {\r\n        keySearch: null,\r\n        isOnSearch: false,\r\n        trackResult: null,\r\n        stationResult: null\r\n\r\n    }\r\n\r\n    //delayedHandleChange = _.debounce(eventData => stationService.searchTrack(eventData), 700);\r\n\r\n\r\n\r\n    delayedHandleChange = _.debounce(async () => {\r\n        if (!this.state.keySearch) return\r\n        if (this.props?.isOnDeatils) {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = []\r\n        }\r\n        else {\r\n            var trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            var stationResult = await stationServiceNew.searchStation(this.state.keySearch);\r\n            var stationResultApi = await youtubeApiService.getStationByTag(this.state.keySearch);\r\n            if (stationResultApi)\r\n                if (!stationResult.some(result => result.name === stationResultApi[0].name))\r\n                    stationResult = stationResult.concat(stationResultApi)\r\n        }\r\n        if (!trackResult) {\r\n            trackResult = []\r\n        }\r\n        // if (trackResult.length === 0) return\r\n        // else {\r\n        this.setState({ trackResult, stationResult }, () => {\r\n            this.setState({ isOnSearch: true });\r\n\r\n        })\r\n        // }\r\n    }, 700);\r\n\r\n\r\n    moveScrollDwon = _.debounce(async () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        if (homePage)\r\n            homePage.scrollTop = homePage.scrollHeight - 700\r\n    }, 800)\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.setState({ keySearch: target.value }, () => {\r\n            if (this.state.keySearch === '' || this.state.keySearch === ' ') {\r\n                this.setState({ isOnSearch: false })\r\n                return\r\n            }\r\n            this.delayedHandleChange(this.state.keySearch)\r\n            this.moveScrollDwon()\r\n        })\r\n\r\n    }\r\n\r\n    onPlayTrack = async (track = null, idx = null) => {\r\n        if (!track && !idx) {\r\n            this.setState(prevState => ({ ...prevState }))\r\n            return\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([track], idx)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { trackResult, isOnSearch, stationResult } = this.state\r\n        return (\r\n            <section className='search'>\r\n                <MainLayout>\r\n                    <form onSubmit={(ev) => ev.stopPropagation()}>\r\n                        <input type='text' placeholder='Artists, songs or podcasts ' onChange={this.handleChange} />\r\n                    </form>\r\n                    {!this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultTrack trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStation stationResult={stationResult.slice(0,2)} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    {this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStationDetails loadStation={this.props.loadStation} stationId={this.props.stationId} trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    <div className='title'>Browse all</div>\r\n                    <div className='grid-container-search'>\r\n                        <Link to=\"station/pop\">\r\n                            <div className=\"grid-element-1\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>pop</span>\r\n                                <img src={pop} />\r\n                            </div>\r\n                        </Link>\r\n                        <Link to=\"station/chill\">\r\n                            <div className=\"div3\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>chill</span> <img src={chill} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/party\">\r\n                            <div className=\"div4\" style={{ backgroundColor: 'rgb(175, 40, 150)' }} ><span>party</span><img src={party} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/focus\">\r\n                            <div className=\"div5\" style={{ backgroundColor: 'rgb(80, 55, 80)' }}><span>focus</span><img src={focus} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/alternative\">\r\n                            <div className=\"div6\" style={{ backgroundColor: 'rgb(180, 155, 200)' }}><span>alternativ</span><img src={alternativ} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/summer\">\r\n                            <div className=\"div14\" style={{ backgroundColor: 'rgb(255, 200, 100)' }}><span>summer</span><img src={summer} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/indie\">\r\n                            <div className=\"div7\" style={{ backgroundColor: 'rgb(96, 129, 8)' }}><span>indie</span><img src={indie} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/latin\">\r\n                            <div className=\"div19\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>latin</span><img src={latin} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/wellness\">\r\n                            <div className=\"div8\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>wellness</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/sleep\">\r\n                            <div className=\"div9\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>sleep</span><img src={sleep} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/decade\">\r\n                            <div className=\"div10\" style={{ backgroundColor: 'rgb(186, 93, 7)' }}><span>decades</span><img src={decades} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/workout\">\r\n                            <div className=\"div11\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>workOut</span><img src={workout} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/at-home\">\r\n                            <div className=\"div12\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>at Home</span><img src={wellness} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/travel\">\r\n                            <div className=\"div13\" style={{ backgroundColor: 'rgb(45, 70, 185)' }}><span>travel</span><img src={travel} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/souls\">\r\n                            <div className=\"div15\" style={{ backgroundColor: 'rgb(220, 20, 140)' }}><span>soul</span><img src={soul} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/jazz\">\r\n                            <div className=\"div16\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>jazz</span><img src={jazz} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/funk\">\r\n                            <div className=\"div17\" style={{ backgroundColor: 'rgb(230, 30, 50)' }}><span>funk</span><img src={funk} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/mood\">\r\n                            <div className=\"grid-element-2\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>mood</span><img src={mood} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/metal\">\r\n                            <div className=\"div18\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>metal</span><img src={metal} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/classical\">\r\n                            <div className=\"div20\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>classical</span><img src={classical} /></div>\r\n                        </Link>\r\n                        <Link to=\"station/blues\">\r\n                            <div className=\"div21\" style={{ backgroundColor: 'rgb(13, 115, 236)' }}><span>blues</span><img src={blues} /></div>\r\n                        </Link>\r\n\r\n                    </div>\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue,\r\n    setQueue\r\n}\r\n\r\n\r\nexport const Search = connect(mapStateToProps, mapDispatchToProps)(_Search)","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setCurrTrack, addToNextQueue, setQueue, loadStations, toggleIsPlaying } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport stationImg from '../assets/img/stationImg.jpg'\r\nimport { arrayMove } from 'react-sortable-hoc';\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport { DraggableTrackList } from '../cmps/draggable-track-list.jsx';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { Search } from './search.jsx';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { youtubeApiService } from '../services/youtubeApi.service.js';\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\n\r\nclass _StationDetails extends Component {\r\n    state = {\r\n        stationId: null,\r\n        station: null,\r\n        isPlaying: false,\r\n        songs: null,\r\n        isLike: false,\r\n        isFindMore: false,\r\n        isShowAll: false\r\n    }\r\n    async componentDidMount() {\r\n        await this.loadStation()\r\n        let { user } = this.props\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = this.props.user\r\n        }\r\n        if (this.state.station && this.state.station._id) {\r\n            if (user.likedStations.includes(this.state.station._id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        const { stationId } = this.props.match.params\r\n        if (prevProps.user?.likedTracks.length !== this.props.user?.likedTracks.length) return this.loadStation()\r\n        if (stationId !== this.state.station?._id && stationId !== this.state.station?.genre) {\r\n            await this.loadStation()\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (this.state.station) {\r\n                if (user.likedStations.includes(this.state.station._id)) {\r\n                    this.setState({ isLike: true })\r\n                }\r\n                else this.setState({ isLike: false })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    loadStation = async () => {\r\n        const { stationId } = this.props.match.params;\r\n        let station\r\n        try {\r\n            //only for guest\r\n            station = await stationServiceNew.getStationFromLocal(stationId)//search in local storage\r\n            if (!station)\r\n                if (stationId.length === 24) {\r\n                    station = await stationServiceNew.getStationById(stationId)\r\n                    console.log('got by id', station);\r\n                } else {\r\n                    station = await stationServiceNew.getStationByGenre(stationId)\r\n                    console.log('got by genre', station);\r\n                }\r\n            if (!station) {\r\n                station = await youtubeApiService.getStationByTag(stationId)\r\n                if (station)\r\n                    station = station[0]\r\n                console.log('got from api', station);\r\n            }\r\n            let user;\r\n            if (stationId === 'likedTracks') {\r\n                user = await this.props.user\r\n                if (!user) {\r\n                    await this.props.loadUser();\r\n                    user = await this.props.user\r\n                }\r\n                if (user.likedTracks) {\r\n                    station.songs = [...user.likedTracks]\r\n                }\r\n                else {\r\n                    console.log('no liked tracks');\r\n                }\r\n            }\r\n            if (station) {\r\n                this.setState({ station, stationId: station._id, songs: station.songs })\r\n            }\r\n            else this.setState({ station: [] })\r\n        }\r\n        catch {\r\n            console.log('had issues');\r\n        }\r\n    }\r\n\r\n    playRandTrack = async () => {\r\n        if (!this.props.currTrack || this.props.playedStation !== this.state.station._id) {\r\n            const songs = [...this.state.station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], this.state.stationId);\r\n        }\r\n        this.props.toggleIsPlaying()\r\n    }\r\n\r\n\r\n    onSortEnd = ({ oldIndex, newIndex }) => {\r\n        const { station } = this.state\r\n        station.songs = arrayMoveImmutable(station.songs, oldIndex, newIndex)\r\n        this.setState((prevState) => ({ ...prevState, station }), () => {\r\n            if (this.props.currTrack && this.props.playedStation === this.state.stationId) {\r\n                this.props.setQueue([...station.songs], this.state.stationId)\r\n            }\r\n        })\r\n    }\r\n\r\n    toggleLike = async (ev, stationOrTrack) => {\r\n        ev.stopPropagation()\r\n        this.setState(prevState => {\r\n            return { ...prevState, isLike: !this.state.isLike }\r\n        }, () => this.handleToggleLike(stationOrTrack))\r\n    }\r\n\r\n    handleToggleLike = async (stationOrTrack) => {\r\n        if (this.state.isLike) {\r\n            //if the station is from the search\r\n            if (!this.state.station._id) {\r\n                const stationToSave = await stationServiceNew.saveStation(this.state.station)\r\n                this.setState({ station: stationToSave })\r\n                await this.props.addLikeToTrack(stationToSave._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n            else {\r\n                this.props.addLikeToTrack(this.state.station._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n        }\r\n        else {\r\n            this.props.removeLikeFromTrack(this.state.station._id, stationOrTrack)\r\n            showErrorMsg('Removed from Your Library')\r\n        }\r\n        const { stationId } = this.state\r\n        //if (stationId === 'likedTracks') {\r\n        this.loadStation()\r\n        //}\r\n\r\n    }\r\n\r\n    // Niv Original Code\r\n    //========================\r\n    // this.setState({ isLike: !this.state.isLike }, async () => {\r\n    //     if (this.state.isLike) {\r\n    //         //if the station is from the search\r\n    //         if (!this.state.station._id) {\r\n    //             const stationToSave = await stationServiceNew.saveStation(this.state.station)\r\n    //             this.props.addLikeToTrack(stationToSave._id, stationOrTrack)\r\n    //             showSuccessMsg('Saved to Your Library')\r\n\r\n    //         }\r\n    //         else {\r\n    //             this.props.addLikeToTrack(this.state.station._id, stationOrTrack)\r\n    //             showSuccessMsg('Saved to Your Library')\r\n    //         }\r\n    //     }\r\n    //     else {\r\n    //         this.props.removeLikeFromTrack(this.state.station._id, stationOrTrack)\r\n    //         showErrorMsg('Removed from Your Library')\r\n    //     }\r\n    //     const { stationId } = this.state\r\n    //     if (stationId === 'likedTracks') {\r\n    //         this.loadStation()\r\n    //     }\r\n\r\n    // })\r\n\r\n    handleFindMore = () => {\r\n        this.setState({ isFindMore: !this.state.isFindMore }, () => {\r\n            this.moveSrollDown()\r\n        });\r\n\r\n    }\r\n\r\n    moveSrollDown = () => {\r\n        console.log('moving scroll down');\r\n        const homePage = document.querySelector('.station-details')\r\n        console.log('scrollHeight', homePage.scrollHeight);\r\n        homePage.scrollTop = homePage.scrollHeight\r\n    }\r\n\r\n    render() {\r\n        const { station, isFindMore } = this.state\r\n        const { user } = this.props\r\n        const { stationId } = this.props.match.params;\r\n        if (!station) return <Loading />\r\n        //const { loadStations, addToNextQueue, stations } = this.props;\r\n        return (\r\n            <section className='station-details'>\r\n                <div className=\"station-head flex\">\r\n                    {station.songs?.length > 0 &&\r\n                        <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} />\r\n                    }\r\n                    {!station.songs.length &&\r\n                        <img src={stationImg} />\r\n                    }\r\n                    <div className=\"title-details\">\r\n                        <p>Playlist</p>\r\n                        <h1>{station.name}</h1>\r\n                        <ul className=\"clean-list flex\">\r\n                            <li>{station.createdBy?.fullname}</li>\r\n                            <li>{station.songs.length} songs</li>\r\n                            {/*<li>{station?.likedByUsers.length}likes</li>*/}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <Link className=\"fas back fa-chevron-left\" to=\"/\"></Link>\r\n                <div className='bar-action flex'>\r\n                    <button className=\"play-rand\" onClick={this.playRandTrack}>\r\n                        <i class={this.props.isPlaying && this.props.playedStation === station._id ? \"fas fa-pause\" : \"fas fa-play\"}></i>\r\n                    </button>\r\n\r\n                    {\r\n                        (stationId !== 'likedTracks' && this.state.isLike) && <span className='isLike' style={{ fontSize: \"32px\" }} onClick={(ev) => { this.toggleLike(ev, 'station') }} class=\"fas fa-heart\"></span>\r\n                    }\r\n                    {\r\n                        (stationId !== 'likedTracks' && !this.state.isLike)\r\n                        && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev, 'station') }} />\r\n                    }\r\n                </div>\r\n                <MainLayout>\r\n\r\n                    <DraggableTrackList songs={station.songs} currStation={station}\r\n                        axis='xy' loadStation={this.loadStation} onSortEnd={this.onSortEnd}\r\n                        distance='20' />\r\n                    <div className='show-btn flex'>\r\n                        {/*{\r\n                            station.songs.length > 10 &&\r\n                            <div className={`find-more ${!isShowAll ? \"green\" : \"\"}`} onClick={() => { this.setState({ isShowAll: !this.state.isShowAll }) }}>\r\n                                {isShowAll ? 'Show less' : 'Show all playlist'}\r\n                            </div>\r\n                        }*/}\r\n\r\n                        {/* original handle */}\r\n                        {/* () => { this.setState({ isFindMore: !this.state.isFindMore */}\r\n\r\n                        {<div className={`find-more ${!isFindMore ? \"green\" : \"\"}`} onClick={this.handleFindMore}>\r\n                            {isFindMore ? 'Find less' : 'Find more tracks!'}\r\n                        </div>}\r\n                    </div>\r\n                    {isFindMore &&\r\n                        <>\r\n                            <span>Let's find something to your station</span>\r\n                            <Search loadStation={this.loadStation} stationId={this.state.stationId} isOnDeatils={true}\r\n                            />\r\n                        </>\r\n                    }\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    loadStations,\r\n    addToNextQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack,\r\n    toggleIsPlaying,\r\n}\r\n\r\n\r\nexport const StationDetails = connect(mapStateToProps, mapDispatchToProps)(_StationDetails)","import React from 'react'\r\nimport { StationDetails } from './station-details'\r\nimport { connect } from 'react-redux'\r\nimport { TrackList } from '../cmps/trackList'\r\nimport { setCurrTrack, addToNextQueue } from '../store/station.actions.js';\r\nimport { TrackPreview } from '../cmps/track-preview';\r\nimport { Link } from 'react-router-dom'\r\nimport { MainLayout } from '../cmps/layout/MainLayout';\r\n\r\nclass _Queue extends React.Component {\r\n    componentDidMount() {\r\n        document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n    }\r\n\r\n\r\n\r\n    onAddToNextQueue = (track) => {\r\n        this.props.addToNextQueue(track)\r\n    }\r\n    render() {\r\n\r\n        const songs = this.props.queue\r\n        if (!songs.length && !this.props.playNextQueue) return <div><span>Add to your queue</span>\r\n            <span>Tap \"Add to queue\" from a trackws menu to see it here</span>\r\n            <Link to='/search'>\r\n                <button>FIND SOMETHING TO PLAY</button>\r\n            </Link>\r\n        </div>\r\n\r\n\r\n        return (\r\n            <div className='queue-page'>\r\n                <MainLayout>\r\n                    <div className='station-track-list flex column'>\r\n                        <div className=\"queue-header\">\r\n                            <h2>Queue</h2>\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>New Playing</h4>\r\n                        </div>\r\n                        <div className=\"now-playing-container\">\r\n                            {\r\n                                this.props.currTrack &&\r\n                                <TrackPreview track={this.props.currTrack} idx={0} playTrack={() => { }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Playing Next Queue</h4>\r\n                        </div>\r\n                        <div className=\"playing-next-queue-container\">\r\n                            {\r\n                                this.props.playNextQueue &&\r\n                                <TrackList songs={this.props.playNextQueue} onAddToNextQueue={this.onAddToNextQueue} idx={0} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} />\r\n                            }\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Queue</h4>\r\n                        </div>\r\n                        <div className=\"queue-container\">\r\n\r\n                            {\r\n                                songs &&\r\n                                <TrackList songs={songs} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </MainLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        queue: state.stationMoudle.queue,\r\n        playNextQueue: state.stationMoudle.playNextQueue\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue\r\n}\r\n\r\n\r\nexport const Queue = connect(mapStateToProps, mapDispatchToProps)(_Queue)\r\n\r\n","export default __webpack_public_path__ + \"static/media/enter.bc102390.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport enter from '../assets/img/enter.png'\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Lotify      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\n\r\nclass _Signin extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    }\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      }\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onLogin = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onLogin(this.state.credentials)\r\n    this.clearState()\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n              <img style={{ height: \"30px\" }} src={enter} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={this.onLogin} noValidate sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"username\"\r\n                label=\"username\"\r\n                type=\"password\"\r\n                id=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={this.handleChange}\r\n                value={username}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={this.handleChange}\r\n                value={password}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href=\"/signup\" variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 8, mb: 4 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signin = connect(mapStateToProps, mapDispatchToProps)(_Signin)\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.0a7c2920.png\";","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup, onLogout } from '../store/user.actions.js'\r\nimport user from '../assets/img/user.png'\r\n\r\n\r\n\r\nfunction Copyright(props) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        mister toy</Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\nclass _Signup extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isAdmin: false\r\n    },\r\n    isSignup: false,\r\n    isLogin: false\r\n  }\r\n\r\n  clearState = () => {\r\n    const clearTemplate = {\r\n      credentials: {\r\n        username: '',\r\n        password: '',\r\n        fullname: ''\r\n      },\r\n      isSignup: false\r\n    }\r\n    this.setState({ clearTemplate })\r\n  }\r\n  handleChange = (ev) => {\r\n    const field = ev.target.name;\r\n    const value = ev.target.value;\r\n    this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n  }\r\n\r\n  onSignup = async (ev = null) => {\r\n    if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n    if (ev) ev.preventDefault();\r\n    const loginUser = await this.props.onSignup(this.state.credentials);\r\n    if (loginUser) {\r\n      this.props.history.push(`/`)\r\n    }\r\n    this.clearState()\r\n  }\r\n\r\n\r\n  render() {\r\n    const { username, password, fullname } = this.state.credentials;\r\n    return (\r\n      <ThemeProvider theme={theme} >\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <img style={{ height: \"28px\" }} src={user} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign up\r\n            </Typography>\r\n            <Box component=\"form\" noValidate onSubmit={this.onSignup} sx={{ mt: 3 }}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    autoComplete=\"fullname\"\r\n                    name=\"fullname\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"fullname\"\r\n                    label=\"fullname\"\r\n                    autoFocus\r\n                    value={fullname}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    id=\"username\"\r\n                    label=\"username\"\r\n                    name=\"username\"\r\n                    autoComplete=\"username\"\r\n                    value={username}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"new-password\"\r\n                    value={password}\r\n                    onChange={this.handleChange}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <FormControlLabel\r\n                    control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                    label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n              <Grid container justifyContent=\"flex-end\">\r\n                <Grid item>\r\n                  <Link href=\"/\" variant=\"body2\">\r\n                    Already have an account? Sign in\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n          <Copyright sx={{ mt: 5 }} />\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    //user: state.userModule.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin, onSignup, onLogout\r\n}\r\n\r\nexport const Signup = connect(mapStateToProps, mapDispatchToProps)(_Signup)\r\n\r\n","import { Link } from 'react-router-dom'\r\nimport { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass _LikedSongsPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        let songs;\r\n        if (!currStation || station._id !== currStation._id) {\r\n\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            if (user.likedTracks) {\r\n                songs = [...user.likedTracks]\r\n            }\r\n            else {\r\n                console.log('no liked tracks');\r\n            }\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (stationId) => {\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        if (!station) return <div> not found</div>\r\n        return (\r\n            <div className=\"station-preview liked-songs-link\" onClick={() => this.navigateToStation(station.genre)}>\r\n                <h3 className=\"station-name-header\">{station.name}</h3>\r\n                <p className=\"station-desc\">\r\n                    {station.songs.reduce((songStr, song) => {\r\n                        songStr += song.title\r\n                        return songStr;\r\n                    }, '').slice(0, 30) + '...'}\r\n                </p>\r\n                <div className=\"liked-songs-play-icon-container\" onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    this.playRandTrack()\r\n                }}>\r\n                    <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        currStation: state.stationMoudle.currStation,\r\n        user: state.userMoudle.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    loadUser,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __LikedSongsPreview = connect(mapStateToProps, mapDispatchToProps)(_LikedSongsPreview)\r\nexport const LikedSongsPreview = withRouter(__LikedSongsPreview);\r\n// export function LikedSongsPreview({ station }) {\r\n    // return (\r\n    //     <Link className=\"station-preview liked-songs-link\" to={`/station/${station._id}`}>\r\n    //         <h3 className=\"station-name-header\">{station.name}</h3>\r\n    //         <p className=\"station-desc\">\r\n    //             {station.songs.reduce((songStr, song) => {\r\n    //                 songStr += ',' + song.title\r\n    //                 return songStr;\r\n    //             }, '').slice(0, 30) + '...'}\r\n    //         </p>\r\n    //     </Link>\r\n//         // </div>\r\n//     )\r\n// }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { LikedSongsPreview } from '../cmps/liked-songs-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\n\r\nclass _Stations extends Component {\r\n  state = {\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadStations();\r\n    document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n\r\n  }\r\n\r\n\r\n  getLikedSongsStation = (stations) => {\r\n    // console.log('stations from stations', stations);\r\n    return stations.find(station => station.genre === 'likedTracks')\r\n  }\r\n\r\n  render() {\r\n    let { stations } = this.props\r\n    if (!stations) return <h1>loading...</h1>\r\n    const likedSongsStation = this.getLikedSongsStation(stations)\r\n    stations = stations.filter(station => station._id !== 'likedTracks')\r\n    return (\r\n      <div className=\"station-page\">\r\n        <div className=\"station-container\">\r\n          <MainLayout>\r\n            <header className=\"stations-header\">\r\n              <h1>Playlists</h1>\r\n            </header>\r\n            <section className='card stations'>\r\n              <div className=\"flex genre\">\r\n                <LikedSongsPreview station={likedSongsStation} />\r\n                {stations.map(station => <StationPreview key={station._id} station={station} />)}\r\n              </div>\r\n            </section>\r\n            {/* </div> */}\r\n          </MainLayout >\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n\r\n\r\n    return (\r\n      <div className=\"stations-wrapper\">\r\n        <MainLayout>\r\n          <header>\r\n            <h1>Playlists</h1>\r\n          </header>\r\n          <section className='stationss-container card-grid'>\r\n\r\n            {stations.map((station, idx) => {\r\n              return idx === 0 ?\r\n                <LikedSongsPreview key={station._id} station={station} /> :\r\n                <StationPreview key={station._id} station={station} />\r\n\r\n            })\r\n            }\r\n          </section>\r\n          {/* </div> */}\r\n        </MainLayout >\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadStations,\r\n}\r\n\r\n\r\nexport const Stations = connect(mapStateToProps, mapDispatchToProps)(_Stations)","export default __webpack_public_path__ + \"static/media/gramophone.fe94f89c.png\";","import React, { Component } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setUserPref, loadUser } from '../store/user.actions'\r\nimport { userService } from '../services/user.service.js';\r\nimport logo from '../assets/img/gramophone.png'\r\n\r\n\r\n\r\nclass _UserPref extends Component {\r\n    state = {\r\n        artists: [{ artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' },\r\n        { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n\r\n    selectArtist = ({ target }, artist) => {\r\n        if (target.parentElement.classList.contains('selected')) return\r\n        target.parentElement.classList.add('selected')\r\n        const img = target.parentElement.children[0].src;\r\n        this.setState((prevState) => ({ artists: [...prevState.artists, { artist, img }] }), () => {\r\n            if (this.state.artists.length >= 6) {\r\n                this.props.setUserPref([...this.state.artists, { artist, img }])\r\n            }\r\n        })\r\n        // this.props.loadUser()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { stations, user } = this.props\r\n        if (!stations || !user) return <h1>loading...</h1>\r\n        if (user.userPref?.length >= 5) {\r\n            // console.log(user.userPref.length, 'user.userPref.length');\r\n            return <Redirect to='/home' />\r\n        }\r\n        return (\r\n            <div className=\"user-pref\">\r\n                <header>\r\n                    <h1>Choose at least 4 of your favorite artists</h1>\r\n                    <p>Improve your experience</p>\r\n                </header>\r\n                <MainLayout>\r\n                    <div className=\"artists\">\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kaleo')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrZSbWTyBAENocILL6FsPxL0FcSRdA0XNnDExc8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kaleo</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'donald glover')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR54qbXPUrgKCf0tmiquuqTiYDElO_Cekw-pSCs_g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Donald Glover</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'sia')}>\r\n                            <img src=\"https://yt3.ggpht.com/0xb0rVHF2QHhnmQA5xKQiqPPPuq0gQbHkM8zCvR4vEpvWDNhSSJYUuGXmWZHAjNHJYebQim2=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Sia</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'justin bieber')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Justin Bieber</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'led zepplin')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRfwQJh6x8tdSDOPuMENrMgWxp6c9Wyi4k5dL3QeA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Led Zeppelin</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'eminem')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSk-AeebphZllYPnC6dyL4Ebaufx9EfWWcpWi5kvw=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Eminem</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ed sheeran')}>\r\n                            <img src=\"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ed Sheeran</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ariana grande')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrULhlsqTk0LW6WZ4ufoPC2vRrI-Hv7iQMcwALzA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ariana Grande</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'nirvana')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTcKOFg-V_beC58driCSWsjY01b2yASCkXpLo6z=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Nirvana</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'avicii')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRxjYtdXH5SpVo0Hbgj-MV9iSYOZkPnyGBPX3dBtQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Avicii</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'motzart')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR-UxFlle0Li25HB_1AmFLgE1EZ5oF5lsGIojom=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Motzart</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beyonce')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSYFl86h5I9oWxAlUCb9ujyZVYus_NrMBnLnQZq=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beyonc</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'taylor swift')}>\r\n                            <img src=\"https://yt3.ggpht.com/MqKm9xyjonzkICKA78ir0AM-WUR47ntkBeJlgHeIk_rUnPuukiWtzOEmU7UjO8cFoPrBatCh3As=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Taylor Swift</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'blink 182')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLS9wSSSch2T5RCOqeWes0CQPq6CuE7n6BH6SGqp9g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Blink-182</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'twenty one pilots')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLShoAv85PyHPQZXkdEYAirEFkVlHT7QL0SO4jnLPQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Twenty one pilots</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'coldplay')}>\r\n                            <img src=\"https://yt3.ggpht.com/gDGaWA0ykI0RuD-x0tOtlZQp_pmfqXMastg2rAJhCoGXeG7a44LL0BlSOZ1nQpuaj5apqzjxa4Y=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Coldplay</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'imagine dragons')}>\r\n                            <img src=\"https://yt3.ggpht.com/aXBmHKABw-J-0ZMxj39wkXpLDEHViOdL5UD71cDG2s5vbeQBWk9mdX3rRxT5U6Wfkvm6o8Uu-dU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Imagine dragons</h3>\r\n                            \r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ac/dc')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR5p4C0mvYOySvgi0lcJEQ2b9GQ5RENU_js8bHV=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>AC/DC</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'martin garrix')}>\r\n                            <img src=\"https://yt3.ggpht.com/in7ji16oeon_ypiAMeH-ZdTWSaIC54yZqMsFg0X3uhTBk4MDCuIkRf6TIoQQCqjl20DSdakhSQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Martin Garrix</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'chainsmokers')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLReODCO_8A0kTfEi7hIofuikdVUmLtUI31Y3JTk8g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Chainsmokers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'stromae')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRmW311L8rsVEfFzaHyrhrSlxLBdMpzimz6IbmjFQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Stromae</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'billie eilish')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Billie Eilish</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'james arthur')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTBGfA-SCl13HK2wvNgIlYp4csR75r4iedoDbDQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>James Arthur</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'metallica')}>\r\n                            <img src=\"https://yt3.ggpht.com/cZ87jDcUyng8WCTC_FZIZhtjd0VQIoyla_GLOCqCJwiePKbnsgMFAoJlJXO3JUdIDiG0U-W-Q-U=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Metallica</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beartooth')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTrxAVj8B25pE4f3QOevhtu2aQPCeu9s6JSqR9hOg=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beartooth</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'michael jackson')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Michael Jackson</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'lily allen')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSlQDVT6TciEB3aqI4j98pAANAN37aLz6TIUCVX1g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Lily Allen</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the lumineers')}>\r\n                            <img src=\"https://yt3.ggpht.com/JeSo37nuDNtXpYeRCXkdSd0BY1EBwOX3DjsoI7h5qS8qtURwdacx87aGyLsW-Zt_xHst5YN0j2A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Lumineers</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the neighbourhood')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLQuDzCsZ6o-eJrE-VN4V6hEvVasPCudmbpW1etVWQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Neighbourhood</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'aerosmith')}>\r\n                            <img src=\"https://yt3.ggpht.com/GVz2Q0BOmqNFKQvNXSoC5rVJWqvsajttYdF0VN6lYfwK2Misv-NJr_5akFEHxc8YkyGquGoZ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Aerosmith</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'earth wind and fire')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSluhlgTQdg-VPnftxDahd5w3uqU7gZzQ2HN2Ocig=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Earth ,wind and fire </h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'mgmt')}>\r\n                            <img src=\"https://yt3.ggpht.com/uAFVZ2fFM7MshpUPfUxDWC_zZoXS9LYYKVu9WtmERQsei97F7oG0EJxLKZpmIxCBk-ZO6I2FiQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>MGMT</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'bruno mars')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRRqICmdfNojkf55KFwEqi1A2Yh0dcSyIsXxkOWmFM=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Bruno Mars</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kanye west')}>\r\n                            <img src=\"https://yt3.ggpht.com/OZ6-K14IWCEu6rgIgmox9cID8hTUObJ9uPn_BRwr4O1CNyB_u6N3BqpaztggGYfKVv4rdR0zPYU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kanye West</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'tash sultana')}>\r\n                            <img src=\"https://yt3.ggpht.com/iWAic-fKa7o7IGIzND9MiSKPqjL6Kb3fkd4gr_jRX7tKkjOMgZ5Ems3COKImBF8-szRTswzU8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Tash Sultana</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'milky chance')}>\r\n                            <img src=\"https://yt3.ggpht.com/rxuJTmm-nGWtgvPdVyePl4PdDIwhEopv78WM7jyj6UI3ChJYjCOMd7c_AbuYSdzYMs2AMCu1WQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Milky Chance</h3>\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </div>\r\n                    </div>\r\n                </MainLayout >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setUserPref,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const UserPref = connect(mapStateToProps, mapDispatchToProps)(_UserPref)","//import {HomePage} from './pages/home-page.jsx'\r\n//import {AboutUs} from './pages/about-us.jsx'\r\n//import {CarApp} from './pages/car-app.jsx'\r\n\r\nimport {Friends} from \"./pages/friends\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Queue } from \"./pages/queue\";\r\nimport { Search } from \"./pages/search\";\r\nimport { Signin } from \"./pages/signin\";\r\nimport { Signup } from \"./pages/signup\";\r\nimport { StationDetails } from \"./pages/station-details\";\r\nimport { Stations } from \"./pages/stations\";\r\nimport { UserPref } from \"./pages/user-pref\";\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: UserPref,\r\n    },\r\n\r\n    {\r\n        path: '/home',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/station/:stationId',\r\n        component: StationDetails,\r\n    },\r\n    {\r\n        path: '/queue',\r\n        component: Queue,\r\n    },\r\n    {\r\n        path: '/friends',\r\n        component: Friends,\r\n    },\r\n    {\r\n        path: '/search',\r\n        component: Search\r\n    },\r\n    {\r\n        path: '/stations',\r\n        component: Stations\r\n    }\r\n\r\n\r\n]\r\n\r\nexport default routes;","import React, { Component } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Slider from '@mui/material/Slider';\r\nimport ReactPlayer from 'react-player'\r\nimport { connect } from 'react-redux'\r\nimport { setFriendCurrTrack } from '../store/friends.actions.js'\r\n\r\nimport {\r\n    setPlay, playNextTrack, playPrevTrack, shuffleQueue, toggleIsPlaying,\r\n    setCurrTrack, setQueue, unshuffleQueue, setCurrStation\r\n} from '../store/station.actions.js';\r\nimport { Duration } from '../services/util.service';\r\nimport { withRouter } from \"react-router\";\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { addLikeToTrack, loadUser, loadUsers, removeLikeFromTrack } from '../store/user.actions';\r\nimport { eventBusService, showErrorMsg, showNotificationMsg, showSuccessMsg } from '../services/event-bus.service.js';\r\nimport { socketService } from '../services/socket.service'\r\n\r\n\r\n\r\nclass _AppFooter extends Component {\r\n    state = {\r\n        volume: 30,\r\n        isPlayedTrack: false,\r\n        played: 0,\r\n        loaded: 0,\r\n        duration: 0,\r\n        inQueue: false,\r\n        isShuffle: false,\r\n        isLiked: false,\r\n        trackAndUsers: [],\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        socketService.setup()\r\n        socketService.on('send notification', (obj) => {\r\n            console.log(obj.username, obj.stationName, 'username, stationName');\r\n            showNotificationMsg(obj.username + ' liked your playlist: ' + obj.stationName)\r\n            eventBusService.emit(obj.username)\r\n        })\r\n        socketService.on('send follow notification', (username) => {\r\n\r\n            showNotificationMsg(username + ' followd you')\r\n            eventBusService.emit(username)\r\n        })\r\n        socketService.on('user track', ({ track, user }) => {\r\n            this.props.setFriendCurrTrack({ track, user, currLoginUser: this.props.user })\r\n        })\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevstate) {\r\n        if (this.props.currTrack !== prevProps.currTrack) {\r\n            socketService.emit('play track', { track: this.props.currTrack, user: this.props.user })\r\n            this.isTrackLiked()\r\n            //this.props.toggleIsPlaying();\r\n            this.props.setPlay()\r\n            this.setState({ played: 0, duration: 0 })\r\n        }\r\n        if (!this.props.user || !prevProps.user) return\r\n        if (this.props.user.likedTracks.length !== prevProps.user.likedTracks.length) {\r\n            this.isTrackLiked()\r\n        }\r\n    }\r\n\r\n    isTrackLiked = () => {\r\n        if (!this.props.currTrack) return\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        const isLiked = trackIdxs.includes(this.props.currTrack.id)\r\n        this.setState({ isLiked })\r\n        return isLiked\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        this.setState({ volume: newValue });\r\n    }\r\n\r\n    playRandTrack = async (stations) => {\r\n        let randIdx = Math.floor(Math.random() * (stations.length))\r\n        let station = stations[randIdx]\r\n        while (station.genre === 'likedTracks') {\r\n            randIdx = Math.floor(Math.random() * (stations.length))\r\n            station = stations[randIdx]\r\n        }\r\n        const songs = [...station.songs];\r\n        const idx = Math.floor(Math.random() * (songs.length))\r\n        const track = songs[idx]\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([...songs], station._id);\r\n        this.props.setCurrStation(station)\r\n        this.props.setPlay()\r\n    }\r\n\r\n    togglePlay = async () => {\r\n        if (!this.props.currTrack) {\r\n            await this.playRandTrack(this.props.stations)\r\n        }\r\n        else if (this.state.isLoaded)\r\n            this.props.toggleIsPlaying();\r\n\r\n        // original code\r\n        // if (this.state.isLoaded)\r\n        // this.props.toggleIsPlaying();\r\n    }\r\n\r\n\r\n    handleSeekMouseDown = e => {\r\n        if (!this.props.currTrack) return\r\n        this.setState({ seeking: true })\r\n    }\r\n\r\n    handleSeekChange = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ played: parseFloat(e.target.value) },\r\n        )\r\n    }\r\n\r\n    handleSeekMouseUp = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ seeking: false })\r\n        this.player.seekTo(parseFloat(e.target.value))\r\n    }\r\n\r\n    handleProgress = state => {\r\n        // We only want to update time slider if we are not currently seeking\r\n        if (!this.state.seeking) {\r\n            this.setState(state)\r\n        }\r\n    }\r\n\r\n\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    ref = player => {\r\n        this.player = player\r\n    }\r\n\r\n\r\n    goNext = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    goShuffle = () => {\r\n        if (this.state.isShuffle) {\r\n            this.props.unshuffleQueue(this.props.playedStation)\r\n        } else {\r\n            this.props.shuffleQueue([...this.props.queue])\r\n        }\r\n        this.setState({ isShuffle: !this.state.isShuffle })\r\n    }\r\n\r\n    goPrev = () => {\r\n        this.props.playPrevTrack()\r\n    }\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    handleEnded = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    inQueue = async () => {\r\n        this.setState({ inQueue: !this.state.inQueue }, () => {\r\n            if (this.state.inQueue)\r\n                this.props.history.push(`/queue`)\r\n            else {\r\n                this.props.history.goBack()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLiked: !this.state.isLiked }, () => {\r\n            if (this.state.isLiked) {\r\n\r\n                this.props.addLikeToTrack(this.props.currTrack, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.currTrack.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    //handleToggleMuted = () => {\r\n    //    let volume = this.state.volume > 5 ? 5 : 30\r\n    //    this.setState({ muted: !this.state.muted, volume })\r\n    //}\r\n\r\n    onGoToplaylist = () => {\r\n        if (!this.props.playedStation) return\r\n        this.props.history.push(`/station/${this.props.playedStation}`)\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { played, duration, volume, isShuffle, isGetNotification, notificationMsg } = this.state\r\n        const { isPlaying } = this.props\r\n        const track = this.props.currTrack\r\n        return (\r\n            <div className=\"player-container\">\r\n                {\r\n                    track &&\r\n                    <div className='player'>\r\n                        <ReactPlayer\r\n                            ref={this.ref}\r\n                            playing={isPlaying}\r\n                            url={`https://www.youtube.com/watch?v=${track.id}`}\r\n                            onDuration={this.onDuration}\r\n                            onProgress={this.onProgress}\r\n                            width='0px'\r\n                            heigth='0px'\r\n                            volume={volume / 100}\r\n                            // onSeek={e => console.log('onSeek', e)}\r\n                            onProgress={this.handleProgress}\r\n                            onDuration={this.handleDuration}\r\n                            onReady={() => { this.setState({ isLoaded: true }) }}\r\n                            controls='false'\r\n                            onEnded={this.handleEnded}\r\n                            muted={false}\r\n                        />\r\n                    </div>\r\n                }\r\n                <div className='playing-bar'>\r\n                    <div className='song-name-bar'>\r\n                        <div className='img-container-player'>\r\n                            {\r\n                                track &&\r\n                                <img onClick={this.onGoToplaylist} className='track-img' src={track.imgUrl} />\r\n                            }\r\n                        </div>\r\n                        <div onClick={this.onGoToplaylist} className=\"song-name\">\r\n                            <p>\r\n                                {track ? track.title : \"\"}\r\n                            </p>\r\n                        </div>\r\n                        {track && <div className=\"like-heart\">\r\n                            {\r\n                                this.state.isLiked && <span className='isLike' onClick={(ev) => { this.toggleLike(ev) }} class=\"fas fa-heart\"></span>\r\n                            }\r\n                            {\r\n                                !this.state.isLiked && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} />\r\n                            }\r\n                        </div>}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"player-controls\">\r\n                        <div className=\"player-controls-btn flex\">\r\n                            <span className={isShuffle ? \"fas fa-random green\" : \"fas fa-random\"} onClick={this.goShuffle}></span>\r\n\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goPrev}></span>\r\n\r\n                            {\r\n                                isPlaying &&\r\n                                <span className=\"fas fa-pause\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            {\r\n                                !isPlaying &&\r\n                                <span className=\"fas fa-play\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goNext}></span>\r\n                        </div>\r\n                        <div className='played-input flex'>\r\n                            <Duration seconds={duration * played} />\r\n                            <input\r\n                                type='range' min={0} max={0.999999} step='any'\r\n                                value={played}\r\n                                onMouseDown={this.handleSeekMouseDown}\r\n                                onChange={(ev) => this.handleSeekChange(ev)}\r\n                                onMouseUp={this.handleSeekMouseUp}\r\n                            />\r\n                            <Duration seconds={duration} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"volume\">\r\n                        <div className='queue-btn'>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <Box sx={{ width: 200 }}>\r\n                            <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n                                {volume === 0 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-mute\"></span>}\r\n                                {volume > 0 && volume < 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-down\"></span>}\r\n                                {volume > 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-up\"></span>}\r\n                                <Slider aria-label=\"Volume\" value={volume} onChange={this.handleChange} style={{ color: '#1db954', width: \"150px\" }} />\r\n                            </Stack>\r\n                        </Box>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        queue: state.stationMoudle.queue,\r\n        user: state.userMoudle.user,\r\n        stations: state.stationMoudle.stations,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    playNextTrack,\r\n    playPrevTrack,\r\n    shuffleQueue,\r\n    unshuffleQueue,\r\n    toggleIsPlaying,\r\n    setPlay,\r\n    setCurrStation,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    setCurrTrack,\r\n    setQueue,\r\n    setFriendCurrTrack,\r\n    loadUsers\r\n}\r\n\r\n\r\nconst __AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(__AppFooter);\r\n","\r\n\r\nexport function setFriendCurrTrack({ track, user, currLoginUser }) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_FRIEND_CURR_TRACK',\r\n                track,\r\n                user,\r\n                currLoginUser\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { addStation } from '../store/station.actions.js';\r\n\r\nclass _CreateStation extends Component {\r\n    state = {\r\n        station: {\r\n            name: \"\",\r\n            tags: [],\r\n        },\r\n        songs: [],\r\n        isCreate: false\r\n    }\r\n\r\n    labelOptions = [\r\n        { value: \"happy\", label: \"happy\" },\r\n        { value: \"pop\", label: \"Pop\" },\r\n        { value: \"sad\", label: \"Sad\" },\r\n        { value: \"alternative\", label: \"Alternative\" },\r\n        { value: \"Rock\", label: \"Rock\" },\r\n        { value: \"rap\", label: \"Rap\" },]\r\n\r\n    componentDidMount() {\r\n        eventBusService.on(\"create-playlist\", this.create)\r\n    }\r\n\r\n    create = (track) => {\r\n        const songs = track ? [track] : []\r\n        this.setState({ isCreate: !this.state.isCreate, songs, station: { name: \"\", tags: [] } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        if (Array.isArray(target)) {\r\n            let tags = target.map(option => option.value)\r\n            this.setState(prevState => ({ ...prevState, station: { ...prevState.station, tags } }))\r\n            return\r\n        }\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, station: { ...prevState.station, [key]: val } }))\r\n    }\r\n\r\n\r\n    onAddStation = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.station.name) { }\r\n        const newStation = {\r\n            name: this.state.station.name ? this.state.station.name : 'Playlist',\r\n            tags: this.state.station.tags,\r\n            likedByUsers: [],\r\n            songs: this.state.songs\r\n        }\r\n        this.props.addStation(newStation)\r\n        this.create()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isCreate, station } = this.state\r\n        return (\r\n            <>\r\n                <div className={`create-playlist ${isCreate ? \"on\" : \"off\"}`} onSubmit={(ev) => { this.onAddStation(ev) }}>\r\n                    <div className=\"header\">\r\n                        <h1>Create Playlist</h1>\r\n                        <button classNam=\"create-close-btn\" onClick={this.create}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Name\"\r\n                                value={station.name}\r\n                                name=\"name\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <CreatableSelect\r\n                                onChange={(e) => this.handleChange({ 'target': e })}\r\n                                name='label'\r\n                                className=\"select\"\r\n                                closeMenuOnSelect={false}\r\n                                options={this.labelOptions}\r\n                                isMulti\r\n                                value={this.state.station.tags.map(tag => ({ value: tag, label: tag }))}\r\n                                placeholder=\"Tags...\"\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"33px\", background: '#1db954' }} variant=\"contained\" onClick={this.onAddStation}>\r\n                                    Create\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className={`body-modal ${isCreate ? \"on\" : \"off\"}`} onClick={this.create}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addStation\r\n}\r\n\r\n\r\nexport const CreateStation = connect(mapStateToProps, mapDispatchToProps)(_CreateStation)","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\n\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(()=>{\r\n        this.setState({ msg : null })\r\n      }, 2500)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <></>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <section className={'user-msg ' + msgClass}>\r\n        <button onClick={() => {\r\n          this.setState({ msg: null })\r\n        }}>x</button>\r\n        {this.state.msg.txt}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport { MainNav } from './cmps/main-nav.jsx'\r\nimport routes from './routes.js'\r\nimport { AppFooter } from './cmps/app-footer.jsx'\r\nimport { CreateStation } from './cmps/create-playlist.jsx'\r\nimport { UserProfile } from './cmps/profile'\r\nimport { UserMsg } from './cmps/user-msg.jsx'\r\nimport { Signin } from './pages/signin.jsx'\r\nimport { Signup } from './pages/signup.jsx'\r\n\r\nexport class RootCmp extends React.Component {\r\n    // componentDidMount() {\r\n\r\n    //     return new Promise(resolve => {\r\n\r\n    //         window.fbAsyncInit = function () {\r\n    //             window.FB.init({\r\n    //                 appId: '992060094973798',\r\n    //                 cookie: true,\r\n    //                 xfbml: true,\r\n    //                 version: 'v12.0'\r\n    //             });\r\n\r\n    //             window.FB.AppEvents.logPageView();\r\n\r\n    //         };\r\n\r\n    //         (function (d, s, id) {\r\n    //             var js, fjs = d.getElementsByTagName(s)[0];\r\n    //             if (d.getElementById(id)) { return; }\r\n    //             js = d.createElement(s); js.id = id;\r\n    //             js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    //             fjs.parentNode.insertBefore(js, fjs);\r\n    //         }(document, 'script', 'facebook-jssdk'));\r\n\r\n    //     })\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {/*<Route exact component={Signin} path=\"/\" />\r\n                <Route exact component={Signup} path='/signup' />*/}\r\n                <main className=\"main-app\">\r\n                    <CreateStation />\r\n                    <MainNav />\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                    <UserMsg />\r\n                    <AppFooter />\r\n                </main>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/styles.scss'\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorkerRegistration.register()\r\n\r\n // If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n "],"sourceRoot":""}