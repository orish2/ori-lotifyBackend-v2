{"version":3,"sources":["store/station.reducer.js","store/user.reducer.js","store/friend.reducer.js","store/store.js","assets/img/gramophone-svgrepo-com.svg","services/event-bus.service.js","services/util.service.js","cmps/main-nav.jsx","cmps/layout/MainLayout.jsx","services/storage.service.js","services/station.service.js","services/socket.service.js","services/user.service.js","store/user.actions.js","services/async-storage.service dont delete.js","store/station.actions.js","assets/img/play.svg","assets/img/musicLa.svg","cmps/trackByUser-preview.jsx","cmps/trackByUsers.jsx","pages/friends.jsx","cmps/favorite-artists.jsx","assets/img/stationImg.jpg","cmps/station-preview.jsx","assets/img/loader.svg","cmps/Loading.jsx","cmps/login-signup-form.jsx","cmps/profile.jsx","pages/Home.jsx","assets/img/heart-regular.svg","cmps/track-preview.jsx","assets/img/isPlaying.gif","cmps/trackList.jsx","pages/queue.jsx","assets/img/mood-search.jpg","assets/img/pop-search.jpg","assets/img/chill-search.jpg","assets/img/summer-search.jpeg","assets/img/latin-search.jpg","assets/img/jazz-search.jpg","assets/img/indie-search.jpg","assets/img/wellness-search.jpg","assets/img/sleep-search.jpg","assets/img/decades-search.jpg","assets/img/workout-search.jpg","assets/img/party-search.jpg","assets/img/focus-search.jpg","assets/img/alternativ-search.jpg","assets/img/travel-search.jpg","assets/img/soul-search.jpg","assets/img/funk-search.jpg","assets/img/metal-search.jpg","assets/img/classical-search.jpg","assets/img/blues-search.jpg","cmps/searchResultTrack.jsx","cmps/searchResultStation.jsx","cmps/searchResultStationDetails.jsx","services/youtubeApi.service.js","pages/search.jsx","cmps/draggable-track-preview.jsx","cmps/draggable-track-list.jsx","pages/station-details.jsx","cmps/liked-songs-preview.jsx","pages/stations.jsx","assets/img/gramophone.png","pages/user-pref.jsx","routes.js","cmps/app-footer.jsx","store/friends.actions.js","cmps/create-playlist.jsx","assets/img/ringing.png","cmps/user-msg.jsx","root-cmp.jsx","serviceWorkerRegistration.js","index.js"],"names":["initialState","stations","queue","playNextQueue","currTrack","isPlaying","playedStation","currStation","user","users","trackAndUsers","rootReducer","combineReducers","stationMoudle","state","action","newState","newQueue","newPlayNextQueue","nextTrack","type","track","nextQueue","splice","idx","push","findIndex","id","befores","shift","concat","stationId","length","pop","unshift","station","newStation","userMoudle","count","diff","filter","_id","userId","map","stationOrTrack","likedStations","trackId","likedTracks","currStationId","userPref","recentlyPlayedStations","recentlyPlayedSongs","friendMoudle","trackAndUserIdx","trackAndUser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showNotificationMsg","showErrorMsg","myBus","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","makeHexId","Duration","className","seconds","dateTime","round","format","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","pad","getUTCSeconds","string","slice","_MainNav","props","getStationsWithoutLikedStation","genre","handleClick","linkId","a","isMenuOpen","toggleMenu","setState","activLink","setSelectedStationId","prevState","selectedStationId","newIsMenuOpen","handleCreate","links","name","to","fa","prevProps","this","stationsToRender","onClick","bind","src","logo","alt","link","React","Component","MainNav","connect","ownProps","MainLayout","children","storageService","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","removeFromStorage","removeItem","axios","Axios","create","withCredentials","BASE_URL","stationServiceNew","query","getStationById","searchStation","saveStation","stationToEdit","_updateStation","_addStation","getStationByGenre","getStationFromLocal","getStationsByUser","getStation","getGoodDay","getHot","filterBy","get","params","res","userService","getLoggedinUser","username","forEach","likeStation","idOrGenre","find","post","put","keySearch","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","review","console","log","getUserById","addLikeToTrack","removeLikeFromTrack","AddToRecentlyPlayed","setUserPref","isGuest","updateUser","signup","login","logout","getUsers","getGuestLiktedSongs","STORAGE_KEY","URL","userToSave","credentials","removed","guestUser","_saveUserToStorage","updatedUser","some","stationIdx","stationToUpdate","userIdliked","createdBy","currUser","stationName","likedByUsers","likedByUser","currTrackId","loadUser","dispatch","loadUsers","guestService","Promise","resolve","gStations","deleteStation","_saveStationsToStorage","getNextStationId","nextStationIdx","searchTrack","addToStation","removeFromStation","getStationByTag","keySerch","includes","tags","KEY","songCache","_createStation","idxs","items","videoId","join","duration","contentDetails","trackResult","title","snippet","imgUrl","thumbnails","high","url","songs","tagName","playlistId","ganer","fullname","resourceId","all","loadStations","guestStations","setCurrTrack","err","setQueue","addToNextQueue","newTrack","toggleIsPlaying","setPlay","setCurrStation","_createStations","_PrackByUserPreview","playTrack","handlePlayTrack","usersImgs","imgObj","currUserId","musicLa","play","mapDispatchToProps","PrackByUserPreview","_TrackByUsers","userImg","getCurrTrack","traclANdUser","following","TrackByUsers","_Friends","onFollow","filterUsers","toUpperCase","filteredUsers","handleChange","target","value","userIdToFollow","isFollow","img","setFollow","onChange","placeholder","style","userToUpdate","Friends","FavoriteArtists","artists","artist","_StationPreview","playRandTrack","navigateToStation","history","stationImg","e","stopPropagation","reduce","songStr","song","__StationPreview","StationPreview","withRouter","Loading","loader","margin","LoginSignupForm","responseFacebook","response","newCredentials","email","password","userID","facebookUserId","picture","onSubmit","ps","handleSubmit","preventDefault","resetCredentials","handleClose","closeForm","handleSignIn","isLogin","handleLogin","_UserPrifile","loginOrSignup","isLoggedIn","getInitialCredentials","setLoginOrSignup","onLogin","onSignup","facebookComponentClicked","menuButton","onLogout","UserProfile","_Home","handleRisize","entries","viewPortWidth","contentRect","width","numOfPreviews","getTime","curHr","getHours","getLikedStation","unresolvedPromisesLike","unresolvedPromisesStation","b","results","goodDayStations","hotStations","_isMounted","resizer","ResizeObserver","observe","document","querySelector","Home","_TrackPreview","isLike","componentDidMount","getTimeFromDuration","hours","minutes","replace","indexOf","hours_split","split","parseInt","minutes_split","seconds_split","str","onAddToStation","onRemoveFromStation","trackIdx","loadStation","trackFromQueue","toggleLike","ev","isOnDeatils","heartNotChecked","label","TrackPreview","TrackList","_Queue","onAddToNextQueue","body","backgroundImage","Queue","SearchResultTrack","SearchResultStation","stationResult","SearchResultStationDetails","youtubeApiService","default","_","require","_Search","isOnSearch","delayedHandleChange","debounce","stationResultApi","result","moveScrollDwon","homePage","scrollTop","scrollHeight","onPlayTrack","backgroundColor","chill","party","focus","alternativ","summer","indie","latin","wellness","sleep","decades","workout","travel","soul","jazz","funk","mood","metal","classical","blues","Search","DraggableTrackPreview","SortableElement","DraggableTrackList","SortableContainer","index","_StationDetails","isFindMore","isShowAll","match","onSortEnd","oldIndex","newIndex","arrayMoveImmutable","handleToggleLike","stationToSave","handleFindMore","moveSrollDown","fontSize","axis","distance","StationDetails","_LikedSongsPreview","__LikedSongsPreview","LikedSongsPreview","_Stations","getLikedSongsStation","likedSongsStation","Stations","_UserPref","selectArtist","parentElement","classList","contains","add","onError","onerror","routes","path","component","_AppFooter","volume","isPlayedTrack","played","loaded","inQueue","isShuffle","isLiked","isTrackLiked","event","newValue","randIdx","togglePlay","isLoaded","handleSeekMouseDown","seeking","handleSeekChange","parseFloat","handleSeekMouseUp","player","seekTo","handleProgress","handleDuration","ref","goNext","playNextTrack","goShuffle","unshuffleQueue","shuffleQueue","goPrev","playPrevTrack","handleEnded","goBack","onGoToplaylist","obj","setFriendCurrTrack","currLoginUser","prevstate","playing","heigth","onProgress","onDuration","onReady","controls","onEnded","muted","step","onMouseDown","onMouseUp","Box","sx","Stack","spacing","direction","mb","alignItems","Slider","color","j","temp","playedStationId","__AppFooter","AppFooter","_CreateStation","isCreate","labelOptions","Array","isArray","option","onAddStation","addStation","TextField","autoComplete","closeMenuOnSelect","options","isMulti","tag","Button","height","background","variant","CreateStation","UserMsg","msg","removeEvent","setTimeout","msgClass","ringing","RootCmp","route","exact","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","getElementById","process","href","origin","fetch","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.aaad6a66.chunk.js","sourcesContent":["const initialState = {\r\n    stations: [],\r\n    queue: [],\r\n    playNextQueue: [],\r\n    currTrack: null,\r\n    isPlaying: false,\r\n    playedStation: null,\r\n    currStation: null\r\n}\r\nexport function stationReducer(state = initialState, action) {\r\n    var newState = state\r\n    const newQueue = [...state.queue]\r\n    const newPlayNextQueue = [...state.playNextQueue]\r\n    let nextTrack = {}\r\n    switch (action.type) {\r\n        case 'SET_STATIONS':\r\n            newState = { ...state, stations: action.stations }\r\n            break\r\n        case 'SET_CURR_TRACK':\r\n            if (action.track.nextQueue) {\r\n                if (state.currTrack) newPlayNextQueue.splice(action.idx, 1)\r\n            }\r\n            if (!state.currTrack?.nextQueue) {\r\n                newQueue.push(state.currTrack)\r\n            }\r\n            newState = { ...state, currTrack: action.track, queue: newQueue, playNextQueue: newPlayNextQueue }\r\n            break\r\n        case 'SET_QUEUE':\r\n            let idx = action.queue.findIndex((track) => state.currTrack.id === track.id)\r\n            const befores = action.queue.splice(0, idx)\r\n            action.queue.shift()\r\n            action.queue = action.queue.concat(befores)\r\n            newState = { ...state, queue: action.queue, playedStation: action.stationId };\r\n            break\r\n        case 'ADD_TO_NEXT_QUEUE':\r\n            if (!state.currTrack) {\r\n                newState = { ...state, currTrack: action.track };\r\n                break\r\n            }\r\n            newPlayNextQueue.push(action.track)\r\n            newState = { ...state, playNextQueue: newPlayNextQueue };\r\n            break\r\n        case 'SHUFFLE_QUEUE':\r\n            newState = { ...state, queue: action.queue };\r\n            break\r\n        case 'TOGGLE_ISPLAYING':\r\n            // console.log('is playing??', state.isPlaying);\r\n            // console.log('toggling');\r\n            newState = { ...state, isPlaying: !state.isPlaying };\r\n            break\r\n        case 'SET_PLAY':\r\n            newState = { ...state, isPlaying: true };\r\n            break\r\n        case 'NEXT_TRACK':\r\n            if (state.playNextQueue.length > 0) {\r\n                nextTrack = newPlayNextQueue.shift();\r\n\r\n            } else {\r\n                nextTrack = newQueue.shift();\r\n            }\r\n            if (!state.currTrack.nextQueue) newQueue.push(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n                playNextQueue: newPlayNextQueue\r\n            };\r\n\r\n            break\r\n        case 'PREV_TRACK':\r\n            nextTrack = newQueue.pop();\r\n            newQueue.unshift(state.currTrack)\r\n            newState = {\r\n                ...state,\r\n                currTrack: nextTrack,\r\n                queue: newQueue,\r\n            };\r\n            break\r\n        case 'SET_CURR_STATION':\r\n            newState = { ...state, currStation: action.station }\r\n            break;\r\n        case 'ADD_STATION':\r\n            newState = { ...state, stations: [...state.stations, action.newStation] };\r\n            break\r\n        // case ''\r\n        default:\r\n    }\r\n    return newState\r\n\r\n}\r\n","\r\nconst initialState = {\r\n    //user: userService.getLoggedinUser(),\r\n    user: null,\r\n    users: [],\r\n}\r\n\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: { ...action.user } }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: [...action.users] }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            let users = state.users.map(user => (user._id === action.user._id) ? action.user : user);\r\n            newState = { ...state, users, user: { ...action.user } }\r\n            break;\r\n        case 'ADD_LIKE_TO_TRACK':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, likedStations: [...state.user.likedStations, action.trackId] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, likedTracks: [...state.user.likedTracks, action.trackId] } }\r\n            }\r\n            break;\r\n        case 'REMOVE_LIKE_FROM_TRACK':\r\n\r\n            if (action.stationOrTrack === 'station') {\r\n                var likedStations = state.user.likedStations.filter(currStationId => currStationId !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedStations: likedStations } }\r\n            }\r\n            else {\r\n                var likedTracks = state.user.likedTracks.filter(currTrack => currTrack.id !== action.trackId);\r\n                newState = { ...state, user: { ...state.user, likedTracks: likedTracks } }\r\n            }\r\n            break;\r\n        case 'SET_USERֹ_PREF':\r\n            newState = { ...state, user: { ...state.user, userPref: action.userPref } }\r\n            break;\r\n        case 'ADD_TO_RECENTLY_PLAYED':\r\n            if (action.stationOrTrack === 'station')\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedStations: [...state.user.recentlyPlayedStations, action.track] } }\r\n            else {\r\n                newState = { ...state, user: { ...state.user, recentlyPlayedSongs: [...state.user.recentlyPlayedSongs, action.track] } }\r\n            }\r\n            break;\r\n        default:\r\n\r\n    }\r\n    return newState;\r\n\r\n}\r\n\r\n","const initialState = {\r\n    trackAndUsers: [],\r\n}\r\nexport function friendReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'SET_FRIEND_CURR_TRACK':\r\n            //if not following\r\n            // debugger\r\n            //if (!action.currLoginUser.following?.length) {\r\n            //    newState = { ...state, trackAndUsers: [] }\r\n            //    break\r\n            //}\r\n            //else {\r\n            //    if (!action.currLoginUser.following.includes(action.user._id)) {\r\n            //        let trackAndUsers = state.trackAndUsers.filter(trackAndUser => trackAndUser.user._id !== action.user._id)\r\n            //        newState = { ...state, trackAndUsers }\r\n            //        break\r\n            //    }\r\n            //}\r\n            const trackAndUserIdx = state.trackAndUsers?.findIndex(trackAndUser => trackAndUser.user._id === action.user._id)\r\n            if (trackAndUserIdx !== -1) {\r\n                let trackAndUsers = [...state.trackAndUsers];\r\n                let trackAndUser = { ...trackAndUsers[trackAndUserIdx] };\r\n                trackAndUser.track = action.track;\r\n                trackAndUsers[trackAndUserIdx] = trackAndUser\r\n                newState = { ...state, trackAndUsers }\r\n            }\r\n            else {\r\n                newState = { ...state, trackAndUsers: [...state.trackAndUsers, ({ track: action.track, user: { ...action.user } })] }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stationReducer } from './station.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { friendReducer } from './friend.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    stationMoudle: stationReducer,\r\n    userMoudle: userReducer,\r\n    friendMoudle: friendReducer,\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/gramophone-svgrepo-com.db7a0ac8.svg\";","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showNotificationMsg(txt) {\r\n    showUserMsg(txt, 'notification')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    makeHexId\r\n}\r\n\r\nfunction makeHexId(length = 24) {\r\n    var txt = '';\r\n    var possible = 'abcdef0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\n\r\nexport function Duration({ className, seconds }) {\r\n    return (\r\n        <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n            {format(seconds)}\r\n        </time>\r\n    )\r\n}\r\n\r\nfunction format(seconds) {\r\n    const date = new Date(seconds * 1000)\r\n    const hh = date.getUTCHours()\r\n    const mm = date.getUTCMinutes()\r\n    const ss = pad(date.getUTCSeconds())\r\n    if (hh) {\r\n        return `${hh}:${pad(mm)}:${ss}`\r\n    }\r\n    return `${mm}:${ss}`\r\n}\r\n\r\nfunction pad(string) {\r\n    return ('0' + string).slice(-2)\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\nimport { eventBusService } from '../services/event-bus.service'\r\nimport { utilService } from '../services/util.service'\r\n\r\nclass _MainNav extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      links: [\r\n        {\r\n          id: 1,\r\n          name: \"Home\",\r\n          to: \"/\",\r\n          fa: 'fa-home'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: \"Search\",\r\n          to: \"/search\",\r\n          fa: 'fa-search'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: \"My Stations\",\r\n          to: \"/stations\",\r\n          fa: 'fa-library'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: \"Liked Songs\",\r\n          to: \"/station/likedTracks\",\r\n          fa: 'fa-heart'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: \"Friends\",\r\n          to: \"/friends\",\r\n          fa: 'fa-user-friends'\r\n        }\r\n      ],\r\n      activLink: 1,\r\n      selectedStationId: null,\r\n      isMenuOpen: false\r\n\r\n    }\r\n\r\n    // Methods Binding:\r\n    // this.toggleMenu = this.toggleMenu.bind(this)\r\n\r\n  }\r\n  getStationsWithoutLikedStation = (stations) => {\r\n    return stations.map(station => station.genre !== \"likedTracks\")\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.stations?.length !== this.props.stations?.length) {\r\n      this.setState(prevState => ({ ...prevState }))\r\n    }\r\n  }\r\n\r\n  handleClick = async (linkId) => {\r\n    if (this.state.isMenuOpen)\r\n      await this.toggleMenu(!this.state.isMenuOpen)\r\n    this.setState({ activLink: linkId })\r\n  }\r\n\r\n  setSelectedStationId = (stationId) => {\r\n    this.setState(prevState => ({ ...prevState, selectedStationId: stationId }))\r\n  }\r\n\r\n  toggleMenu = async (newIsMenuOpen) => {\r\n    this.setState({ isMenuOpen: newIsMenuOpen })\r\n  }\r\n  handleCreate = () => {\r\n    eventBusService.emit(\"create-playlist\")\r\n\r\n  }\r\n  render() {\r\n    // const { stations } = this.props\r\n    const stationsToRender = this.getStationsWithoutLikedStation(this.props.stations)\r\n    const { activLink, links, selectedStationId, isMenuOpen } = this.state\r\n    if (!links) {\r\n      return <div>loading.</div>\r\n    }\r\n    return (\r\n      <>\r\n        {/* {isMenuOpen && <div className=\"screen\" onClick={this.toggleMenu.bind(this, !isMenuOpen)}></div>} */}\r\n        <div className=\"hamburger-wrapper\">\r\n          <div className={`hamburger ${isMenuOpen ? \"active\" : \"\"}`} onClick={this.toggleMenu.bind(this, !isMenuOpen)}>\r\n            <div></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <nav className={isMenuOpen ? 'main-nav active' : 'main-nav'}>\r\n\r\n          <Link to='/Home'>\r\n            <div className=\"banner\">\r\n              {/* src\\assets\\img */}\r\n              <div className=\"logo-img-container\">\r\n                <img src={logo} alt=\"\" />\r\n              </div>\r\n              <h4>Lotify\r\n                <span>.</span>\r\n              </h4>\r\n            </div>\r\n          </Link>\r\n          <ul className=\"primary-nav\">\r\n            {/* {links.map(link => {\r\n              return <li key={link.id} onClick={() => this.handleClick(link.id)} className={link.id === activLink ? 'active' : ''}> */}\r\n            {links.map(link => {\r\n              return <li key={utilService.makeId()} onClick={this.handleClick.bind(this, link.id)} className={link.id === activLink ? 'active' : ''}>\r\n\r\n                <NavLink to={link.to}>\r\n                  <span className={`nav-icon fas ${link.fa}`}></span>\r\n                  {link.name}</NavLink>\r\n              </li>\r\n            })}\r\n            <li onClick={this.handleCreate} key={utilService.makeId()}>\r\n              <div className=\"nav-create\">\r\n                <span className=\"nav-icon fas fa-plus-square\"></span>\r\n                Create Playlist\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"stations\">\r\n            {\r\n\r\n              stationsToRender.map(station => {\r\n                // if (station.genre !== \"likedTracks\")\r\n                return <li key={utilService.makeId()} onClick={() => this.setSelectedStationId(station._id)}>\r\n                  <NavLink to={`/station/${station._id}`}\r\n                    className={selectedStationId === station._id ? 'station-link selected-station' : 'station-link'}>\r\n                    {station.name}\r\n                  </NavLink></li>\r\n\r\n              })\r\n\r\n            }\r\n\r\n          </ul>\r\n        </nav>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nexport const MainNav = connect(mapStateToProps)(_MainNav)","export const MainLayout = ({ children }) => {\r\n     return <div className=\"main-container\">\r\n         {children}\r\n     </div>\r\n\r\n}","function loadFromStorage(key) {\r\n    // debugger\r\n    var val = localStorage.getItem(key)\r\n    return (val) ? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n    localStorage.removeItem(key)\r\n}\r\n\r\nconst storageService = {\r\n    loadFromStorage,\r\n    saveToStorage,\r\n    removeFromStorage\r\n}\r\nexport default storageService","// import { httpService } from './http.service.js'\r\nimport Axios from 'axios'\r\nimport storageService from './storage.service.js';\r\nimport { userService } from './user.service.js';\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\nconst BASE_URL = (process.env.NODE_ENV === 'production')\r\n    ? '/api/station'\r\n    : 'http://localhost:3030/api/station';\r\n\r\nexport const stationServiceNew = {\r\n    query,\r\n    getStationById,\r\n    searchStation,\r\n    saveStation,\r\n    getStationByGenre,\r\n    getStationFromLocal,\r\n    getStationsByUser,\r\n    getStation,\r\n    getGoodDay,\r\n    getHot\r\n}\r\n\r\nasync function query(filterBy = {}) {\r\n    //const res = await axios.get('http://localhost:3030/api/toy', { params: filterBy })\r\n    const res = await axios.get(`${BASE_URL}`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function getGoodDay() {\r\n    const res = await axios.get(`${BASE_URL}/goodDay`)\r\n    return res.data\r\n}\r\n\r\nasync function getHot() {\r\n    const res = await axios.get(`${BASE_URL}/hot`)\r\n    return res.data\r\n}\r\n\r\nasync function getStationsByUser() {\r\n    const user = await userService.getLoggedinUser()\r\n    // const res = await axios.get(`${BASE_URL}/station/${user._id}`)\r\n    // console.log('user from station service', user._id);\r\n\r\n    if (user.username === 'guest') {\r\n        let stations = []\r\n        user.likedStations.forEach(async stationId => {\r\n            const station = await getStationById(stationId)\r\n            stations.push(station)\r\n        })\r\n        const likeStation = await getStationByGenre('likedTracks')\r\n        stations.push(likeStation)\r\n        return stations\r\n    }\r\n    // console.log('getting by user');\r\n    const res = await axios.get(`${BASE_URL}/station/${user._id}`)\r\n    return res.data\r\n}\r\n\r\nasync function getStation(idOrGenre) {\r\n    let station = await getStationFromLocal(idOrGenre)\r\n    // console.log('station 64', station);\r\n    if (!station)\r\n        station = idOrGenre.length < 24 ? await getStationByGenre(idOrGenre) : await getStationById(idOrGenre)\r\n    return station\r\n}\r\n\r\nasync function getStationById(stationId) {\r\n    let station\r\n    if (stationId !== 'likedTracks' && stationId.length < 24)\r\n        station = await getStationFromLocal(stationId)\r\n    if (!station) {\r\n        const res = await axios.get(`${BASE_URL}/${stationId}`)\r\n        station = res.data\r\n    }\r\n    // console.log(\"🚀 ~ file: station.service.js ~ line 51 ~ getStationById ~ res.data\", res.data)\r\n    return station\r\n}\r\n\r\nasync function getStationFromLocal(stationId) {\r\n    const stations = await storageService.loadFromStorage('stations')\r\n    // console.log('stationsss', stations);\r\n    let station = stations.find((station) => station._id === stationId)\r\n    if (!station && stationId !== 'likedTracks' && stationId.length < 24) {\r\n\r\n        // console.log('statiolnnid', stationId);\r\n        station = await storageService.loadFromStorage(`${stationId}playlist`)\r\n        // console.log('station is sss', station);\r\n        if (station)\r\n            station = station[0]\r\n\r\n    }\r\n    if (!station) return null\r\n    return station\r\n}\r\n\r\nasync function getStationByGenre(stationId) {\r\n    const res = await axios.get(`${BASE_URL}/genre/${stationId}`)\r\n    // console.log('got by genre', res.data);\r\n    return res.data\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\nasync function _addStation(stationToEdit) {\r\n    const res = await axios.post(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\nasync function _updateStation(stationToEdit) {\r\n    const res = await axios.put(`${BASE_URL}`, stationToEdit)\r\n    return res.data\r\n}\r\n\r\n\r\nasync function searchStation(keySearch) {\r\n    const stations = await query({ keySearch })\r\n    return stations\r\n}\r\n\r\n\r\n\r\n\r\n    //async function remove(toyId) {\r\n    //    await axios.delete(`${BASE_URL}/${toyId}`)\r\n    //}\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  console.log('Review about me!', review);\r\n})\r\n\r\n","import storageService from '../services/storage.service'\r\n// import { utilService } from './util.service.js'\r\n// import { gPlaylists } from \"./data\";\r\nimport Axios from 'axios'\r\n// import { update } from 'lodash';\r\nimport { stationServiceNew } from './station.service';\r\nimport { socketService } from '../services/socket.service'\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport const userService = {\r\n    getLoggedinUser,\r\n    getUserById,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    AddToRecentlyPlayed,\r\n    setUserPref,\r\n    isGuest,\r\n    updateUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    getUsers,\r\n    getGuestLiktedSongs,\r\n}\r\nconst STORAGE_KEY = \"user\"\r\nconst URL = (process.env.NODE_ENV === 'production') ?\r\n    '/api' :\r\n    'http://localhost:3030/api';\r\n\r\n\r\nasync function signup(user) {\r\n    let userToSave = await axios.post(`${URL}/auth/signup`, user)\r\n    userToSave = userToSave.data\r\n    storageService.saveToStorage(STORAGE_KEY, userToSave)\r\n    return userToSave\r\n}\r\n\r\nasync function login(credentials) {\r\n    let user = await axios.post(`${URL}/auth/login`, credentials)\r\n    user = user.data\r\n    // console.log('user from login', user);\r\n    storageService.saveToStorage(STORAGE_KEY, user)\r\n    return user\r\n}\r\n\r\nasync function logout() {\r\n    const removed = await axios.post(`${URL}/auth/logout`)\r\n    storageService.removeFromStorage(STORAGE_KEY)\r\n    return removed\r\n}\r\n\r\nasync function getGuestLiktedSongs() {\r\n    const guestUser = await getLoggedinUser()\r\n    // console.log('likedTracks of guest', guestUser.likedTracks);\r\n    return guestUser.likedTracks\r\n\r\n}\r\nasync function updateUser(user) {\r\n    if (user.username === 'guest') {\r\n        _saveUserToStorage(user)\r\n        return user\r\n    }\r\n    else {\r\n        let updatedUser = await axios.put(`${URL}/user/${user._id}`, user)\r\n        updatedUser = updatedUser.data\r\n        _saveUserToStorage(updatedUser)\r\n        return updatedUser\r\n\r\n    }\r\n\r\n}\r\nasync function AddToRecentlyPlayed(track, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'track') {\r\n        let recentlyPlayedSongs = user.recentlyPlayedSongs\r\n        if (!recentlyPlayedSongs.length < 10)\r\n            recentlyPlayedSongs = recentlyPlayedSongs.slice(Math.max(recentlyPlayedSongs.length - 9, 0))\r\n        recentlyPlayedSongs.unshift(track)\r\n        user.recentlyPlayedSongs = recentlyPlayedSongs\r\n    }\r\n    else {\r\n        if (!track || track === null) return\r\n        let recentlyPlayedStations = user.recentlyPlayedStations\r\n        if (recentlyPlayedStations.some(stationIdx => stationIdx === track)) return\r\n        if (!recentlyPlayedStations.length < 10)\r\n            recentlyPlayedStations = recentlyPlayedStations.slice(Math.max(recentlyPlayedStations.length - 9, 0))\r\n\r\n        recentlyPlayedStations.unshift(track)\r\n        user.recentlyPlayedStations = recentlyPlayedStations\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function getLoggedinUser() {\r\n    // debugger\r\n    let user = storageService.loadFromStorage(STORAGE_KEY)\r\n    // debugger\r\n    if (!user) {\r\n        // debugger\r\n        user = await login({ username: \"guest\" })\r\n    }\r\n    return user\r\n}\r\n\r\nasync function isGuest() {\r\n    const user = await getLoggedinUser()\r\n    return user.username === \"guest\"\r\n}\r\n\r\nasync function addLikeToTrack(trackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        user.likedStations.unshift(trackId)\r\n        let stationToUpdate = await stationServiceNew.getStationFromLocal(trackId)//search in local storage\r\n        if (!stationToUpdate)\r\n            if (trackId.length === 24) {\r\n                stationToUpdate = await stationServiceNew.getStationById(trackId)\r\n                // console.log('got by id', stationToUpdate);\r\n            } else {\r\n                stationToUpdate = await stationServiceNew.getStationByGenre(trackId)\r\n                // console.log('got by genre', stationToUpdate);\r\n            }\r\n        socketService.emit('add like', { userIdliked: stationToUpdate.createdBy.id, currUser: user, stationName: stationToUpdate.name })\r\n\r\n        if (!stationToUpdate.likedByUsers) stationToUpdate.likedByUsers = []\r\n        if (!stationToUpdate.likedByUsers.some(likedByUser => likedByUser.id === user._id)) {\r\n            stationToUpdate.likedByUsers.push({ username: user.username, id: user._id })\r\n            await stationServiceNew.saveStation(stationToUpdate)\r\n        }\r\n    }\r\n    else {\r\n        user.likedTracks.unshift(trackId)\r\n    }\r\n\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\nasync function removeLikeFromTrack(currTrackId, stationOrTrack) {\r\n    let user = await getLoggedinUser()\r\n    if (stationOrTrack === 'station') {\r\n        let likedStations = user.likedStations.filter(trackId => trackId !== currTrackId)\r\n        user.likedStations = likedStations\r\n    }\r\n    else {\r\n        let likedTracks = user.likedTracks.filter(track => track.id !== currTrackId)\r\n        user.likedTracks = likedTracks\r\n    }\r\n    if (user.username !== \"guest\") {\r\n        user = await updateUser(user)\r\n    }\r\n    _saveUserToStorage(user)\r\n    return user\r\n}\r\n\r\n\r\nasync function getUserById(userId) {\r\n    let user = await axios.get(`${URL}/user/${userId}`)\r\n    return user.data\r\n}\r\nasync function getUsers(filterBy = {}) {\r\n    let res = await axios.get(`${URL}/user`, { params: filterBy })\r\n    return res.data\r\n}\r\n\r\nasync function setUserPref(userPref) {\r\n    let user = await getLoggedinUser()\r\n    user.userPref = userPref\r\n    if (user.username !== \"guest\") {\r\n        updateUser(user)\r\n    }\r\n    // console.log('guestush user');\r\n    _saveUserToStorage(user)\r\n    // let user = await axios.get(`${URL}/user/${user._id}`)\r\n    return user\r\n}\r\n\r\n\r\nfunction _saveUserToStorage(user) {\r\n    storageService.saveToStorage(STORAGE_KEY, user)\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService } from \"../services/socket.service.js\";\r\n\r\nexport function loadUser() {\r\n    return async dispatch => {\r\n        try {\r\n            let user = await userService.getLoggedinUser()\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            let users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function addLikeToTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.addLikeToTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'ADD_LIKE_TO_TRACK', trackId, stationOrTrack })\r\n\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function removeLikeFromTrack(trackId, stationOrTrack) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.removeLikeFromTrack(trackId, stationOrTrack)\r\n            dispatch({ type: 'REMOVE_LIKE_FROM_TRACK', trackId, stationOrTrack })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function setUserPref(userPref) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.setUserPref(userPref)\r\n            dispatch({ type: 'SET_USERֹ_PREF', userPref })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n            socketService.emit('set-user-socket', user._id);\r\n\r\n        } catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            loadUser()\r\n            socketService.emit('unset-user-socket');\r\n        }\r\n        catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updateUser(userToUpdate) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.updateUser(userToUpdate)\r\n            dispatch({ type: 'UPDATE_USER', user: userToUpdate })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}","import storageService from '../services/storage.service'\r\nimport { utilService } from './util.service.js'\r\n// import { gPlaylists } from \"./data\";\r\nimport axios from 'axios'\r\nexport const guestService = {\r\n    query,\r\n    saveStation,\r\n    deleteStation,\r\n    getStationById,\r\n    getNextStationId,\r\n    searchTrack,\r\n    addToStation,\r\n    removeFromStation,\r\n    getStationByTag,\r\n    searchStation\r\n}\r\nconst KEY = 'stations';\r\nvar gStations = [];\r\nlet songCache = []\r\n_createStations();\r\n\r\nfunction query(filterBy) {\r\n    return Promise.resolve(gStations)\r\n}\r\n\r\nfunction deleteStation(stationId) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return stationId === station.id\r\n    })\r\n    gStations.splice(stationIdx, 1)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\nfunction saveStation(stationToEdit) {\r\n    return stationToEdit._id ? _updateStation(stationToEdit) : _addStation(stationToEdit)\r\n}\r\n\r\n\r\nfunction _addStation(stationToEdit) {\r\n    var station = _createStation(stationToEdit)\r\n    gStations.unshift(station)\r\n    _saveStationsToStorage();\r\n    return Promise.resolve(station)\r\n}\r\n\r\nfunction _updateStation(stationToEdit) {\r\n    var stationIdx = gStations.findIndex(function (station) {\r\n        return station.id === stationToEdit.id;\r\n    })\r\n    gStations[stationIdx] = stationToEdit\r\n    _saveStationsToStorage();\r\n    return Promise.resolve()\r\n}\r\n\r\n\r\nfunction getStationById(stationId) {\r\n    var station = gStations.find(function (station) {\r\n        return stationId === station._id\r\n    })\r\n    return Promise.resolve(station)\r\n}\r\n\r\n\r\nfunction getNextStationId(stationId) {\r\n    const stationIdx = gStations.findIndex(station => station.id === stationId)\r\n    let nextStationIdx = stationIdx + 1\r\n    if (nextStationIdx === gStations.length) nextStationIdx = 0\r\n    return gStations[nextStationIdx].id\r\n}\r\n\r\nfunction _createStation(stationToEdit) {\r\n    stationToEdit._id = utilService.makeId()\r\n    return stationToEdit\r\n}\r\n\r\nfunction _createStations() {\r\n    var stations = storageService.loadFromStorage(KEY)\r\n    if (!stations || !stations.length) {\r\n        stations = []\r\n    }\r\n    gStations = stations;\r\n    _saveStationsToStorage();\r\n}\r\n\r\nfunction _saveStationsToStorage() {\r\n    storageService.saveToStorage(KEY, gStations)\r\n}\r\n\r\n\r\n\r\n//api \r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    //keySerch = keySerch.trim()\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\nasync function addToStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    currStation.songs.push(track)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function removeFromStation(track, stationId) {\r\n    const currStation = gStations.find((station) => station._id === stationId)\r\n    const idx = currStation.songs.findIndex(currTrack => track.id === currTrack.id)\r\n    currStation.songs.splice(idx, 1)\r\n    _saveStationsToStorage()\r\n}\r\n\r\nasync function getStationByTag(tagName) {\r\n    //let songCache = gStations.find(station => station.ganer === tagName)\r\n    //if (songCache) {\r\n    //    console.log('No need to fetch, retrieving from Cache', songCache);\r\n    //    return [songCache]\r\n    //}\r\n    songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            const songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyDv4FZEk6YGXCuTdAs7Ib_UErbyFh3eUUs`)\r\n            return {\r\n                ganer: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.data.items.map((track) => ({\r\n                    id: track.snippet.resourceId.videoId,\r\n                    title: track.snippet.title,\r\n                    imgUrl: track.snippet.thumbnails.high.url,\r\n                    duration: \"PT4M26S\"\r\n                }))\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        //await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction searchStation(keySerch) {\r\n    return gStations.filter((station) => {\r\n        return station.name.includes(keySerch) || station.tags.includes(keySerch)\r\n        // if (station.name.includes(keySerch) || station.tags.includes(keySerch)) {\r\n        //     return station\r\n\r\n        // }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { guestService } from \"../services/async-storage.service dont delete.js\";\r\nimport { stationServiceNew } from \"../services/station.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg } from '../services/event-bus.service.js';\r\n// import { AddToRecentlyPlayed } from \"./user.actions.js\";\r\n\r\nexport function loadStations() {\r\n    return async (dispatch) => {\r\n        try {\r\n            let stations = await stationServiceNew.getStationsByUser()\r\n            // console.log('stations', stations);\r\n            let guestStations = await guestService.query()\r\n            if (guestStations && guestStations.length)\r\n                stations = [...guestStations, ...stations]\r\n            dispatch({\r\n                type: 'SET_STATIONS',\r\n                stations\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(`Had Issues ${err}`)\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nexport function addStation(newStation) {\r\n    return async (dispatch) => {\r\n        if (await userService.isGuest()) {\r\n            newStation = await guestService.saveStation(newStation)\r\n        } else {\r\n            newStation = await stationServiceNew.saveStation(newStation)\r\n        }\r\n        dispatch({\r\n            type: 'ADD_STATION',\r\n            newStation\r\n        })\r\n        showSuccessMsg(\"Add to your Stations\")\r\n    }\r\n}\r\n\r\nexport function unshuffleQueue(playedStationId) {\r\n    return async (dispatch) => {\r\n        let queue = await stationServiceNew.getStationById(playedStationId)\r\n        queue = queue.songs\r\n        dispatch({\r\n            type: 'SET_QUEUE',\r\n            queue,\r\n            stationId: playedStationId\r\n        })\r\n    }\r\n}\r\n\r\n//without service\r\nexport function setCurrTrack(track, idx) {\r\n    return async (dispatch) => {\r\n        ////add track to recentlyPlayed\r\n        try {\r\n            dispatch({\r\n                type: 'SET_CURR_TRACK',\r\n                track,\r\n                idx,\r\n            })\r\n            //await userService.AddToRecentlyPlayed(track, 'track')\r\n            //dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'track', track })\r\n        }\r\n\r\n        catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function setQueue(queue, stationId = 0) {\r\n    queue = queue.filter(track => !track.nextQueue)\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: 'SET_QUEUE',\r\n                queue,\r\n                stationId\r\n            })\r\n            if (!stationId) {\r\n                console.log('no station id');\r\n                return\r\n            }\r\n            await userService.AddToRecentlyPlayed(stationId, 'station')\r\n            dispatch({ type: 'ADD_TO_RECENTLY_PLAYED', stationOrTrack: 'station', stationId })\r\n        }\r\n        catch (err) {\r\n            console.log('setQueue  error', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToNextQueue(track) {\r\n    return async (dispatch) => {\r\n        let newTrack = { ...track }\r\n        newTrack.nextQueue = true\r\n        dispatch({\r\n            type: 'ADD_TO_NEXT_QUEUE',\r\n            track: newTrack\r\n        })\r\n        showSuccessMsg('Added to queue')\r\n    }\r\n}\r\n\r\nexport function playNextTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'NEXT_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function playPrevTrack() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'PREV_TRACK',\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleIsPlaying() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'TOGGLE_ISPLAYING',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setPlay() {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_PLAY',\r\n        })\r\n    }\r\n}\r\n\r\nexport function setCurrStation(station) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_CURR_STATION',\r\n                station\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport function shuffleQueue(queue) {\r\n    for (let i = queue.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const temp = queue[i];\r\n        queue[i] = queue[j];\r\n        queue[j] = temp;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SHUFFLE_QUEUE',\r\n            queue\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n//function deleteStation(stationId) {\r\n//    var stationIdx = gStations.findIndex(function (station) {\r\n//        return stationId === station.id\r\n//    })\r\n//    gStations.splice(stationIdx, 1)\r\n//    _saveStationsToStorage();\r\n//    return Promise.resolve()\r\n//}\r\n","export default __webpack_public_path__ + \"static/media/play.b7d47073.svg\";","export default __webpack_public_path__ + \"static/media/musicLa.65675a50.svg\";","import React, { Component } from 'react'\r\nimport Avatar from 'react-avatar';\r\nimport { connect } from 'react-redux'\r\nimport { loadStations, addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport play from '../assets/img/play.svg'\r\nimport musicLa from '../assets/img/musicLa.svg'\r\nclass _PrackByUserPreview extends Component {\r\n\r\n    playTrack = async (track, idx) => {\r\n        const { currStation } = this.props\r\n        let songs = [track]\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n    handlePlayTrack = async (data) => {\r\n        await this.playTrack(data.track, data.idx)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={this.props.track ? 'user-preview order flex' : 'user-preview  flex'}>\r\n                <div className='avatar'>\r\n                    <Avatar src={this.props.usersImgs.find(imgObj => this.props.currUserId === imgObj.id)?.url} size=\"70\" round={true} />\r\n                </div>\r\n                {this.props.users && <span >\r\n                    {this.props.users.find((user => user._id === this.props.currUserId))?.username}</span>}\r\n\r\n\r\n                {this.props.track &&\r\n                    <div className={\"track\"} onClick={this.handlePlayTrack.bind(this, { track: this.props.track.track, idx: 0 })}>\r\n                        <img src={musicLa} alt=\"\" />\r\n                        <div><p> {this.props.track.track.title}</p></div>\r\n                    </div>\r\n                }\r\n\r\n                {!this.props.track &&\r\n                    <div className={\"offline\"}>\r\n                        <div>offline</div>\r\n                    </div>\r\n                }\r\n                {this.props.track &&\r\n                    <>\r\n                        <img className='play' alt=\"\" src={play}\r\n                            onClick={this.handlePlayTrack.bind(this, { track: this.props.track.track, idx: 0 })} />\r\n                        <span className=\"fas fa-volume-up\"></span>\r\n                    </>\r\n                }\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n}\r\n\r\n\r\nexport const PrackByUserPreview = connect(mapStateToProps, mapDispatchToProps)(_PrackByUserPreview)\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { utilService } from '../services/util.service';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { PrackByUserPreview } from './trackByUser-preview';\r\n\r\nclass _TrackByUsers extends Component {\r\n    state = {\r\n        users: [],\r\n        userImg: [],\r\n        currTrack: null\r\n    }\r\n\r\n    getCurrTrack = (currUserId) => {\r\n        let trackAndUser = this.props.trackAndUsers?.filter(traclANdUser => {\r\n            if (traclANdUser.user._id === currUserId)\r\n                return traclANdUser.track\r\n            return undefined\r\n        })\r\n        // if (!trackAndUser?.length)\r\n        if (!trackAndUser || trackAndUser.length === 0)\r\n            trackAndUser = false\r\n\r\n        else trackAndUser = trackAndUser[0]\r\n        return trackAndUser\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user, users } = this.props\r\n\r\n        if (!this.state.users || !this.props.user) return <div>loading</div>\r\n        return (\r\n            <>\r\n                <div className='streaming flex'>\r\n                    <h3>Streaming Now\r\n                    </h3>\r\n                    <span className=\"fas fa-compact-disc\"></span>\r\n                </div>\r\n                <div className='user-track'>\r\n                    {user && user.following.map((currUserId) => {\r\n                        return <PrackByUserPreview key={utilService.makeId()} users={this.props.users}\r\n                            currUserId={currUserId} usersImgs={this.props.usersImgs} user={users.find((user => user._id === currUserId))?.username} track={this.getCurrTrack(currUserId)} />\r\n                    })}\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user,\r\n        //users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser\r\n}\r\nexport const TrackByUsers = connect(mapStateToProps, mapDispatchToProps)(_TrackByUsers)\r\n\r\n","import React, { Component } from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport { TrackByUsers } from '../cmps/trackByUsers';\r\nimport { socketService } from '../services/socket.service'\r\nimport { connect } from 'react-redux'\r\nimport { loadUsers, loadUser, updateUser } from '../store/user.actions';\r\nimport Avatar from 'react-avatar';\r\nimport { utilService } from '../services/util.service';\r\n\r\n\r\nclass _Friends extends Component {\r\n    state = {\r\n        trackAndUsers: [],\r\n        usersImgs: [],\r\n        users: [],\r\n        onFollow: true,\r\n    }\r\n    async componentDidMount() {\r\n\r\n        await this.props.loadUsers()\r\n        await this.props.loadUser()\r\n        socketService.setup()\r\n        this.setState({ trackAndUsers: this.props.trackAndUsers }, async () => {\r\n            await this.loadUsers('')\r\n            let usersImgs = this.state.users.map(user => {\r\n                return user.img ? { url: user.img, id: user._id } :\r\n                    { url: \"https://cdn-icons-png.flaticon.com/512/149/149071.png\", id: user._id }\r\n            })\r\n            this.setState({ usersImgs })\r\n        })\r\n    }\r\n\r\n    loadUsers = (keySearch = '') => {\r\n        if (!keySearch) {\r\n\r\n            let filteredUsers = this.props.users.filter(user => user.username !== 'guest' ||\r\n                user._id !== this.props.user?._id)\r\n            this.setState({ users: filteredUsers })\r\n            return\r\n        }\r\n        else {\r\n            let filterUsers = this.props.users.filter(user => user.username.toUpperCase().includes(keySearch.toUpperCase()) && user.username !== 'guest' && user._id !== this.props.user._id)\r\n            this.setState({ users: filterUsers })\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = ({ target }) => {\r\n        this.loadUsers(target.value)\r\n    }\r\n    onFollow = async (userIdToFollow, isFollow) => {\r\n        let user = { ...this.props.user }\r\n        if (isFollow) {\r\n            let following = user.following.filter(userId => userId !== userIdToFollow)\r\n            user.following = following\r\n        }\r\n        else {\r\n            user.following.push(userIdToFollow)\r\n            socketService.emit('following', { userIdToFollow, currUser: user })\r\n        }\r\n        await this.props.updateUser(user)\r\n    }\r\n\r\n    setFollow(value) {\r\n        this.setState({ onFollow: value })\r\n    }\r\n\r\n    render() {\r\n        const trackAndUsers = this.props.trackAndUsers\r\n        const { user } = this.props\r\n        const { users, onFollow } = this.state\r\n        if (!users || !this.state.usersImgs) return <div>loading</div>\r\n        return (\r\n            <section className='friends-container'>\r\n                <MainLayout>\r\n                    <h1>Friends Activity</h1>\r\n                    <div className='friends-nav'>\r\n                        <span className={onFollow ? 'active friends-sub-nav' : 'friends-sub-nav'} onClick={this.setFollow.bind(this, true)}>Follow</span>\r\n                        <span className={!onFollow ? 'active friends-sub-nav' : 'friends-sub-nav'} onClick={this.setFollow.bind(this, false)}>Streaming now</span>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"friend-following flex\">\r\n                        {onFollow &&\r\n                            <div className='all-users-container'>\r\n                                <div><input type='text' onChange={this.handleChange} placeholder=\"Find Friends\" /></div>\r\n                                <div className='users-table'>\r\n                                    {users &&\r\n                                        users.map((currUser, idx) => {\r\n                                            return <div key={utilService.makeId()} className='friend-following-preview flex'>\r\n                                                <div>\r\n                                                    <Avatar style={{}} src={this.state.usersImgs.find(imgObj => currUser._id === imgObj.id)?.url} size=\"70\" round={true} />\r\n                                                    <span>\r\n                                                        {currUser.username}\r\n                                                    </span>\r\n                                                </div>\r\n\r\n\r\n                                                <div>\r\n                                                    {user.following.includes(currUser._id) &&\r\n                                                        <button className='following' onClick={() => { this.onFollow(currUser._id, true) }}> Unfollow</button>\r\n                                                    }\r\n                                                    {!user.following.includes(currUser._id) &&\r\n                                                        <button className='follow' onClick={() => { this.onFollow(currUser._id, false) }} >Follow</button>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            !onFollow &&\r\n                            <section className='following-by-user-container flex column'>\r\n                                <TrackByUsers trackAndUsers={trackAndUsers} users={this.state.users} usersImgs={this.state.usersImgs} />\r\n                            </section>\r\n                        }\r\n\r\n                    </div>\r\n                </MainLayout >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        trackAndUsers: state.friendMoudle.trackAndUsers,\r\n        user: state.userMoudle.user,\r\n        users: state.userMoudle.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUsers,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Friends = connect(mapStateToProps, mapDispatchToProps)(_Friends)\r\n\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport function FavoriteArtists({ artists }) {\r\n    return (\r\n        <div className=\"favorite-artists\">\r\n            {artists.map((artist, idx) => {\r\n                return (<Link to={`/station/${artist.artist}`} className=\"station-container\" key={idx}>\r\n                    <div className='img-container'>\r\n                        <img src={artist.img} alt={artist.artist} />\r\n                    </div>\r\n                    <h4>{artist.artist}</h4>\r\n                </Link >\r\n                )\r\n            })}\r\n        </div >\r\n    )\r\n}","export default \"data:image/jpeg;base64,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\"","import stationImg from '../assets/img/stationImg.jpg'\r\nimport { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\n// import PlayCircleIcon from '@material-ui/icons/PlayCircleFilledWhite';\r\n// import { ThemeProvider, createTheme } from '@material-ui/core'\r\n\r\nclass _StationPreview extends React.Component {\r\n\r\n    playRandTrack = async () => {\r\n        const { station, currTrack, playedStation, } = this.props\r\n        if (!currTrack || (playedStation !== station._id &&\r\n            playedStation !== station.genre)\r\n        ) {\r\n            const songs = [...station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id ? station._id : station.genre);\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (station) => {\r\n        let stationId = station._id ? station._id : station.genre\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n\r\n    render() {\r\n        const { station, isPlaying, playedStation } = this.props\r\n        if (!station) return <div>loading...</div>\r\n        return (\r\n            <div className=\"station-preview\">\r\n                <div className=\"img-card\" onClick={() => this.navigateToStation(station)}>\r\n                    <div className=\"square-ratio station-img-container\">\r\n                        {station.songs?.length > 0 && station.songs[0]?.imgUrl &&\r\n                            <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} alt=\"station cover\" />\r\n                        }\r\n                        {!station.songs.length &&\r\n                            <img src={stationImg} alt=\"station cover\" />\r\n                        }\r\n\r\n                        <div className=\"play-icon-container\" onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            this.playRandTrack()\r\n\r\n                        }}>\r\n                            {/* this.props.isPlaying && (this.props.playedStation === station._id ||\r\n                            this.props.playedStation === station.genre)  */}\r\n                            {/* <i className={`play-icon ${isPlaying && (station?._id === currStation?._id ) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i> */}\r\n                            <i className={`play-icon ${isPlaying && (playedStation === station._id ||\r\n                                playedStation === station.genre) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"station-name-header\">\r\n                        {station.name.length < 25 ? station.name : station.name.slice(0, 25) + '...'}\r\n                    </div>\r\n                    <p className=\"station-desc\">\r\n                        {!station.songs.length ? '' :\r\n                            station.songs.reduce((songStr, song) => {\r\n                                songStr += song.title\r\n                                return songStr;\r\n                            }, '').slice(0, 30) + '...'}\r\n                    </p>\r\n                </div>\r\n            </div >\r\n        )\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n        currStation: state.stationMoudle.currStation,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __StationPreview = connect(mapStateToProps, mapDispatchToProps)(_StationPreview)\r\nexport const StationPreview = withRouter(__StationPreview);","export default __webpack_public_path__ + \"static/media/loader.fd44eeee.svg\";","import React from 'react';\r\nimport loader from '../assets/img/loader.svg'\r\nexport function Loading() {\r\n    return (\r\n\r\n        <img src={loader} style={{ margin: '250px auto' }} alt=\"loading\" />\r\n\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n// import FacebookLogin from 'react-facebook-login';\r\nimport logo from '../assets/img/gramophone-svgrepo-com.svg'\r\n\r\nexport class LoginSignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // credentials: {\r\n      username: '',\r\n      password: '',\r\n      fullname: '',\r\n      isLogin: this.props.isLogin\r\n      // facebookUserId: null,\r\n      // img: null\r\n      // }\r\n    };\r\n  }\r\n\r\n  responseFacebook = async response => {\r\n\r\n    try {\r\n\r\n      const newCredentials = {\r\n        username: response.email,\r\n        password: response.userID,\r\n        fullname: response.name,\r\n        facebookUserId: response.userID,\r\n        img: response.picture.data.url\r\n      }\r\n      this.props.onSubmit(newCredentials)\r\n    }\r\n    catch (e) {\r\n      console.log('err:', e);\r\n    }\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState(ps => ({ ...ps, [target.name]: target.value }))\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const credentials = this.state\r\n    this.props.onSubmit(credentials)\r\n  }\r\n\r\n  resetCredentials = () => {\r\n    this.setState({ username: '', fullname: '', password: '', facebookUserId: null, img: null })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.resetCredentials()\r\n    this.props.closeForm()\r\n  }\r\n\r\n  handleSignIn = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: false }))\r\n  }\r\n\r\n  handleLogin = () => {\r\n    this.setState(ps => ({ ...ps, isLogin: true }))\r\n  }\r\n\r\n  render() {\r\n    const { username, fullname, password, isLogin } = this.state\r\n    return (\r\n      <>\r\n        <div className=\"screen\" onClick={this.handleClose}></div>\r\n        <section className=\"form-wrapper\">\r\n          <span className=\"close-form\" onClick={this.handleClose}>X</span>\r\n          <div className=\"form-logo flex column align-center\">\r\n            <img src={logo} alt=\"\" />\r\n            <div className=\"brand-name\"><span>Lotify</span><span>.</span></div>\r\n\r\n          </div>\r\n          <h2 className=\"form-header\">{isLogin ? 'Sign in to continue' : 'Signup to continue'}</h2>\r\n          <form action=\"\" className=\"login-signup-form flex column align-center\" onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your username\" value={username}\r\n              onChange={this.handleChange} />\r\n\r\n            {!isLogin && <input type=\"text\" name=\"fullname\" placeholder=\"Enter your fullName\"\r\n              value={fullname} onChange={this.handleChange} />}\r\n\r\n            <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password}\r\n              onChange={this.handleChange} />\r\n            {/* <div className=\"submit-btns flex\"> */}\r\n            <button type=\"submit\" className=\"login-signup-btn\">{isLogin ? 'Login' : 'Signup'}</button>\r\n\r\n            {/* <button className=\"facebook-login-btn-wrapper\" type=\"button\">\r\n              {isLogin ? 'Login with Facebook' : 'Signup with Facebook'}\r\n\r\n              <FacebookLogin\r\n                className=\"facebook-login-btn\"\r\n                appId=\"992060094973798\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                isSdkLoaded={false}\r\n                onClick={this.facebookComponentClicked}\r\n                callback={this.responseFacebook} />\r\n            </button> */}\r\n            {isLogin && <div className=\"to-sign-in flex\"><span>Dont have an acount?</span>\r\n              <span onClick={this.handleSignIn}>Sign here</span>\r\n            </div>}\r\n            {!isLogin && <span className=\"back-to-login\" onClick={this.handleLogin}>Back to Login</span>}\r\n            {/* </div> */}\r\n          </form>\r\n        </section>\r\n      </>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, onSignup, onLogin, onLogout } from '../store/user.actions';\r\nimport { loadStations } from '../store/station.actions';\r\n// import FacebookLogin from 'react-facebook-login';\r\nimport Avatar from 'react-avatar';\r\nimport { LoginSignupForm } from './login-signup-form';\r\n\r\n\r\nclass _UserPrifile extends Component {\r\n    state = {\r\n        loginOrSignup: null,\r\n        isLoggedIn: false,\r\n        credentials: {\r\n            username: null,\r\n            password: null,\r\n            fullname: null,\r\n            facebookUserId: null,\r\n            img: null\r\n            // facebookEmail: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n    getInitialCredentials = () => {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            fullname: '',\r\n            facebookUserId: null,\r\n            img: null\r\n        }\r\n    }\r\n    setLoginOrSignup = (loginOrSignup) => {\r\n\r\n        this.setState(prevState => ({ ...prevState, credentials: this.getInitialCredentials(), loginOrSignup }))\r\n        // this.setState({ loginOrSignup })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, credentials: { ...prevState.credentials, [key]: val } }))\r\n    }\r\n    closeForm = () => {\r\n        this.setLoginOrSignup(null)\r\n    }\r\n    onSubmit = async (credentials) => {\r\n        // let credentials = this.state.credentials\r\n        if (this.state.loginOrSignup === \"Login\") {\r\n            // if (!isFacebookLogin)\r\n            // credentials = { username: this.state.credentials.username, password: this.state.credentials.password }\r\n            await this.props.onLogin(credentials)\r\n        } else {\r\n            // credentials = { ...this.state.credentials, userPref: this.props.user.userPref }\r\n            credentials.userPref = this.props.user.userPref\r\n            await this.props.onSignup(credentials)\r\n        }\r\n        this.setLoginOrSignup(null)\r\n        await this.props.loadUser()\r\n        await this.props.loadStations()\r\n    }\r\n\r\n    facebookComponentClicked = () => {\r\n    }\r\n\r\n    responseFacebook = async response => {\r\n        try {\r\n\r\n            const newCredentials = {\r\n                username: response.email,\r\n                password: response.userID,\r\n                fullname: response.name,\r\n                facebookUserId: response.userID,\r\n                img: response.picture.data.url\r\n            }\r\n            this.setLoginOrSignup(null)\r\n            this.setState(prevState => ({ ...prevState, credentials: newCredentials }),\r\n                () => this.onSubmit(true))\r\n        }\r\n        catch {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loginOrSignup } = this.state\r\n        const { user } = this.props\r\n        if (!user) return <></>\r\n        return (\r\n            <>\r\n                <div className=\"profiler\">\r\n                    <Menu menuButton={\r\n                        <MenuButton title={user.username}>\r\n                            <Avatar size=\"50\" src={user.img ? user.img : \"https://cdn-icons-png.flaticon.com/512/149/149071.png\"} round={true} />\r\n                        </MenuButton>}>\r\n                        {user.username === \"guest\" &&\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Login\")}>Login</MenuItem>\r\n                        }\r\n                        {user.username === \"guest\" ?\r\n                            <MenuItem onClick={() => this.setLoginOrSignup(\"Signup\")}>Signup</MenuItem> :\r\n                            <MenuItem onClick={async () => {\r\n                                await this.props.onLogout()\r\n                                await this.props.loadUser()\r\n                                this.props.loadStations()\r\n                            }\r\n                            }>Logout</MenuItem>\r\n                        }\r\n                    </Menu>\r\n\r\n                    {/* ori */}\r\n\r\n                </div>\r\n                {loginOrSignup && <LoginSignupForm onSubmit={this.onSubmit}\r\n                    isLogin={loginOrSignup === 'Login' ? true : false}\r\n                    closeForm={this.closeForm} />}\r\n\r\n\r\n                {/* <div className={`create-playlist ${loginOrSignup ? \"on\" : \"off\"}`} >\r\n                    <div className=\"header\">\r\n                        <h1>{loginOrSignup}</h1>\r\n                        <button onClick={() => this.setLoginOrSignup(null)}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"username\"\r\n                                label=\"Username\"\r\n                                value={credentials.username}\r\n                                name=\"username\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            {loginOrSignup === \"Signup\" &&\r\n                                <TextField\r\n                                    className=\"fullname\"\r\n                                    label=\"Full Name\"\r\n                                    value={credentials.fullname}\r\n                                    name=\"fullname\"\r\n                                    autoComplete=\"off\"\r\n                                    onChange={this.handleChange}\r\n                                />}\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Password\"\r\n                                ref='password'\r\n                                hintText=\"Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                type=\"password\"\r\n                                value={credentials.password}\r\n                                name=\"password\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"40px\", background: '#1db954' }} variant=\"contained\"\r\n                                    onClick={this.onSubmit}>\r\n                                    {loginOrSignup}\r\n                                </Button>\r\n                                <Button style={{ height: \"40px\", background: '#1E90EA' }} variant=\"contained\"\r\n                                    className=\"facebook-login-btn-wrapper-ddd\"\r\n                                    onClick={(e) => e.preventDefault()} >\r\n                                    {loginOrSignup === \"Signup\" ? 'Signup with facebook' : 'Login with facebook'}\r\n\r\n                                    <FacebookLogin\r\n                                        className=\"facebook-login-btn\"\r\n                                        appId=\"992060094973798\"\r\n                                        autoLoad={true}\r\n                                        fields=\"name,email,picture\"\r\n                                        onClick={this.facebookComponentClicked}\r\n                                        callback={this.responseFacebook} />\r\n\r\n                                </Button>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/** Ori - I've uncomment this */}\r\n                {/* <div className={`body-modal ${loginOrSignup ? \"on\" : \"off\"}`} onClick={() => this.setLoginOrSignup(null)}></div> */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onSignup,\r\n    onLogin,\r\n    onLogout,\r\n    loadStations\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserPrifile)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { FavoriteArtists } from '../cmps/favorite-artists.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\nimport { UserProfile } from '../cmps/profile.jsx';\r\n\r\nclass _Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            goodDayStations: [],\r\n            hotStations: [],\r\n            likedStations: '',\r\n            recentlyPlayedStations: [],\r\n            numOfPreviews: 5\r\n        }\r\n        this._isMounted = false;\r\n    }\r\n\r\n    resizer\r\n    handleRisize = (entries) => {\r\n        const viewPortWidth = entries[0].contentRect.width\r\n        if (viewPortWidth > 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 7 }))\r\n        else if (viewPortWidth >= 1560 && viewPortWidth < 1760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 6 }))\r\n        else if (viewPortWidth >= 1360 && viewPortWidth < 1560)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 5 }))\r\n        else if (viewPortWidth >= 1160 && viewPortWidth < 1360)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 4 }))\r\n        else if (viewPortWidth >= 960 && viewPortWidth < 1160)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth >= 760 && viewPortWidth < 960)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else if (viewPortWidth >= 685 && viewPortWidth < 760)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 3 }))\r\n        else if (viewPortWidth < 685 && viewPortWidth >= 475)\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n        else {\r\n            this.setState(prevState => ({ ...prevState, numOfPreviews: 2 }))\r\n\r\n        }\r\n\r\n    }\r\n    async componentDidMount() {\r\n        this._isMounted = true\r\n        await this.props.loadUser();\r\n        await this.props.loadStations();\r\n        // console.log('this pros stations', this.props.stations);\r\n        if (this._isMounted)\r\n            await this.getLikedStation()\r\n        const goodDayStations = await stationServiceNew.getGoodDay()\r\n        const hotStations = await stationServiceNew.getHot()\r\n        if (this._isMounted)\r\n            this.setState({ goodDayStations, hotStations })\r\n        this.resizer = new ResizeObserver(this.handleRisize)\r\n        this.resizer.observe(document.querySelector('.main-app'))\r\n        // }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps.user?._id !== this.props.user?._id) {\r\n            await this.props.loadStations();\r\n            if (this._isMounted)\r\n                await this.getLikedStation()\r\n        }\r\n    }\r\n\r\n    getTime = () => {\r\n        var today = new Date()\r\n        var curHr = today.getHours()\r\n\r\n        if (curHr < 12) {\r\n            return 'Good morning'\r\n        } else if (curHr < 18) {\r\n            return 'Good afternoon'\r\n        } else {\r\n            return 'Good evening'\r\n        }\r\n    }\r\n    getLikedStation = async () => {\r\n        // console.log('getting Liked Station');\r\n        let unresolvedPromisesLike = await this.props.user.likedStations.map((stationId => {\r\n            return stationServiceNew.getStationById(stationId);\r\n        }\r\n        ))\r\n        let unresolvedPromisesStation = await this.props.user.recentlyPlayedStations.map((stationId => {\r\n            // console.log('recentlyPlayedStations', this.props.user.recentlyPlayedStations);\r\n            return stationServiceNew.getStationById(stationId);\r\n            // return stationServiceNew.getStation(stationId);\r\n        }\r\n        ))\r\n        let a = await Promise.all(unresolvedPromisesLike)\r\n        let b = await Promise.all(unresolvedPromisesStation)\r\n        const results = await Promise.all([a, b]);\r\n        // if (!this._isMounted) return\r\n        // console.log('recentlyPlayed', results[1]);\r\n        this.setState({ likedStations: results[0], recentlyPlayedStations: results[1] })\r\n    }\r\n\r\n    render() {\r\n        let { stations, user } = this.props\r\n        stations = stations.filter(station => station.genre !== 'likedTracks')\r\n        const { likedStations, numOfPreviews, goodDayStations, hotStations } = this.state\r\n        let { recentlyPlayedStations } = this.state\r\n        recentlyPlayedStations = recentlyPlayedStations.filter(station => station.genre !== 'likedTracks')\r\n        if (!stations || !this.props.user || !likedStations || !recentlyPlayedStations) return <Loading />\r\n        return (\r\n\r\n            <div className=\"home-page\">\r\n                <UserProfile />\r\n                <div className=\"shadow\">\r\n                    <div className=\"hero\">\r\n                        <h1>Listen to your favorite music on <span className=\"logo\">Lotify<span>.</span></span></h1>\r\n                    </div>\r\n                </div>\r\n                <section className='station-container'>\r\n                    <div className='card card-top'>\r\n                        <div className='card-header'>\r\n                            <h1>{this.getTime()}</h1>\r\n                        </div>\r\n                        {\r\n                            user.userPref ?\r\n                                <FavoriteArtists artists={user.userPref.slice(0, 6)} /> :\r\n                                <FavoriteArtists artists={[{ artist: 'justin bieber', img: 'https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }, { artist: 'michael jackson', img: 'https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo' }]} />\r\n                        }\r\n                    </div>\r\n                    <MainLayout>\r\n                        {\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Good day</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {goodDayStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(goodDayStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n\r\n                        }\r\n                        {\r\n                            user.username === 'guest' &&\r\n                            <div className='card'>\r\n                                <div className='card-header'>\r\n                                    <h3>Hot right now</h3>\r\n                                </div>\r\n                                <div className=\"flex genre\">\r\n                                    {hotStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(hotStations.length, numOfPreviews))}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Stations you liked</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {likedStations &&\r\n                                    likedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(likedStations.length, numOfPreviews))}\r\n                            </div>\r\n                        </div>\r\n                        <div className='card'>\r\n                            <div className='card-header'>\r\n                                <h3>Recently played</h3>\r\n                            </div>\r\n                            <div className=\"flex genre\">\r\n                                {recentlyPlayedStations &&\r\n                                    recentlyPlayedStations.map((station => <StationPreview key={station._id}\r\n                                        station={station} />)).slice(0, Math.min(recentlyPlayedStations.length, numOfPreviews))}\r\n                            </div>\r\n                        </div>\r\n                    </MainLayout>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStations,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/heart-regular.a71c24fa.svg\";","\r\nimport { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\r\nimport '@szhsin/react-menu/dist/index.css';\r\nimport '@szhsin/react-menu/dist/transitions/slide.css';\r\nimport { eventBusService, showSuccessMsg, showErrorMsg } from '../services/event-bus.service';\r\nimport { addToNextQueue, setCurrTrack, setQueue } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport isPlying from '../assets/img/isPlaying.gif'\r\nimport { stationServiceNew } from '../services/station.service';\r\nimport { utilService } from '../services/util.service';\r\n\r\nclass _TrackPreview extends Component {\r\n    state = {\r\n        isLike: false\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //to get Stations from store to the AddToPlaylist render\r\n        let user = await this.props.user\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = await this.props.user\r\n        }\r\n        //track save as object\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        if (trackIdxs.includes(this.props.track.id)) {\r\n\r\n            this.setState({ isLike: true })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if ((prevProps.track.id !== this.props.track.id) || (this.props.user?.likedTracks?.length !== prevProps.user?.likedTracks?.length)) {\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user\r\n            }\r\n            const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n            if (trackIdxs.includes(this.props.track.id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    getTimeFromDuration = (duration) => {\r\n        var hours = 0;\r\n        var minutes = 0;\r\n        var seconds = 0;\r\n        duration = duration.replace('PT', '');\r\n        if (duration.indexOf('H') > -1) {\r\n            var hours_split = duration.split('H');\r\n            hours = parseInt(hours_split[0]);\r\n            duration = hours_split[1];\r\n        }\r\n        if (duration.indexOf('M') > -1) {\r\n            var minutes_split = duration.split('M');\r\n            minutes = parseInt(minutes_split[0]);\r\n            duration = minutes_split[1];\r\n        }\r\n        if (duration.indexOf('S') > -1) {\r\n            var seconds_split = duration.split('S');\r\n            seconds = parseInt(seconds_split[0]);\r\n        }\r\n        var str = \"\";\r\n        if (hours !== 0) { str += hours + \":\" }\r\n        if (minutes === 0) { str += `00:` }  // '00' + ':'\r\n        else if (minutes < 10) { str += `0${minutes}:` } //    \"0\" + minutes + \":\"\r\n        else if (minutes > 10) { str += minutes + \":\" }\r\n        else if (minutes === 0) { str += \"00:\" }\r\n        if (seconds > 0 && seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds < 10) { str += \"0\" + seconds; }\r\n        else if (seconds > 10) { str += seconds; }\r\n        else if (seconds === 0) { str += \"00\" }\r\n        return str;\r\n    }\r\n\r\n    onAddToStation = async (track, stationId = null) => {\r\n        if (!stationId) {\r\n            stationId = this.props.currStation\r\n        }\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        if (stationToUpdate.songs.some(song => song.id === track.id)) {\r\n            showErrorMsg('This Track already exists in this station ')\r\n            return\r\n        }\r\n\r\n        stationToUpdate.songs.push(track)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        showSuccessMsg('Add to station')\r\n    }\r\n\r\n    onRemoveFromStation = async (track, stationId) => {\r\n        let stationToUpdate = await stationServiceNew.getStationById(stationId)\r\n        const trackIdx = stationToUpdate.songs.findIndex(song => track.id === song.id)\r\n        stationToUpdate.songs.splice(trackIdx, 1)\r\n        await stationServiceNew.saveStation(stationToUpdate)\r\n        if (this.props.currStation) {\r\n            this.props.loadStation()\r\n        }\r\n        showErrorMsg('Removed from Station')\r\n    }\r\n\r\n    playTrack = async (track, idx) => {\r\n\r\n        const { currStation, queue, currTrack, playNextQueue } = this.props\r\n        let songs\r\n        if (currStation) {//only if clicking on station details not from queue!\r\n            songs = [...currStation.songs];\r\n        } else {\r\n            if (queue.length && queue.some(trackFromQueue => track.id === trackFromQueue.id)) {//From Queue\r\n                songs = [...queue, currTrack]\r\n            } else {//from search\r\n                if (playNextQueue.length && playNextQueue.some(trackFromQueue => track.id === trackFromQueue.id)) {\r\n                    songs = [...queue, currTrack]\r\n                }\r\n                else {\r\n                    songs = [track]\r\n                }\r\n            }\r\n\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        if (!track.nextQueue) {\r\n            await this.props.setQueue(songs, currStation?._id)\r\n        }\r\n    }\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLike: !this.state.isLike }, () => {\r\n            if (this.state.isLike) {\r\n                this.props.addLikeToTrack(this.props.track, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.track.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { track, idx, currStation, stations } = this.props\r\n        return (\r\n            // onClick={this.playTrack(track, idx)}\r\n            //button-cell\r\n            <div className=\"track-container flex\" onClick={() => this.playTrack(track, idx)}>\r\n                {this.props.currTrack && this.props.currTrack?.id === track.id && this.props.isPlaying &&\r\n                    <div className=\"track-num\"> < img className='isPlaying' src={isPlying} alt=\"player symbol\" /></div>\r\n                }\r\n                {(!this.props.currTrack || this.props.currTrack.id !== track.id || !this.props.isPlaying) &&\r\n                    <div className=\"track-num\">{idx + 1}</div>}\r\n                <div className=\"track-img\"><img src={track.imgUrl} alt=\"\" /></div>\r\n                <div className=\"track-title\">{track.title}</div>\r\n                <div className=\"track-duration\">{this.getTimeFromDuration(track.duration)}</div>\r\n                {!this.props?.isOnDeatils && <div className='likes'>\r\n                    {\r\n                        this.state.isLike && <span className='isLike fas fa-heart'\r\n                            onClick={this.toggleLike.bind(this)}></span>\r\n                    }\r\n                    {\r\n                        !this.state.isLike && <img alt=\"\" className='isnotLike' src={heartNotChecked}\r\n                            onClick={this.toggleLike.bind(this)} />\r\n                    }\r\n                </div>}\r\n                {\r\n\r\n                    !this.props?.isOnDeatils &&\r\n                    <div className=\"button-cell track-actions\" onClick={(ev) => { ev.stopPropagation() }}>\r\n                        <Menu menuButton={\r\n                            <MenuButton><i className=\"fas fa-ellipsis-h\"></i></MenuButton>}>\r\n                            <MenuItem onClick={() => this.props.addToNextQueue(track)}>Add To queue</MenuItem>\r\n                            {currStation && <MenuItem onClick={() => {\r\n                                this.onRemoveFromStation(track, currStation._id)\r\n\r\n                            }\r\n                            }>Remove from Playlist</MenuItem>}\r\n                            <SubMenu label=\"Add to playlist\">\r\n                                {stations.map((station) => {\r\n                                    return (<MenuItem key={utilService.makeId()} onClick={() => { this.onAddToStation(track, station._id) }}>{station.name}</MenuItem>)\r\n                                })\r\n                                }\r\n                                <MenuItem onClick={() => eventBusService.emit(\"create-playlist\", track)}>Create playlist</MenuItem>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.props?.isOnDeatils &&\r\n                    <div className=\"add-track-wrapper\">\r\n                        <button className='add-track-btn' onClick={async (ev) => {\r\n                            ev.stopPropagation()\r\n                            await this.onAddToStation(track, this.props.stationId)\r\n                            await this.props.loadStation()\r\n                        }}>Add</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playNextQueue: state.stationMoudle.playNextQueue,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addToNextQueue,\r\n    setCurrTrack,\r\n    setQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack\r\n}\r\n\r\nexport const TrackPreview = connect(mapStateToProps, mapDispatchToProps)(_TrackPreview)","export default \"data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++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\"","import React from 'react'\r\n\r\nimport { TrackPreview } from './track-preview'\r\n\r\nexport function TrackList({ loadStation, songs, stationId, currStation, isOnDeatils }) {\r\n    return (<>\r\n        {songs.map((track, idx) => {\r\n            return <TrackPreview  stationId={stationId} isOnDeatils={isOnDeatils} key={track._id} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n        }\r\n        )}\r\n    </>\r\n    )\r\n}\r\n","import React from 'react'\r\n// import { StationDetails } from './station-details'\r\nimport { connect } from 'react-redux'\r\nimport { TrackList } from '../cmps/trackList'\r\nimport { setCurrTrack, addToNextQueue } from '../store/station.actions.js';\r\nimport { TrackPreview } from '../cmps/track-preview';\r\nimport { Link } from 'react-router-dom'\r\nimport { MainLayout } from '../cmps/layout/MainLayout';\r\n\r\nclass _Queue extends React.Component {\r\n    componentDidMount() {\r\n        document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n    }\r\n\r\n\r\n\r\n    onAddToNextQueue = (track) => {\r\n        this.props.addToNextQueue(track)\r\n    }\r\n    render() {\r\n\r\n        const songs = this.props.queue\r\n        if (!songs.length && !this.props.playNextQueue) return <div><span>Add to your queue</span>\r\n            <span>Tap \"Add to queue\" from a trackws menu to see it here</span>\r\n            <Link to='/search'>\r\n                <button>FIND SOMETHING TO PLAY</button>\r\n            </Link>\r\n        </div>\r\n\r\n\r\n        return (\r\n            <div className='queue-page'>\r\n                <MainLayout>\r\n                    <div className='station-track-list flex column'>\r\n                        <div className=\"queue-header\">\r\n                            <h2>Queue</h2>\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>New Playing</h4>\r\n                        </div>\r\n                        <div className=\"now-playing-container\">\r\n                            {\r\n                                this.props.currTrack &&\r\n                                <TrackPreview track={this.props.currTrack} idx={0} playTrack={() => { }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Playing Next Queue</h4>\r\n                        </div>\r\n                        <div className=\"playing-next-queue-container\">\r\n                            {\r\n                                this.props.playNextQueue &&\r\n                                <TrackList songs={this.props.playNextQueue} onAddToNextQueue={this.onAddToNextQueue} idx={0} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} />\r\n                            }\r\n                        </div>\r\n                        <div className=\"queue-sub-header\">\r\n                            <h4>Queue</h4>\r\n                        </div>\r\n                        <div className=\"queue-container\">\r\n\r\n                            {\r\n                                songs &&\r\n                                <TrackList songs={songs} playTrack={async (track, idx) => { await this.props.setCurrTrack(track, idx) }} onAddToNextQueue={this.onAddToNextQueue} />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </MainLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        queue: state.stationMoudle.queue,\r\n        playNextQueue: state.stationMoudle.playNextQueue\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue\r\n}\r\n\r\n\r\nexport const Queue = connect(mapStateToProps, mapDispatchToProps)(_Queue)\r\n\r\n","export default __webpack_public_path__ + \"static/media/mood-search.5f7ab9d0.jpg\";","export default __webpack_public_path__ + \"static/media/pop-search.b2ca6b17.jpg\";","export default __webpack_public_path__ + \"static/media/chill-search.8a0cf644.jpg\";","export default __webpack_public_path__ + \"static/media/summer-search.82683c03.jpeg\";","export default __webpack_public_path__ + \"static/media/latin-search.98aae0b0.jpg\";","export default __webpack_public_path__ + \"static/media/jazz-search.1a2264a3.jpg\";","export default __webpack_public_path__ + \"static/media/indie-search.68a13156.jpg\";","export default __webpack_public_path__ + \"static/media/wellness-search.9ebcb4b9.jpg\";","export default __webpack_public_path__ + \"static/media/sleep-search.44c526f7.jpg\";","export default __webpack_public_path__ + \"static/media/decades-search.677f0d60.jpg\";","export default __webpack_public_path__ + \"static/media/workout-search.1349d7b6.jpg\";","export default __webpack_public_path__ + \"static/media/party-search.eb2ad37f.jpg\";","export default __webpack_public_path__ + \"static/media/focus-search.4c8a3730.jpg\";","export default __webpack_public_path__ + \"static/media/alternativ-search.11db08a9.jpg\";","export default __webpack_public_path__ + \"static/media/travel-search.2ded0578.jpg\";","export default __webpack_public_path__ + \"static/media/soul-search.34659cee.jpg\";","export default __webpack_public_path__ + \"static/media/funk-search.b77d7780.jpg\";","export default __webpack_public_path__ + \"static/media/metal-search.8c9b428e.jpg\";","export default __webpack_public_path__ + \"static/media/classical-search.2e798a07.jpg\";","export default __webpack_public_path__ + \"static/media/blues-search.94b8b153.jpg\";","import { TrackList } from './trackList';\r\nimport React from 'react'\r\n// import { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultTrack extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n\r\n                <div className='grid-search-result-container'>\r\n                    <span className='title'>songs</span>\r\n                    {trackResult.length &&\r\n                        <TrackList songs={trackResult.slice(0, 5)} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n                    }\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","// import { TrackList } from './trackList';\r\nimport React from 'react'\r\n// import { TrackPreview } from './track-preview';\r\nimport { StationPreview } from './station-preview';\r\n\r\nexport class SearchResultStation extends React.Component {\r\n    state = {\r\n        stationResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { stationResult } = this.props\r\n        this.setState({ stationResult })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.stationResult !== prevProps.stationResult) {\r\n            const { stationResult } = this.props\r\n            this.setState({ stationResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { stationResult } = this.state\r\n        if (!stationResult || !stationResult.length) return <div>No station found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <h1 className='title'>Station</h1>\r\n                <div className='playlist-container flex'>\r\n                    <div className=\"flex genre\">\r\n                        {stationResult.map((station => <StationPreview key={station._id} station={station} />))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import { TrackList } from './trackList';\r\nimport React from 'react'\r\n// import { TrackPreview } from './track-preview';\r\n\r\nexport class SearchResultStationDetails extends React.Component {\r\n    state = {\r\n        trackResult: null,\r\n    }\r\n    componentDidMount() {\r\n        const { trackResult } = this.props\r\n        this.setState({ trackResult })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.trackResult !== prevProps.trackResult) {\r\n            const { trackResult } = this.props\r\n            this.setState({ trackResult })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { trackResult } = this.state\r\n        if (!trackResult || !trackResult.length) return <div>No track found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                <TrackList loadStation={this.props.loadStation} stationId={this.props.stationId} isOnDeatils={true} songs={trackResult} playTrack={this.props.playTrack} onAddToNextQueue={this.props.onAddToNextQueue} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import storageService from './storage.service'\r\nimport axios from 'axios'\r\n// import { stationServiceNew } from './station.service';\r\n// const KEY = 'stations';\r\nlet songCache = []\r\nexport const youtubeApiService = {\r\n    searchTrack,\r\n    getStationByTag,\r\n}\r\n\r\nasync function searchTrack(keySerch) {\r\n    if (!keySerch) return []\r\n    songCache = storageService.loadFromStorage([keySerch])\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${keySerch}&type=video&videoCategoryId=10&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let idxs = res.data.items.map(track => track.id.videoId)\r\n        idxs = idxs.join()\r\n\r\n        let duration = await axios.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${idxs}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        duration = duration.data.items.map(track => track.contentDetails.duration)\r\n        songCache = res.data\r\n        if (!res.data?.items.length) return []\r\n        const trackResult = res.data.items.map((track, idx) => {\r\n            return {\r\n                id: track.id.videoId,\r\n                title: track.snippet.title,\r\n                imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                duration: duration[idx]\r\n            }\r\n        })\r\n\r\n        await storageService.saveToStorage([keySerch], trackResult)\r\n        return trackResult\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function getStationByTag(tagName) {\r\n    let songCache = storageService.loadFromStorage(tagName + \"playlist\")\r\n    if (songCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (songCache)\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&q=${tagName}&type=playlist&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n        let stations = await res.data.items.map(async (station) => {\r\n            let songs = await axios.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=10&playlistId=${station.id.playlistId}&key=AIzaSyBM9DnPair7lsEiaBpo0qeE55Ok8ncDkks`)\r\n            songs = [...songs.data.items]\r\n            songs = songs.filter(song => song.snippet.title !== 'Private video')\r\n            return {\r\n                genre: tagName,\r\n                name: station.snippet.title,\r\n                tags: [tagName],\r\n                createdBy: {\r\n                    _id: \"u101\",\r\n                    fullname: \"app\",\r\n                    imgUrl: \"http://some-photo\"\r\n                },\r\n                songs: songs.map(song => {\r\n                    return {\r\n                        id: song.snippet.resourceId.videoId,\r\n                        title: song.snippet.title,\r\n                        imgUrl: song.snippet.thumbnails.high ? song.snippet.thumbnails.high.url :\r\n                            song.snippet.thumbnails.default.url,\r\n                        duration: \"PT4M26S\"\r\n\r\n                    }\r\n                })\r\n\r\n\r\n                // songs: songs.data.items.map((track) => {\r\n                //     if (track.snippet.title === \"Private video\") return\r\n                //     return {\r\n                //         id: track.snippet.resourceId.videoId,\r\n                //         title: track.snippet.title,\r\n                //         imgUrl: track.snippet.thumbnails.high ? track.snippet.thumbnails.high.url : track.snippet.thumbnails.default.url,\r\n                //         duration: \"PT4M26S\"\r\n                //     }\r\n                // }).filter(track => track)\r\n\r\n            }\r\n        })\r\n        stations = await Promise.all(stations)\r\n        await storageService.saveToStorage(tagName + 'playlist', stations)\r\n        //stations = await stationServiceNew.saveStation(stations[0])\r\n        return stations\r\n    }\r\n    catch (err) {\r\n        console.log('Cannot reach server:', err);\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport mood from '../assets/img/mood-search.jpg';\r\nimport pop from '../assets/img/pop-search.jpg';\r\nimport chill from '../assets/img/chill-search.jpg';\r\nimport summer from '../assets/img/summer-search.jpeg';\r\nimport latin from '../assets/img/latin-search.jpg';\r\nimport jazz from '../assets/img/jazz-search.jpg';\r\nimport indie from '../assets/img/indie-search.jpg';\r\nimport wellness from '../assets/img/wellness-search.jpg';\r\nimport sleep from '../assets/img/sleep-search.jpg';\r\nimport decades from '../assets/img/decades-search.jpg';\r\nimport workout from '../assets/img/workout-search.jpg';\r\nimport party from '../assets/img/party-search.jpg';\r\nimport focus from '../assets/img/focus-search.jpg';\r\nimport alternativ from '../assets/img/alternativ-search.jpg';\r\nimport travel from '../assets/img/travel-search.jpg';\r\nimport soul from '../assets/img/soul-search.jpg';\r\nimport funk from '../assets/img/funk-search.jpg';\r\nimport metal from '../assets/img/metal-search.jpg';\r\nimport classical from '../assets/img/classical-search.jpg';\r\nimport blues from '../assets/img/blues-search.jpg';\r\n//import { debounce, throttle } from 'lodash';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setCurrTrack, addToNextQueue, setQueue } from '../store/station.actions.js';\r\nimport { SearchResultTrack } from '../cmps/searchResultTrack';\r\nimport { SearchResultStation } from '../cmps/searchResultStation';\r\nimport { SearchResultStationDetails } from '../cmps/searchResultStationDetails';\r\nimport { stationServiceNew } from '../services/station.service';\r\nimport { youtubeApiService } from '../services/youtubeApi.service';\r\nvar _ = require('lodash');\r\n\r\n\r\nclass _Search extends React.Component {\r\n    state = {\r\n        keySearch: null,\r\n        isOnSearch: false,\r\n        trackResult: null,\r\n        stationResult: null\r\n\r\n    }\r\n\r\n    //delayedHandleChange = _.debounce(eventData => stationService.searchTrack(eventData), 700);\r\n\r\n\r\n\r\n    delayedHandleChange = _.debounce(async () => {\r\n        if (!this.state.keySearch) return\r\n        let trackResult;\r\n        let stationResult;\r\n        if (this.props?.isOnDeatils) {\r\n            trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            stationResult = []\r\n        }\r\n        else {\r\n            trackResult = await youtubeApiService.searchTrack(this.state.keySearch);\r\n            stationResult = await stationServiceNew.searchStation(this.state.keySearch);\r\n            var stationResultApi = await youtubeApiService.getStationByTag(this.state.keySearch);\r\n            if (stationResultApi)\r\n                if (!stationResult.some(result => result.name === stationResultApi[0].name))\r\n                    stationResult = stationResult.concat(stationResultApi)\r\n        }\r\n        if (!trackResult) {\r\n            trackResult = []\r\n        }\r\n        // if (trackResult.length === 0) return\r\n        // else {\r\n        this.setState({ trackResult, stationResult }, () => {\r\n            this.setState({ isOnSearch: true });\r\n\r\n        })\r\n        // }\r\n    }, 700);\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n    moveScrollDwon = _.debounce(async () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        if (homePage)\r\n            homePage.scrollTop = homePage.scrollHeight - 700\r\n    }, 800)\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.setState({ keySearch: target.value }, () => {\r\n            if (this.state.keySearch === '' || this.state.keySearch === ' ') {\r\n                this.setState({ isOnSearch: false })\r\n                return\r\n            }\r\n            this.delayedHandleChange(this.state.keySearch)\r\n            this.moveScrollDwon()\r\n        })\r\n\r\n    }\r\n\r\n    onPlayTrack = async (track = null, idx = null) => {\r\n        if (!track && !idx) {\r\n            this.setState(prevState => ({ ...prevState }))\r\n            return\r\n        }\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([track], idx)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { trackResult, isOnSearch, stationResult } = this.state\r\n        return (\r\n            <section className='search'>\r\n                <MainLayout>\r\n                    <form onSubmit={(ev) => ev.stopPropagation()}>\r\n                        <input type='text' placeholder='Artists, songs or podcasts ' onChange={this.handleChange} />\r\n                    </form>\r\n                    {!this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultTrack trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStation stationResult={stationResult.slice(0, 2)} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    {this.props?.isOnDeatils && <div>\r\n                        {\r\n                            isOnSearch &&\r\n                            <SearchResultStationDetails loadStation={this.props.loadStation} stationId={this.props.stationId} trackResult={trackResult} playTrack={this.onPlayTrack} />\r\n                        }\r\n                    </div>}\r\n                    <div className='title'>Browse all</div>\r\n                    <div className='grid-container-search'>\r\n                        <Link to=\"station/pop\">\r\n                            <div className=\"grid-element-1\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>pop</span>\r\n                                <img src={pop} alt=\"\" />\r\n                            </div>\r\n                        </Link>\r\n                        <Link to=\"station/chill\">\r\n                            <div className=\"div3\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>chill</span> <img src={chill} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/party\">\r\n                            <div className=\"div4\" style={{ backgroundColor: 'rgb(175, 40, 150)' }} ><span>party</span><img src={party} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/focus\">\r\n                            <div className=\"div5\" style={{ backgroundColor: 'rgb(80, 55, 80)' }}><span>focus</span><img src={focus} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/alternative\">\r\n                            <div className=\"div6\" style={{ backgroundColor: 'rgb(180, 155, 200)' }}><span>alternativ</span><img src={alternativ} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/summer\">\r\n                            <div className=\"div14\" style={{ backgroundColor: 'rgb(255, 200, 100)' }}><span>summer</span><img src={summer} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/indie\">\r\n                            <div className=\"div7\" style={{ backgroundColor: 'rgb(96, 129, 8)' }}><span>indie</span><img src={indie} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/latin\">\r\n                            <div className=\"div19\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>latin</span><img src={latin} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/wellness\">\r\n                            <div className=\"div8\" style={{ backgroundColor: 'rgb(71, 125, 149)' }}><span>wellness</span><img src={wellness} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/sleep\">\r\n                            <div className=\"div9\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>sleep</span><img src={sleep} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/decade\">\r\n                            <div className=\"div10\" style={{ backgroundColor: 'rgb(186, 93, 7)' }}><span>decades</span><img src={decades} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/workout\">\r\n                            <div className=\"div11\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>workOut</span><img src={workout} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/at-home\">\r\n                            <div className=\"div12\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>at Home</span><img src={wellness} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/travel\">\r\n                            <div className=\"div13\" style={{ backgroundColor: 'rgb(45, 70, 185)' }}><span>travel</span><img src={travel} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/souls\">\r\n                            <div className=\"div15\" style={{ backgroundColor: 'rgb(220, 20, 140)' }}><span>soul</span><img src={soul} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/jazz\">\r\n                            <div className=\"div16\" style={{ backgroundColor: 'rgb(30, 50, 100)' }}><span>jazz</span><img src={jazz} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/funk\">\r\n                            <div className=\"div17\" style={{ backgroundColor: 'rgb(230, 30, 50)' }}><span>funk</span><img src={funk} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/mood\">\r\n                            <div className=\"grid-element-2\" style={{ backgroundColor: 'rgb(141, 103, 171)' }}><span>mood</span><img src={mood} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/metal\">\r\n                            <div className=\"div18\" style={{ backgroundColor: 'rgb(119, 119, 119)' }}><span>metal</span><img src={metal} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/classical\">\r\n                            <div className=\"div20\" style={{ backgroundColor: 'rgb(225, 51, 0)' }}><span>classical</span><img src={classical} alt=\"\" /></div>\r\n                        </Link>\r\n                        <Link to=\"station/blues\">\r\n                            <div className=\"div21\" style={{ backgroundColor: 'rgb(13, 115, 236)' }}><span>blues</span><img src={blues} alt=\"\" /></div>\r\n                        </Link>\r\n\r\n                    </div>\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    addToNextQueue,\r\n    setQueue\r\n}\r\n\r\n\r\nexport const Search = connect(mapStateToProps, mapDispatchToProps)(_Search)","import { SortableElement } from 'react-sortable-hoc';\r\nimport { TrackPreview } from './track-preview';\r\n\r\n\r\nexport const DraggableTrackPreview = SortableElement(({ track, idx, currStation, loadStation, key }) => {\r\n  return (\r\n    <TrackPreview key={key} track={track} idx={idx} currStation={currStation} loadStation={loadStation} />\r\n  )\r\n});","import React from 'react';\r\nimport { SortableContainer } from 'react-sortable-hoc';\r\nimport { DraggableTrackPreview } from './draggable-track-preview';\r\n\r\n\r\n\r\n\r\nexport const DraggableTrackList = SortableContainer(({ songs, currStation, loadStation, \r\n}) => {\r\n  \r\n  //const sliceNum = isShowAll ? songs.length : 7\r\n  //sliceNum = songs.length>10 \r\n  return (\r\n    <div className=\"station-track-list flex column\">\r\n      <div className=\"list-headers flex\">\r\n        <div className=\"track-num-header\">#</div>\r\n        <div className=\"track-img-header\"></div>\r\n        <div className=\"track-title-header\">Title</div>\r\n        <div className=\"duration-header\">◷</div>\r\n        <div className=\"likes-header\"></div>\r\n        <div className=\"actions-header\">actions</div>\r\n      </div>\r\n      {\r\n\r\n        songs.map((track, idx) => {\r\n          return <DraggableTrackPreview key={track.id} index={idx} track={track} idx={idx}\r\n            currStation={currStation} loadStation={loadStation} />\r\n        })\r\n\r\n      }\r\n\r\n    </div>\r\n  )\r\n});\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setCurrTrack, addToNextQueue, setQueue, loadStations, toggleIsPlaying, setPlay } from '../store/station.actions.js';\r\nimport { addLikeToTrack, loadUser, removeLikeFromTrack } from '../store/user.actions';\r\nimport stationImg from '../assets/img/stationImg.jpg'\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport { DraggableTrackList } from '../cmps/draggable-track-list.jsx';\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { Search } from './search.jsx';\r\nimport { stationServiceNew } from '../services/station.service.js';\r\nimport { youtubeApiService } from '../services/youtubeApi.service.js';\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\nimport { Loading } from '../cmps/Loading.jsx';\r\n// import { utilService } from '../services/util.service.js';\r\n// import { userService } from '../services/user.service.js';\r\n\r\nclass _StationDetails extends Component {\r\n    state = {\r\n        stationId: null,\r\n        station: null,\r\n        isPlaying: false,\r\n        songs: null,\r\n        isLike: false,\r\n        isFindMore: false,\r\n        isShowAll: false\r\n    }\r\n    async componentDidMount() {\r\n        await this.loadStation()\r\n        let { user } = this.props\r\n        if (!user) {\r\n            await this.props.loadUser();\r\n            user = this.props.user\r\n        }\r\n        if (this.state.station && this.state.station._id) {\r\n            if (user.likedStations.includes(this.state.station._id)) {\r\n                this.setState({ isLike: true })\r\n            }\r\n            else this.setState({ isLike: false })\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        const { stationId } = this.props.match.params\r\n        if (prevProps.user?.likedTracks.length !== this.props.user?.likedTracks.length) return this.loadStation()\r\n        if (stationId !== this.state.station?._id && stationId !== this.state.station?.genre) {\r\n            await this.loadStation()\r\n            let user = await this.props.user\r\n            // if (!user) {\r\n            //     await this.props.loadUser();\r\n            //     user = await this.props.user\r\n            // }\r\n            if (this.state.station) {\r\n                if (user.likedStations.includes(this.state.station._id)) {\r\n                    this.setState({ isLike: true })\r\n                }\r\n                else this.setState({ isLike: false })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    loadStation = async () => {\r\n        const { stationId } = this.props.match.params;\r\n        let station\r\n        try {\r\n            station = await stationServiceNew.getStationFromLocal(stationId)//search in local storage\r\n            if (!station) {\r\n                if (stationId.length === 24) {\r\n                    station = await stationServiceNew.getStationById(stationId)\r\n                }\r\n                else {\r\n                    station = await stationServiceNew.getStationByGenre(stationId)\r\n                }\r\n            }\r\n            if (!station) {\r\n                console.log('by api');\r\n                station = await youtubeApiService.getStationByTag(stationId)\r\n                if (station) {\r\n                    station = station[0]\r\n                }\r\n            }\r\n            let user;\r\n            if (stationId === 'likedTracks') {\r\n                user = await this.props.user\r\n                if (!user) {\r\n                    await this.props.loadUser();\r\n                    user = await this.props.user\r\n                }\r\n                station.songs = [...user.likedTracks]\r\n            }\r\n            if (station) {\r\n                this.setState({\r\n                    station, stationId: station._id ? station._id : station.genre,\r\n                    songs: station.songs\r\n                })\r\n            }\r\n            else this.setState({ station: [] })\r\n            console.log('station is ', station);\r\n        }\r\n        catch {\r\n            console.log('had issues');\r\n        }\r\n    }\r\n\r\n    playRandTrack = async () => {\r\n        // console.log(this.);\r\n        if (!this.props.currTrack || this.props.playedStation !== this.state.station._id ||\r\n            this.props.playedStation !== this.state.station.genre\r\n        ) {\r\n            const songs = [...this.state.station.songs];\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            // if (!this.state.station._id)\r\n            //     await this.props.setQueue([...songs], this.state.station.genre)\r\n            // else\r\n            console.log('playing rand track', this.state.stationId);\r\n            await this.props.setQueue([...songs], this.state.stationId);\r\n        }\r\n        this.props.toggleIsPlaying()\r\n    }\r\n\r\n\r\n    onSortEnd = ({ oldIndex, newIndex }) => {\r\n        const { station } = this.state\r\n        station.songs = arrayMoveImmutable(station.songs, oldIndex, newIndex)\r\n        this.setState((prevState) => ({ ...prevState, station }), () => {\r\n            if (this.props.currTrack && this.props.playedStation === this.state.stationId) {\r\n                this.props.setQueue([...station.songs], this.state.stationId)\r\n            }\r\n        })\r\n    }\r\n\r\n    toggleLike = async (ev, stationOrTrack) => {\r\n        ev.stopPropagation()\r\n        this.setState(prevState => {\r\n            return { ...prevState, isLike: !this.state.isLike }\r\n        }, () => this.handleToggleLike(stationOrTrack))\r\n    }\r\n\r\n    handleToggleLike = async (stationOrTrack) => {\r\n        if (this.state.isLike) {\r\n            //if the station is from the search\r\n            if (!this.state.station._id) {\r\n                const stationToSave = await stationServiceNew.saveStation(this.state.station)\r\n                this.setState({ station: stationToSave })\r\n                await this.props.addLikeToTrack(stationToSave._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n            else {\r\n                this.props.addLikeToTrack(this.state.station._id, stationOrTrack)\r\n                showSuccessMsg('Saved to Your Library')\r\n            }\r\n        }\r\n        else {\r\n            this.props.removeLikeFromTrack(this.state.station._id, stationOrTrack)\r\n            showErrorMsg('Removed from Your Library')\r\n        }\r\n        // const { stationId } = this.state\r\n        this.loadStation()\r\n\r\n    }\r\n\r\n\r\n    handleFindMore = () => {\r\n        this.setState({ isFindMore: !this.state.isFindMore }, () => {\r\n            this.moveSrollDown()\r\n        });\r\n\r\n    }\r\n\r\n    moveSrollDown = () => {\r\n        const homePage = document.querySelector('.station-details')\r\n        homePage.scrollTop = homePage.scrollHeight\r\n    }\r\n\r\n    render() {\r\n        const { station, isFindMore } = this.state;\r\n        const { stationId } = this.props.match.params;\r\n        if (!station) return <Loading />\r\n        // console.log('this.props.playedStation === station._id', this.props.playedStation === station._id);\r\n        // console.log('this.props.playedStation === station.genre', this.props.playedStation === station.genre);\r\n        // console.log('isPlaying', this.props.isPlaying);\r\n        return (\r\n            <section className='station-details'>\r\n                <div className=\"station-head flex\">\r\n                    {station.songs?.length > 0 &&\r\n                        <img src={station.img ? station.img : `${station.songs[0].imgUrl}`} alt=\"\" />\r\n                    }\r\n                    {!station.songs.length &&\r\n                        <img src={stationImg} alt=\"\" />\r\n                    }\r\n                    <div className=\"title-details\">\r\n                        <p>Playlist</p>\r\n                        <h1>{station.name}</h1>\r\n                        <ul className=\"clean-list flex\">\r\n                            <li>{station.createdBy?.fullname}</li>\r\n                            <li>{station.songs.length} songs</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <Link className=\"fas back fa-chevron-left\" to=\"/\"></Link>\r\n                <div className='bar-action flex'>\r\n                    <button className=\"play-rand\" onClick={this.playRandTrack}>\r\n                        <i className={this.props.isPlaying && (this.props.playedStation === station._id ||\r\n                            this.props.playedStation === station.genre) ? \"fas fa-pause\" : \"fas fa-play\"}></i>\r\n                    </button>\r\n\r\n                    {\r\n                        (stationId !== 'likedTracks' && this.state.isLike) && <span className='isLike fas fa-heart' style={{ fontSize: \"32px\" }} onClick={(ev) => { this.toggleLike(ev, 'station') }} ></span>\r\n                    }\r\n                    {\r\n                        (stationId !== 'likedTracks' && !this.state.isLike)\r\n                        && <img alt=\"\" className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev, 'station') }}\r\n                        />\r\n                    }\r\n                </div>\r\n                <MainLayout>\r\n\r\n                    <DraggableTrackList songs={station.songs} currStation={station}\r\n                        axis='xy' loadStation={this.loadStation} onSortEnd={this.onSortEnd}\r\n                        distance={20} />\r\n                    <div className='show-btn flex'>\r\n                        {<div className={`find-more ${!isFindMore ? \"green\" : \"\"}`} onClick={this.handleFindMore}>\r\n                            {isFindMore ? 'Find less' : 'Find more tracks!'}\r\n                        </div>}\r\n                    </div>\r\n                    {isFindMore &&\r\n                        <>\r\n                            <span>Let's find something to your station</span>\r\n                            <Search loadStation={this.loadStation} stationId={this.state.stationId} isOnDeatils={true}\r\n                            />\r\n                        </>\r\n                    }\r\n                </MainLayout>\r\n            </section >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        user: state.userMoudle.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    setPlay,\r\n    loadStations,\r\n    addToNextQueue,\r\n    addLikeToTrack,\r\n    loadUser,\r\n    removeLikeFromTrack,\r\n    toggleIsPlaying,\r\n}\r\n\r\n\r\nexport const StationDetails = connect(mapStateToProps, mapDispatchToProps)(_StationDetails)","import { toggleIsPlaying } from '../store/station.actions.js';\r\nimport { setCurrTrack, setQueue, setCurrStation, setPlay } from '../store/station.actions.js';\r\nimport { loadUser } from '../store/user.actions';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass _LikedSongsPreview extends React.Component {\r\n\r\n    state = {\r\n        songs: []\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadUser();\r\n        let user = this.props.user\r\n        this.setState(ps => ({ ...ps, songs: user.likedTracks }))\r\n    }\r\n    playRandTrack = async () => {\r\n        const { station, currStation } = this.props\r\n        let songs;\r\n        if (!currStation || station._id !== currStation._id) {\r\n\r\n            let user = await this.props.user\r\n            if (!user) {\r\n                await this.props.loadUser();\r\n                user = await this.props.user;\r\n            }\r\n            songs = [...user.likedTracks]\r\n            const idx = Math.floor(Math.random() * (songs.length))\r\n            const track = songs[idx]\r\n            await this.props.setCurrTrack(track, idx);\r\n            await this.props.setQueue([...songs], station._id);\r\n            this.props.setCurrStation(station)\r\n            this.props.setPlay()\r\n        }\r\n        else {\r\n            this.props.toggleIsPlaying()\r\n        }\r\n    }\r\n\r\n    navigateToStation = (stationId) => {\r\n        this.props.history.push(`/station/${stationId}`)\r\n    }\r\n    render() {\r\n        const { station, currStation, isPlaying } = this.props\r\n        const { songs } = this.state\r\n        if (!station) return <div> not found</div>\r\n        return (\r\n            <div className=\"station-preview liked-songs-link\" onClick={() => this.navigateToStation(station.genre)}>\r\n                <div className=\"station-name-header\">\r\n                    <h3>{station.name}</h3>\r\n                    <span>{`${songs.length} liked songs`}</span>\r\n                </div>\r\n                <p className=\"station-desc\">\r\n                    {songs.reduce((songStr, song) => {\r\n                        songStr += song.title\r\n                        return songStr;\r\n                    }, '')}\r\n\r\n                    {/* .slice(0, 30) + '...'} */}\r\n                </p>\r\n                <div className=\"liked-songs-play-icon-container\" onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    this.playRandTrack()\r\n                }}>\r\n                    <i className={`play-icon ${isPlaying && (station?._id === currStation?._id) ? \"fas fa-pause\" : \"fas fa-play\"}`}></i>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        queue: state.stationMoudle.queue,\r\n        currTrack: state.stationMoudle.currTrack,\r\n        currStation: state.stationMoudle.currStation,\r\n        user: state.userMoudle.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setCurrTrack,\r\n    setQueue,\r\n    toggleIsPlaying,\r\n    loadUser,\r\n    setCurrStation,\r\n    setPlay\r\n}\r\n\r\n\r\nconst __LikedSongsPreview = connect(mapStateToProps, mapDispatchToProps)(_LikedSongsPreview)\r\nexport const LikedSongsPreview = withRouter(__LikedSongsPreview);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\n\r\nimport { StationPreview } from '../cmps/station-preview.jsx';\r\nimport { LikedSongsPreview } from '../cmps/liked-songs-preview.jsx';\r\nimport { loadStations } from '../store/station.actions.js';\r\n\r\nclass _Stations extends Component {\r\n  state = {\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadStations();\r\n    document.body.style.backgroundImage = ' linear-gradient(#03080d, #121212)'\r\n\r\n  }\r\n\r\n\r\n  getLikedSongsStation = (stations) => {\r\n    return stations.find(station => station.genre === 'likedTracks')\r\n  }\r\n\r\n  render() {\r\n    let { stations } = this.props\r\n    if (!stations) return <h1>loading...</h1>\r\n    const likedSongsStation = this.getLikedSongsStation(stations)\r\n    stations = stations.filter(station => station.genre !== 'likedTracks')\r\n    return (\r\n      <div className=\"stations-page\">\r\n        <MainLayout>\r\n          <div className=\"stations-container-new\">\r\n            <header className=\"stations-header\">\r\n              <h1>Playlists</h1>\r\n            </header>\r\n            <section className='stations-cards'>\r\n              {/* <div className=\"flex\"> */}\r\n              <LikedSongsPreview station={likedSongsStation} />\r\n              {stations.map(station => <StationPreview key={station._id} station={station} />)}\r\n              {/* </div> */}\r\n            </section>\r\n            {/* </div> */}\r\n          </div>\r\n        </MainLayout >\r\n\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stations: state.stationMoudle.stations\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadStations,\r\n}\r\n\r\n\r\nexport const Stations = connect(mapStateToProps, mapDispatchToProps)(_Stations)","export default __webpack_public_path__ + \"static/media/gramophone.fe94f89c.png\";","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { MainLayout } from '../cmps/layout/MainLayout.jsx';\r\nimport { setUserPref, loadUser } from '../store/user.actions'\r\n// import { userService } from '../services/user.service.js';\r\nimport logo from '../assets/img/gramophone.png'\r\n\r\n\r\n\r\nclass _UserPref extends Component {\r\n    state = {\r\n        artists: [],\r\n        // artists: [{ artist: 'ed sheeran', img: 'https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo' },\r\n        // { artist: 'billie eilish', img: 'https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo' }\r\n        // ]\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadUser()\r\n    }\r\n\r\n\r\n    selectArtist = ({ target }, artist) => {\r\n        if (target.parentElement.classList.contains('selected')) return\r\n        target.parentElement.classList.add('selected')\r\n        const img = target.parentElement.children[0].src;\r\n\r\n        this.setState((prevState) => ({ artists: [...prevState.artists, { artist, img }] }), () => {\r\n            if (this.state.artists.length === 4) {\r\n                this.props.setUserPref([...this.state.artists])\r\n            }\r\n        })\r\n        // this.props.loadUser()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { stations, user } = this.props\r\n        if (!stations || !user) return <h1>loading...</h1>\r\n        if (user.userPref.length === 4) {\r\n            // console.log('here 4 prefs');\r\n            return <Redirect to='/home' />\r\n        }\r\n        // else {\r\n        //     console.log('user prefs are' + user.userPref.length);\r\n        // }\r\n        return (\r\n            <div className=\"user-pref\">\r\n                <header>\r\n                    <h1>Choose 4 of your favorite artists</h1>\r\n                    <p>Improve your experience</p>\r\n                </header>\r\n                <MainLayout>\r\n                    <div className=\"artists\">\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kaleo')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrZSbWTyBAENocILL6FsPxL0FcSRdA0XNnDExc8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kaleo</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'donald glover')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR54qbXPUrgKCf0tmiquuqTiYDElO_Cekw-pSCs_g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Donald Glover</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'sia')}>\r\n                            <img src=\"https://yt3.ggpht.com/0xb0rVHF2QHhnmQA5xKQiqPPPuq0gQbHkM8zCvR4vEpvWDNhSSJYUuGXmWZHAjNHJYebQim2=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Sia</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'justin bieber')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTKwkiuIDMtT7w-C55QJm3-FxExhi3So7EWofYGuQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Justin Bieber</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'led zepplin')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRfwQJh6x8tdSDOPuMENrMgWxp6c9Wyi4k5dL3QeA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Led Zeppelin</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'eminem')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSk-AeebphZllYPnC6dyL4Ebaufx9EfWWcpWi5kvw=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Eminem</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ed sheeran')}>\r\n                            <img src=\"https://yt3.ggpht.com/2uiMtw7drxpcP4J7s61C0x1cK_fdX0Fp_RJ9t9l-RVnal24xyqSLPhIkWYN2I8QneubJAA8J_Fo=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ed Sheeran</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'ariana grande')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRrULhlsqTk0LW6WZ4ufoPC2vRrI-Hv7iQMcwALzA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Ariana Grande</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'nirvana')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTcKOFg-V_beC58driCSWsjY01b2yASCkXpLo6z=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Nirvana</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'avicii')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRxjYtdXH5SpVo0Hbgj-MV9iSYOZkPnyGBPX3dBtQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Avicii</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'motzart')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR-UxFlle0Li25HB_1AmFLgE1EZ5oF5lsGIojom=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Motzart</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beyonce')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSYFl86h5I9oWxAlUCb9ujyZVYus_NrMBnLnQZq=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beyoncé</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'taylor swift')}>\r\n                            <img src=\"https://yt3.ggpht.com/MqKm9xyjonzkICKA78ir0AM-WUR47ntkBeJlgHeIk_rUnPuukiWtzOEmU7UjO8cFoPrBatCh3As=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Taylor Swift</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'blink 182')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLS9wSSSch2T5RCOqeWes0CQPq6CuE7n6BH6SGqp9g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Blink-182</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'twenty one pilots')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLShoAv85PyHPQZXkdEYAirEFkVlHT7QL0SO4jnLPQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Twenty one pilots</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'coldplay')}>\r\n                            <img src=\"https://yt3.ggpht.com/gDGaWA0ykI0RuD-x0tOtlZQp_pmfqXMastg2rAJhCoGXeG7a44LL0BlSOZ1nQpuaj5apqzjxa4Y=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Coldplay</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'imagine dragons')}>\r\n                            <img src=\"https://yt3.ggpht.com/aXBmHKABw-J-0ZMxj39wkXpLDEHViOdL5UD71cDG2s5vbeQBWk9mdX3rRxT5U6Wfkvm6o8Uu-dU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Imagine Dragons</h3>\r\n\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'AC-DC')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLR5p4C0mvYOySvgi0lcJEQ2b9GQ5RENU_js8bHV=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>AC/DC</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'martin garrix')}>\r\n                            <img src=\"https://yt3.ggpht.com/in7ji16oeon_ypiAMeH-ZdTWSaIC54yZqMsFg0X3uhTBk4MDCuIkRf6TIoQQCqjl20DSdakhSQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Martin Garrix</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'chainsmokers')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLReODCO_8A0kTfEi7hIofuikdVUmLtUI31Y3JTk8g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Chainsmokers</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'stromae')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRmW311L8rsVEfFzaHyrhrSlxLBdMpzimz6IbmjFQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Stromae</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'billie eilish')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTAirqzFYUbcrpr8K0Bh8iDCZvBopbEb3K9klVNBA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Billie Eilish</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'james arthur')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTBGfA-SCl13HK2wvNgIlYp4csR75r4iedoDbDQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>James Arthur</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'metallica')}>\r\n                            <img src=\"https://yt3.ggpht.com/cZ87jDcUyng8WCTC_FZIZhtjd0VQIoyla_GLOCqCJwiePKbnsgMFAoJlJXO3JUdIDiG0U-W-Q-U=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Metallica</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'beartooth')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLTrxAVj8B25pE4f3QOevhtu2aQPCeu9s6JSqR9hOg=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Beartooth</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'michael jackson')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRKkpURBGspdclOcPs6lr2Ds0S6VEIWIImSCQ63iA=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Michael Jackson</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'lily allen')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSlQDVT6TciEB3aqI4j98pAANAN37aLz6TIUCVX1g=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Lily Allen</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the lumineers')}>\r\n                            <img src=\"https://yt3.ggpht.com/JeSo37nuDNtXpYeRCXkdSd0BY1EBwOX3DjsoI7h5qS8qtURwdacx87aGyLsW-Zt_xHst5YN0j2A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Lumineers</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'the neighbourhood')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLQuDzCsZ6o-eJrE-VN4V6hEvVasPCudmbpW1etVWQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>The Neighbourhood</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'aerosmith')}>\r\n                            <img src=\"https://yt3.ggpht.com/GVz2Q0BOmqNFKQvNXSoC5rVJWqvsajttYdF0VN6lYfwK2Misv-NJr_5akFEHxc8YkyGquGoZ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Aerosmith</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'earth wind and fire')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLSluhlgTQdg-VPnftxDahd5w3uqU7gZzQ2HN2Ocig=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Earth ,wind and fire </h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'MGMT')}>\r\n                            <img src=\"https://yt3.ggpht.com/uAFVZ2fFM7MshpUPfUxDWC_zZoXS9LYYKVu9WtmERQsei97F7oG0EJxLKZpmIxCBk-ZO6I2FiQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>MGMT</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'bruno mars')}>\r\n                            <img src=\"https://yt3.ggpht.com/ytc/AKedOLRRqICmdfNojkf55KFwEqi1A2Yh0dcSyIsXxkOWmFM=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Bruno Mars</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'kanye west')}>\r\n                            <img src=\"https://yt3.ggpht.com/OZ6-K14IWCEu6rgIgmox9cID8hTUObJ9uPn_BRwr4O1CNyB_u6N3BqpaztggGYfKVv4rdR0zPYU=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Kanye West</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'tash sultana')}>\r\n                            <img src=\"https://yt3.ggpht.com/iWAic-fKa7o7IGIzND9MiSKPqjL6Kb3fkd4gr_jRX7tKkjOMgZ5Ems3COKImBF8-szRTswzU8A=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Tash Sultana</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                        <div className=\"circle-container\" onClick={(ev) => this.selectArtist(ev, 'milky chance')}>\r\n                            <img src=\"https://yt3.ggpht.com/rxuJTmm-nGWtgvPdVyePl4PdDIwhEopv78WM7jyj6UI3ChJYjCOMd7c_AbuYSdzYMs2AMCu1WQ=s800-c-k-c0xffffffff-no-rj-mo\" alt=\"\" onError={(e) => { e.target.onerror = null; e.target.src = logo }} />\r\n                            <h3>Milky Chance</h3>\r\n                            <i className=\"fas fa-check\"></i>\r\n                        </div>\r\n                    </div>\r\n                </MainLayout >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stations: state.stationMoudle.stations,\r\n        user: state.userMoudle.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setUserPref,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const UserPref = connect(mapStateToProps, mapDispatchToProps)(_UserPref)","//import {HomePage} from './pages/home-page.jsx'\r\n//import {AboutUs} from './pages/about-us.jsx'\r\n//import {CarApp} from './pages/car-app.jsx'\r\n\r\nimport { Friends } from \"./pages/friends\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Queue } from \"./pages/queue\";\r\nimport { Search } from \"./pages/search\";\r\n// import { Signin } from \"./pages/signin\";\r\n// import { Signup } from \"./pages/signup\";\r\nimport { StationDetails } from \"./pages/station-details\";\r\nimport { Stations } from \"./pages/stations\";\r\nimport { UserPref } from \"./pages/user-pref\";\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: UserPref,\r\n    },\r\n\r\n    {\r\n        path: '/home',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/station/:stationId',\r\n        component: StationDetails,\r\n    },\r\n    {\r\n        path: '/queue',\r\n        component: Queue,\r\n    },\r\n    {\r\n        path: '/friends',\r\n        component: Friends,\r\n    },\r\n    {\r\n        path: '/search',\r\n        component: Search\r\n    },\r\n    {\r\n        path: '/stations',\r\n        component: Stations\r\n    }\r\n\r\n\r\n]\r\n\r\nexport default routes;","import React, { Component } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Slider from '@mui/material/Slider';\r\nimport ReactPlayer from 'react-player'\r\nimport { connect } from 'react-redux'\r\nimport { setFriendCurrTrack } from '../store/friends.actions.js'\r\n\r\nimport {\r\n    setPlay, playNextTrack, playPrevTrack, shuffleQueue, toggleIsPlaying,\r\n    setCurrTrack, setQueue, unshuffleQueue, setCurrStation, loadStations\r\n} from '../store/station.actions.js';\r\nimport { Duration } from '../services/util.service';\r\nimport { withRouter } from \"react-router\";\r\nimport heartNotChecked from '../assets/img/heart-regular.svg';\r\nimport { addLikeToTrack, loadUsers, removeLikeFromTrack } from '../store/user.actions';\r\nimport { showErrorMsg, showNotificationMsg, showSuccessMsg } from '../services/event-bus.service.js';\r\nimport { socketService } from '../services/socket.service'\r\n\r\n\r\n\r\nclass _AppFooter extends Component {\r\n    state = {\r\n        volume: 30,\r\n        isPlayedTrack: false,\r\n        played: 0,\r\n        loaded: 0,\r\n        duration: 0,\r\n        inQueue: false,\r\n        isShuffle: false,\r\n        isLiked: false,\r\n        trackAndUsers: [],\r\n    }\r\n    async componentDidMount() {\r\n        // debugger\r\n        await this.props.loadUsers()\r\n        socketService.setup()\r\n        socketService.on('send notification', (obj) => {\r\n            showNotificationMsg(obj.username + ' liked your playlist: ' + obj.stationName)\r\n            //eventBusService.emit(obj.username)\r\n        })\r\n        socketService.on('send follow notification', (username) => {\r\n\r\n            showNotificationMsg(username + ' followd you')\r\n            //eventBusService.emit(username)\r\n        })\r\n        socketService.on('user track', ({ track, user }) => {\r\n            this.props.setFriendCurrTrack({ track, user, currLoginUser: this.props.user })\r\n        })\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevstate) {\r\n        if (this.props.currTrack !== prevProps.currTrack) {\r\n            socketService.emit('play track', { track: this.props.currTrack, user: this.props.user })\r\n            this.isTrackLiked()\r\n            //this.props.toggleIsPlaying();\r\n            // this.props.setPlay()\r\n            this.setState({ played: 0, duration: 0 })\r\n        }\r\n        if (!this.props.user || !prevProps.user) return\r\n        if (this.props.user.likedTracks.length !== prevProps.user.likedTracks.length) {\r\n            this.isTrackLiked()\r\n        }\r\n    }\r\n\r\n    isTrackLiked = () => {\r\n        if (!this.props.currTrack) return\r\n        const trackIdxs = this.props.user.likedTracks.map(track => track.id)\r\n        const isLiked = trackIdxs.includes(this.props.currTrack.id)\r\n        this.setState({ isLiked })\r\n        return isLiked\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        this.setState({ volume: newValue });\r\n    }\r\n\r\n    playRandTrack = async () => {\r\n        if (!this.props.stations.length) {\r\n            console.log('puki ba');\r\n            await this.props.loadStations()\r\n        }\r\n        let { stations } = this.props\r\n        let randIdx = Math.floor(Math.random() * (stations.length))\r\n        let station = stations[randIdx]\r\n        while (station.genre && station.genre === 'likedTracks') {\r\n            randIdx = Math.floor(Math.random() * (stations.length))\r\n            station = stations[randIdx]\r\n        }\r\n        const songs = [...station.songs];\r\n        const idx = Math.floor(Math.random() * (songs.length))\r\n        const track = songs[idx]\r\n        await this.props.setCurrTrack(track, idx);\r\n        await this.props.setQueue([...songs], station._id);\r\n        this.props.setCurrStation(station)\r\n        this.props.setPlay()\r\n    }\r\n\r\n    togglePlay = async () => {\r\n        if (!this.props.currTrack) {\r\n            await this.playRandTrack()\r\n        }\r\n        else if (this.state.isLoaded)\r\n            this.props.toggleIsPlaying();\r\n\r\n        // original code\r\n        // if (this.state.isLoaded)\r\n        // this.props.toggleIsPlaying();\r\n    }\r\n\r\n\r\n    handleSeekMouseDown = e => {\r\n        if (!this.props.currTrack) return\r\n        this.setState({ seeking: true })\r\n    }\r\n\r\n    handleSeekChange = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ played: parseFloat(e.target.value) },\r\n        )\r\n    }\r\n\r\n    handleSeekMouseUp = e => {\r\n        if (!this.props.currTrack) return\r\n\r\n        this.setState({ seeking: false })\r\n        this.player.seekTo(parseFloat(e.target.value))\r\n    }\r\n\r\n    handleProgress = state => {\r\n        // We only want to update time slider if we are not currently seeking\r\n        if (!this.state.seeking) {\r\n            this.setState(state)\r\n        }\r\n    }\r\n\r\n\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    ref = player => {\r\n        this.player = player\r\n    }\r\n\r\n\r\n    goNext = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    goShuffle = () => {\r\n        if (this.state.isShuffle) {\r\n            this.props.unshuffleQueue(this.props.playedStation)\r\n        } else {\r\n            this.props.shuffleQueue([...this.props.queue])\r\n        }\r\n        this.setState({ isShuffle: !this.state.isShuffle })\r\n    }\r\n\r\n    goPrev = () => {\r\n        this.props.playPrevTrack()\r\n    }\r\n    handleDuration = (duration) => {\r\n        this.setState({ duration })\r\n    }\r\n\r\n    handleEnded = () => {\r\n        this.props.playNextTrack()\r\n    }\r\n\r\n    inQueue = async () => {\r\n        this.setState({ inQueue: !this.state.inQueue }, () => {\r\n            if (this.state.inQueue)\r\n                this.props.history.push(`/queue`)\r\n            else {\r\n                this.props.history.goBack()\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    toggleLike = async (ev) => {\r\n        ev.stopPropagation()\r\n        this.setState({ isLiked: !this.state.isLiked }, () => {\r\n            if (this.state.isLiked) {\r\n\r\n                this.props.addLikeToTrack(this.props.currTrack, 'track')\r\n                showSuccessMsg(\"Add to your Liked Tracks\")\r\n            }\r\n            else {\r\n                this.props.removeLikeFromTrack(this.props.currTrack.id, 'track')\r\n                showErrorMsg(\"Removed from your Liked Tracks\")\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    onGoToplaylist = () => {\r\n        if (!this.props.playedStation) return\r\n        this.props.history.push(`/station/${this.props.playedStation}`)\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { played, duration, volume, isShuffle } = this.state\r\n        const { isPlaying } = this.props\r\n        const track = this.props.currTrack\r\n        return (\r\n            <div className=\"player-container\">\r\n                {\r\n                    track &&\r\n                    <div className='player'>\r\n                        <ReactPlayer\r\n                            ref={this.ref}\r\n                            playing={isPlaying}\r\n                            url={`https://www.youtube.com/watch?v=${track.id}`}\r\n                            // onDuration={this.onDuration}\r\n                            // onProgress={this.onProgress}\r\n                            width='0px'\r\n                            heigth='0px'\r\n                            volume={volume / 100}\r\n                            onProgress={this.handleProgress}\r\n                            onDuration={this.handleDuration}\r\n                            onReady={() => { this.setState({ isLoaded: true }) }}\r\n                            controls={false}\r\n                            onEnded={this.handleEnded}\r\n                            muted={false}\r\n                        />\r\n                    </div>\r\n                }\r\n                <div className='playing-bar'>\r\n                    <div className='song-name-bar'>\r\n                        <div className='img-container-player'>\r\n                            {\r\n                                track &&\r\n                                <img onClick={this.onGoToplaylist} className='track-img' src={track.imgUrl} alt=\"track\" />\r\n                            }\r\n                        </div>\r\n                        <div onClick={this.onGoToplaylist} className=\"song-name\">\r\n                            <p>\r\n                                {track ? track.title : \"\"}\r\n                            </p>\r\n                        </div>\r\n                        {track && <div className=\"like-heart\">\r\n                            {\r\n                                this.state.isLiked && <span className='isLike fas fa-heart' onClick={(ev) => { this.toggleLike(ev) }}></span>\r\n                            }\r\n                            {\r\n                                !this.state.isLiked && <img className='isnotLike' src={heartNotChecked} onClick={(ev) => { this.toggleLike(ev) }} alt=\"like\" />\r\n                            }\r\n                        </div>}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"player-controls\">\r\n                        <div className=\"player-controls-btn flex\">\r\n                            <span className={isShuffle ? \"fas fa-random green\" : \"fas fa-random\"} onClick={this.goShuffle}></span>\r\n\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goPrev}></span>\r\n\r\n                            {\r\n                                isPlaying &&\r\n                                <span className=\"fas fa-pause\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            {\r\n                                !isPlaying &&\r\n                                <span className=\"fas fa-play\" onClick={this.togglePlay}></span>\r\n                            }\r\n                            <span className=\"fas fa-step-forward\" onClick={this.goNext}></span>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <div className='played-input flex'>\r\n                            <Duration seconds={duration * played} />\r\n                            <input\r\n                                type='range' min={0} max={0.999999} step='any'\r\n                                value={played}\r\n                                onMouseDown={this.handleSeekMouseDown}\r\n                                onChange={(ev) => this.handleSeekChange(ev)}\r\n                                onMouseUp={this.handleSeekMouseUp}\r\n                            />\r\n                            <Duration seconds={duration} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"volume\">\r\n                        <div className='queue-btn'>\r\n                            <span onClick={this.inQueue} className={this.state.inQueue ? \"fas fa-outdent green\" : \"fas fa-outdent\"}></span>\r\n                        </div>\r\n                        <Box sx={{ width: 200 }}>\r\n                            <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n                                {volume === 0 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-mute\"></span>}\r\n                                {volume > 0 && volume < 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-down\"></span>}\r\n                                {volume > 50 &&\r\n                                    <span /*onClick={this.handleToggleMuted}*/ className=\"fas fa-volume-up\"></span>}\r\n                                <Slider aria-label=\"Volume\" value={volume} onChange={this.handleChange} style={{ color: '#1db954', width: \"150px\" }} />\r\n                            </Stack>\r\n                        </Box>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currTrack: state.stationMoudle.currTrack,\r\n        isPlaying: state.stationMoudle.isPlaying,\r\n        playedStation: state.stationMoudle.playedStation,\r\n        queue: state.stationMoudle.queue,\r\n        user: state.userMoudle.user,\r\n        stations: state.stationMoudle.stations,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    playNextTrack,\r\n    playPrevTrack,\r\n    shuffleQueue,\r\n    unshuffleQueue,\r\n    toggleIsPlaying,\r\n    setPlay,\r\n    setCurrStation,\r\n    addLikeToTrack,\r\n    removeLikeFromTrack,\r\n    setCurrTrack,\r\n    setQueue,\r\n    setFriendCurrTrack,\r\n    loadUsers,\r\n    loadStations\r\n}\r\n\r\n\r\nconst __AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(__AppFooter);\r\n","\r\n\r\nexport function setFriendCurrTrack({ track, user, currLoginUser }) {\r\n    return async (dispatch) => {\r\n        dispatch(\r\n            {\r\n                type: 'SET_FRIEND_CURR_TRACK',\r\n                track,\r\n                user,\r\n                currLoginUser\r\n            }\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { connect } from 'react-redux'\r\nimport { addStation } from '../store/station.actions.js';\r\n\r\nclass _CreateStation extends Component {\r\n    state = {\r\n        station: {\r\n            name: \"\",\r\n            tags: [],\r\n        },\r\n        songs: [],\r\n        isCreate: false\r\n    }\r\n\r\n    labelOptions = [\r\n        { value: \"happy\", label: \"happy\" },\r\n        { value: \"pop\", label: \"Pop\" },\r\n        { value: \"sad\", label: \"Sad\" },\r\n        { value: \"alternative\", label: \"Alternative\" },\r\n        { value: \"Rock\", label: \"Rock\" },\r\n        { value: \"rap\", label: \"Rap\" },]\r\n\r\n    componentDidMount() {\r\n        eventBusService.on(\"create-playlist\", this.create)\r\n    }\r\n\r\n    create = (track) => {\r\n        const songs = track ? [track] : []\r\n        this.setState({ isCreate: !this.state.isCreate, songs, station: { name: \"\", tags: [] } })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        if (Array.isArray(target)) {\r\n            let tags = target.map(option => option.value)\r\n            this.setState(prevState => ({ ...prevState, station: { ...prevState.station, tags } }))\r\n            return\r\n        }\r\n        const key = target.name\r\n        const val = target.value\r\n        this.setState(prevState => ({ ...prevState, station: { ...prevState.station, [key]: val } }))\r\n    }\r\n\r\n\r\n    onAddStation = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.station.name) { }\r\n        const newStation = {\r\n            name: this.state.station.name ? this.state.station.name : 'Playlist',\r\n            tags: this.state.station.tags,\r\n            likedByUsers: [],\r\n            songs: this.state.songs\r\n        }\r\n        this.props.addStation(newStation)\r\n        this.create()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isCreate, station } = this.state\r\n        // debugger\r\n        return (\r\n            <>\r\n                <div className={`create-playlist ${isCreate ? \"on\" : \"off\"}`} onSubmit={(ev) => { this.onAddStation(ev) }}>\r\n                    <div className=\"header\">\r\n                        <h1>Create Playlist</h1>\r\n                        <button className=\"create-close-btn\" onClick={this.create}>X</button>\r\n                    </div>\r\n                    <div className=\"body flex\">\r\n                        <form onSubmit={(ev) => ev.preventDefault()}>\r\n                            <TextField\r\n                                className=\"create-name\"\r\n                                label=\"Name\"\r\n                                value={station.name}\r\n                                name=\"name\"\r\n                                autoComplete=\"off\"\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <CreatableSelect\r\n                                onChange={(e) => this.handleChange({ 'target': e })}\r\n                                name='label'\r\n                                className=\"select\"\r\n                                closeMenuOnSelect={false}\r\n                                options={this.labelOptions}\r\n                                isMulti\r\n                                value={this.state.station.tags.map(tag => ({ value: tag, label: tag }))}\r\n                                placeholder=\"Tags...\"\r\n                            />\r\n                            <div className=\"buttons flex\">\r\n                                <Button style={{ height: \"33px\", background: '#1db954' }} variant=\"contained\" onClick={this.onAddStation}>\r\n                                    Create\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className={`body-modal ${isCreate ? \"on\" : \"off\"}`} onClick={this.create}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addStation\r\n}\r\n\r\n\r\nexport const CreateStation = connect(mapStateToProps, mapDispatchToProps)(_CreateStation)","export default __webpack_public_path__ + \"static/media/ringing.482c1707.png\";","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\nimport ringing from '../assets/img/ringing.png'\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 5000)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <></>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <div id={`toast`} className={`show  ${msgClass}`}><div id=\"img\">\r\n        <img style={{ height: '20px', width: \"20px\" }} src={ringing} alt=\"\" />\r\n      </div><div id=\"desc\"> {this.state.msg.txt}</div></div>\r\n      //<section className={'user-msg ' + msgClass}>\r\n      //  <button onClick={() => {\r\n      //    this.setState({ msg: null })\r\n      //  }}>x</button>\r\n      //  {this.state.msg.txt}\r\n      //</section>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport { MainNav } from './cmps/main-nav.jsx'\r\nimport routes from './routes.js'\r\nimport { AppFooter } from './cmps/app-footer.jsx'\r\nimport { CreateStation } from './cmps/create-playlist.jsx'\r\n// import { UserProfile } from './cmps/profile'\r\nimport { UserMsg } from './cmps/user-msg.jsx'\r\n// import { Signin } from './pages/signin.jsx'\r\n// import { Signup } from './pages/signup.jsx'\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {/*<Route exact component={Signin} path=\"/\" />\r\n                <Route exact component={Signup} path='/signup' />*/}\r\n                <main className=\"main-app\">\r\n                    <CreateStation />\r\n                    <MainNav />\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                    <UserMsg />\r\n                    <AppFooter />\r\n                </main>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/styles.scss'\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorkerRegistration.register()\r\n\r\n // If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n "],"sourceRoot":""}